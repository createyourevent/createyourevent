<ng-container *ngIf="loading">
    <div class="spinner-container">
        <p-progressSpinner></p-progressSpinner>
    </div>
</ng-container>
<ng-container *ngIf="!loading">
<jhi-alert-error></jhi-alert-error>

<mat-tab-group>
    <mat-tab>
      <ng-template mat-tab-label>
        <span jhiTranslate="product-detail.detail">Detail's</span>
      </ng-template>

      <div class="container-fluid">
        <div class="row box_green">
            <div class="col-md-8">
              <div class="title_motto">
                <h1><span class="title">{{ shop.name }}</span></h1>
                <h2>{{ shop.motto }}</h2>
              </div>
            </div>
            <div class="col-md-4">
                <div *ngIf="shop.logo!" class="margin-top">
                        <img [src]="'data:' + shop.logoContentType + ';base64,' + shop.logo" style="max-width: 375px;" alt="shop image" class="img-thumbnail"/>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <div class="row">
                    <div class="col-md-8">
                        <div class="box">
                            <div class="ql-snow">
                                <div class="ql-editor">
                                    <div [innerHTML]="shop.description | safeHtml"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="box">
                            <div>{{ address }}</div>
                            <div>{{ place }}</div>
                            <div>{{ land }}</div>
                        </div>
                        <div class="box">
                            <p-gmap #gmap [options]="options" [overlays]="overlays" [style]="{'width':'100%','height':'250px'}" (onMapReady)="setMap($event)"></p-gmap>
                        </div>
                        <div class="box">
                            <div>{{ shop.phone }}</div>
                            <div><a href="{{ shop.webAddress }}">{{ shop.webAddress }}</a></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </div>
        </mat-tab>

        <ng-container *ngIf="images.length > 0">
            <mat-tab>
                <ng-template mat-tab-label>
                    <span jhiTranslate="product-detail.gallery">Gallery</span>
                </ng-template>
                <jhi-gallery-shop [images]="images"></jhi-gallery-shop>
            </mat-tab>
        </ng-container>

        <ng-container *ngIf="mp3s.length > 0">
          <mat-tab>
              <ng-template mat-tab-label>
                  <span jhiTranslate="create-your-event-service-detail.mp3-player">MP3 player</span>
              </ng-template>
              <jhi-mp3-player [user]="user" [shop]="shop" [mp3s]="mp3s"></jhi-mp3-player>
          </mat-tab>
      </ng-container>

        </mat-tab-group>

        <div class="box_green">
            <jhi-product-list [products]="allProductsFromShop"></jhi-product-list>
        </div>

        <!--
        <div class="box_violet">
            <jhi-product-slider style="max-width: 800px; margin-top: 2em" orientation="horizontal" numVisible="4" numScroll="1" circular="true"  autoplayInterval="3000" [products]="allProductsFromShop"></jhi-product-slider>
        </div>
        -->

            <ng-container *jhiHasAnyAuthority="'ROLE_USER'">
                <hr/>
                    <jhi-like-dislike [like]="like" [dislike]="dislike" [disabled]="rated" (liked)="onVoted($event)"></jhi-like-dislike>
                    <jhi-star-rating [val]="stars" (rated)="onChangesStars($event)" [disabled]="ratedStars"></jhi-star-rating>
                <hr/>

            </ng-container>
            <hr/>
            <button type="submit"
                    (click)="previousState()"
                    class="btn btn-info">
                <fa-icon icon="arrow-left"></fa-icon>&nbsp;<span jhiTranslate="entity.action.back">Back</span>
            </button>
            <hr/>
            <ng-container *jhiHasAnyAuthority="'ROLE_USER'">
                <jhi-comment-box [comments]="comments" (comment)="onCommented($event)" (answer)="onAnswered($event)"></jhi-comment-box>
            </ng-container>
</ng-container>
