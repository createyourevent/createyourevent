{"ast":null,"code":"/**\n *  Slot Machine Generator\n *  Create an extremely biased, web-based slot machine game.\n *\n *  Copyright 2020-2023, Marc S. Brooks (https://mbrooks.info)\n *  Licensed under the MIT license:\n *  http://www.opensource.org/licenses/mit-license.php\n */\n\n'use strict';\n\n/**\n * @param {Element} container\n *   Containing HTML element.\n *\n * @param {Array<Object>} reels\n *   Reel configuration.\n *\n * @param {Function} callback\n *   Returns selected pay-line symbols.\n *\n * @param {Object} options\n *   Configuration overrides (optional).\n */\nfunction SlotMachine(container, reels, callback, options) {\n  const self = this;\n  const REEL_SEGMENT_TOTAL = 24;\n  const defaults = {\n    reelHeight: 1200,\n    reelWidth: 200,\n    reelOffset: 20,\n    slotYAxis: 0,\n    animSpeed: 1000,\n    sounds: {\n      reelsBegin: null,\n      reelsEnd: null\n    },\n    rngFunc: function () {\n      // The weakest link.\n      return Math.random();\n    }\n  };\n  (function () {\n    self.options = Object.assign(defaults, options);\n    if (reels.length > 0) {\n      initGame();\n    } else {\n      throw new Error('Failed to initialize (missing reels)');\n    }\n  })();\n\n  /**\n   * Initialize a new game instance.\n   */\n  function initGame() {\n    createDisplayElm();\n    createSlotElm();\n  }\n\n  /**\n   * Create display elements.\n   */\n  function createDisplayElm() {\n    const div = document.createElement('div');\n    div.classList.add('display');\n    for (let i = 0; i < reels.length; i++) {\n      const elm = document.createElement('div');\n      elm.style.transform = `rotateY(${self.options.slotYAxis}deg)`;\n      elm.classList.add('reel');\n      div.appendChild(elm);\n    }\n    div.addEventListener('click', () => spinReels());\n    container.appendChild(div);\n  }\n\n  /**\n   * Create slot elements.\n   */\n  function createSlotElm() {\n    const div = document.createElement('div');\n    div.classList.add('slots');\n    reels.forEach(reel => {\n      const elm = createReelElm(reel, reel.symbols[0].position);\n      div.appendChild(elm);\n    });\n    container.appendChild(div);\n  }\n\n  /**\n   * Create reel elements.\n   *\n   * @param {Object} config\n   *   Config options.\n   *\n   * @param {Number} startPos\n   *   Start position.\n   *\n   * @return {Element}\n   */\n  function createReelElm(config, startPos = 0) {\n    const div = document.createElement('div');\n    div.style.transform = `rotateY(${self.options.slotYAxis}deg)`;\n    div.classList.add('reel');\n    const elm = createStripElm(config, config.symbols[0].position);\n    config['element'] = elm;\n    div.appendChild(elm);\n    return div;\n  }\n\n  /**\n   * Create strip elements (faux-panoramic animation).\n   *\n   * @param {Object} config\n   *   Config options.\n   *\n   * @param {Number} startPos\n   *   Start position.\n   *\n   * @return {Element}\n   */\n  function createStripElm(config, startPos = 0) {\n    const stripHeight = getStripHeight();\n    const stripWidth = getStripWidth();\n    const segmentDeg = 360 / REEL_SEGMENT_TOTAL;\n    const transZ = Math.trunc(Math.tan(90 / Math.PI - segmentDeg) * (stripHeight * 0.5) * 4);\n    const marginTop = transZ + stripHeight / 2;\n    const ul = document.createElement('ul');\n    ul.style.height = stripHeight + 'px';\n    ul.style.marginTop = marginTop + 'px';\n    ul.style.width = stripWidth + 'px';\n    ul.classList.add('strip');\n    for (let i = 0; i < REEL_SEGMENT_TOTAL; i++) {\n      const li = document.createElement('li');\n      li.append(i.toString());\n      const imgPosY = getImagePosY(i, startPos);\n      const rotateX = REEL_SEGMENT_TOTAL * segmentDeg - i * segmentDeg;\n\n      // Position image per the strip angle/container radius.\n      li.style.background = `url(${config.imageSrc}) 0 ${imgPosY}px`;\n      li.style.height = stripHeight + 'px';\n      li.style.width = stripWidth + 'px';\n      li.style.transform = `rotateX(${rotateX}deg) translateZ(${transZ}px)`;\n      ul.appendChild(li);\n    }\n    return ul;\n  }\n\n  /**\n   * Select a random symbol by weight.\n   *\n   * @param {Array<Object>} symbols\n   *   List of symbols.\n   *\n   * @return {Object}\n   */\n  function selectRandSymbol(symbols) {\n    let totalWeight = 0;\n    const symbolTotal = symbols.length;\n    for (let i = 0; i < symbolTotal; i++) {\n      const symbol = symbols[i];\n      const weight = symbol.weight;\n      totalWeight += weight;\n    }\n    let randNum = getRandom() * totalWeight;\n    for (let j = 0; j < symbolTotal; j++) {\n      const symbol = symbols[j];\n      const weight = symbol.weight;\n      if (randNum < weight) {\n        return symbol;\n      }\n      randNum -= weight;\n    }\n  }\n\n  /**\n   * Spin the reels and try your luck.\n   */\n  function spinReels() {\n    const payLine = [];\n    if (callback) {\n      // Delay callback until animations have stopped.\n      payLine.push = function () {\n        Array.prototype.push.apply(this, arguments);\n        if (payLine.length === reels.length) {\n          const timer = window.setTimeout(() => {\n            self.isAnimating = false;\n            callback(payLine);\n            window.clearTimeout(timer);\n          }, self.options.animSpeed);\n        }\n      };\n    }\n    playSound(self.options.sounds.reelsBegin);\n    reels.forEach(reel => {\n      const selected = selectRandSymbol(reel.symbols);\n      const startPos = selected.position;\n\n      // Start the rotation animation.\n      const elm = reel.element;\n      elm.classList.remove('stop');\n      elm.classList.toggle('spin');\n\n      // Shift images to select position.\n      elm.childNodes.forEach((li, index) => {\n        li.style.backgroundPositionY = getImagePosY(index, startPos) + 'px';\n      });\n\n      // Randomly stop rotation animation.\n      const timer = window.setTimeout(() => {\n        elm.classList.replace('spin', 'stop');\n        playSound(self.options.sounds.reelsEnd);\n        payLine.push(selected);\n        window.clearTimeout(timer);\n      }, self.options.animSpeed * getRandomInt(1, 4));\n    });\n  }\n\n  /**\n   * Get random number between 0 (inclusive) and 1 (exclusive).\n   *\n   * @return {number}\n   */\n  function getRandom() {\n    return self.options.rngFunc();\n  }\n\n  /**\n   * Get random integer between two values.\n   *\n   * @param {Number} min\n   *   Minimum value (default: 0).\n   *\n   * @param {Number} max\n   *   Maximum value (default: 10).\n   *\n   * @return {Number}\n   */\n  function getRandomInt(min = 1, max = 10) {\n    const minNum = Math.ceil(min);\n    const maxNum = Math.floor(max);\n    return Math.floor(getRandom() * (Math.floor(maxNum) - minNum)) + minNum;\n  }\n\n  /**\n   * Calculate the strip background position.\n   *\n   * @param {Number} index\n   *   Strip symbol index.\n   *\n   * @param {Number} position\n   *   Strip target position.\n   *\n   * @return {Number}\n   */\n  function getImagePosY(index, position) {\n    return -Math.abs(getStripHeight() * index + (position - self.options.reelOffset));\n  }\n\n  /**\n   * Calculate the strip height.\n   *\n   * @return {Number}\n   */\n  function getStripHeight() {\n    return self.options.reelHeight / REEL_SEGMENT_TOTAL;\n  }\n\n  /**\n   * Calculate the strip width.\n   *\n   * @return {Number}\n   */\n  function getStripWidth() {\n    return self.options.reelWidth;\n  }\n\n  /**\n   * Play the audio clip.\n   *\n   * @param {String} url\n   *  Audio file URL.\n   */\n  function playSound(url) {\n    if (url) {\n      const audio = new Audio();\n      audio.src = url;\n      audio.onerror = () => console.warn(`Failed to load audio: ${url}`);\n      audio.play();\n    }\n  }\n\n  /**\n   * Dispatch game actions.\n   *\n   * @param {Function} func\n   *   Function to execute.\n   */\n  function dispatch(func) {\n    if (!self.isAnimating) {\n      self.isAnimating = true;\n      func.call(self);\n    }\n  }\n\n  /**\n   * Protected members.\n   */\n  this.play = function () {\n    dispatch(spinReels);\n  };\n}\n\n/**\n * Set global/exportable instance, where supported.\n */\nwindow.slotMachine = function (container, reels, callback, options) {\n  return new SlotMachine(container, reels, callback, options);\n};\nif (typeof module !== 'undefined' && module.exports) {\n  module.exports = SlotMachine;\n}","map":{"version":3,"names":["SlotMachine","container","reels","callback","options","self","REEL_SEGMENT_TOTAL","defaults","reelHeight","reelWidth","reelOffset","slotYAxis","animSpeed","sounds","reelsBegin","reelsEnd","rngFunc","Math","random","Object","assign","length","initGame","Error","createDisplayElm","createSlotElm","div","document","createElement","classList","add","i","elm","style","transform","appendChild","addEventListener","spinReels","forEach","reel","createReelElm","symbols","position","config","startPos","createStripElm","stripHeight","getStripHeight","stripWidth","getStripWidth","segmentDeg","transZ","trunc","tan","PI","marginTop","ul","height","width","li","append","toString","imgPosY","getImagePosY","rotateX","background","imageSrc","selectRandSymbol","totalWeight","symbolTotal","symbol","weight","randNum","getRandom","j","payLine","push","Array","prototype","apply","arguments","timer","window","setTimeout","isAnimating","clearTimeout","playSound","selected","element","remove","toggle","childNodes","index","backgroundPositionY","replace","getRandomInt","min","max","minNum","ceil","maxNum","floor","abs","url","audio","Audio","src","onerror","console","warn","play","dispatch","func","call","slotMachine","module","exports"],"sources":["/home/ceo/mmmm/createyourevent/node_modules/slot-machine-gen/src/slot-machine.js"],"sourcesContent":["/**\n *  Slot Machine Generator\n *  Create an extremely biased, web-based slot machine game.\n *\n *  Copyright 2020-2023, Marc S. Brooks (https://mbrooks.info)\n *  Licensed under the MIT license:\n *  http://www.opensource.org/licenses/mit-license.php\n */\n\n'use strict';\n\n/**\n * @param {Element} container\n *   Containing HTML element.\n *\n * @param {Array<Object>} reels\n *   Reel configuration.\n *\n * @param {Function} callback\n *   Returns selected pay-line symbols.\n *\n * @param {Object} options\n *   Configuration overrides (optional).\n */\nfunction SlotMachine(container, reels, callback, options) {\n  const self = this;\n\n  const REEL_SEGMENT_TOTAL = 24;\n\n  const defaults = {\n    reelHeight: 1200,\n    reelWidth:  200,\n    reelOffset: 20,\n    slotYAxis: 0,\n    animSpeed:  1000,\n    sounds: {\n      reelsBegin: null,\n      reelsEnd: null\n    },\n    rngFunc: function() {\n\n      // The weakest link.\n      return Math.random();\n    },\n  };\n\n  (function() {\n    self.options = Object.assign(defaults, options);\n\n    if (reels.length > 0) {\n      initGame();\n    } else {\n      throw new Error('Failed to initialize (missing reels)');\n    }\n  })();\n\n  /**\n   * Initialize a new game instance.\n   */\n  function initGame() {\n    createDisplayElm();\n    createSlotElm();\n  }\n\n  /**\n   * Create display elements.\n   */\n  function createDisplayElm() {\n    const div = document.createElement('div');\n    div.classList.add('display');\n\n    for (let i = 0; i < reels.length; i++) {\n      const elm = document.createElement('div');\n      elm.style.transform = `rotateY(${self.options.slotYAxis}deg)`;\n      elm.classList.add('reel');\n\n      div.appendChild(elm);\n    }\n\n    div.addEventListener('click', () => spinReels());\n\n    container.appendChild(div);\n  }\n\n  /**\n   * Create slot elements.\n   */\n  function createSlotElm() {\n    const div = document.createElement('div');\n    div.classList.add('slots');\n\n    reels.forEach(reel => {\n      const elm = createReelElm(reel, reel.symbols[0].position);\n\n      div.appendChild(elm);\n    });\n\n    container.appendChild(div);\n  }\n\n  /**\n   * Create reel elements.\n   *\n   * @param {Object} config\n   *   Config options.\n   *\n   * @param {Number} startPos\n   *   Start position.\n   *\n   * @return {Element}\n   */\n  function createReelElm(config, startPos = 0) {\n    const div = document.createElement('div');\n    div.style.transform = `rotateY(${self.options.slotYAxis}deg)`;\n    div.classList.add('reel');\n\n    const elm = createStripElm(config, config.symbols[0].position);\n\n    config['element'] = elm;\n\n    div.appendChild(elm);\n\n    return div;\n  }\n\n  /**\n   * Create strip elements (faux-panoramic animation).\n   *\n   * @param {Object} config\n   *   Config options.\n   *\n   * @param {Number} startPos\n   *   Start position.\n   *\n   * @return {Element}\n   */\n  function createStripElm(config, startPos = 0) {\n    const stripHeight = getStripHeight();\n    const stripWidth  = getStripWidth();\n\n    const segmentDeg = 360 / REEL_SEGMENT_TOTAL;\n\n    const transZ = Math.trunc(\n      Math.tan(90 / Math.PI - segmentDeg) * (stripHeight * 0.5) * 4\n    );\n\n    const marginTop = transZ + stripHeight / 2;\n\n    const ul = document.createElement('ul');\n    ul.style.height    = stripHeight + 'px';\n    ul.style.marginTop = marginTop   + 'px';\n    ul.style.width     = stripWidth  + 'px';\n    ul.classList.add('strip');\n\n    for (let i = 0; i < REEL_SEGMENT_TOTAL; i++) {\n      const li = document.createElement('li');\n      li.append(i.toString());\n\n      const imgPosY = getImagePosY(i, startPos);\n      const rotateX = (REEL_SEGMENT_TOTAL * segmentDeg) - (i * segmentDeg);\n\n      // Position image per the strip angle/container radius.\n      li.style.background = `url(${config.imageSrc}) 0 ${imgPosY}px`;\n      li.style.height     = stripHeight + 'px';\n      li.style.width      = stripWidth  + 'px';\n      li.style.transform  = `rotateX(${rotateX}deg) translateZ(${transZ}px)`;\n\n      ul.appendChild(li);\n    }\n\n    return ul;\n  }\n\n  /**\n   * Select a random symbol by weight.\n   *\n   * @param {Array<Object>} symbols\n   *   List of symbols.\n   *\n   * @return {Object}\n   */\n  function selectRandSymbol(symbols) {\n    let totalWeight = 0;\n\n    const symbolTotal = symbols.length;\n\n    for (let i = 0; i < symbolTotal; i++) {\n      const symbol = symbols[i];\n      const weight = symbol.weight;\n\n      totalWeight += weight;\n    }\n\n    let randNum = getRandom() * totalWeight;\n\n    for (let j = 0; j < symbolTotal; j++) {\n      const symbol = symbols[j];\n      const weight = symbol.weight;\n\n      if (randNum < weight) {\n        return symbol;\n      }\n\n      randNum -= weight;\n    }\n  }\n\n  /**\n   * Spin the reels and try your luck.\n   */\n  function spinReels() {\n    const payLine = [];\n\n    if (callback) {\n\n      // Delay callback until animations have stopped.\n      payLine.push = function() {\n        Array.prototype.push.apply(this, arguments);\n\n        if (payLine.length === reels.length) {\n          const timer = window.setTimeout(() => {\n            self.isAnimating = false;\n\n            callback(payLine);\n\n            window.clearTimeout(timer);\n          }, self.options.animSpeed);\n        }\n      };\n    }\n\n    playSound(self.options.sounds.reelsBegin);\n\n    reels.forEach(reel => {\n      const selected = selectRandSymbol(reel.symbols);\n      const startPos = selected.position;\n\n      // Start the rotation animation.\n      const elm = reel.element;\n      elm.classList.remove('stop');\n      elm.classList.toggle('spin');\n\n      // Shift images to select position.\n      elm.childNodes.forEach((li, index) => {\n        li.style.backgroundPositionY = getImagePosY(index, startPos) + 'px';\n      });\n\n      // Randomly stop rotation animation.\n      const timer = window.setTimeout(() => {\n        elm.classList.replace('spin', 'stop');\n\n        playSound(self.options.sounds.reelsEnd);\n\n        payLine.push(selected);\n\n        window.clearTimeout(timer);\n      }, self.options.animSpeed * getRandomInt(1, 4));\n    });\n  }\n\n  /**\n   * Get random number between 0 (inclusive) and 1 (exclusive).\n   *\n   * @return {number}\n   */\n  function getRandom() {\n    return self.options.rngFunc();\n  }\n\n  /**\n   * Get random integer between two values.\n   *\n   * @param {Number} min\n   *   Minimum value (default: 0).\n   *\n   * @param {Number} max\n   *   Maximum value (default: 10).\n   *\n   * @return {Number}\n   */\n  function getRandomInt(min = 1, max = 10) {\n    const minNum = Math.ceil(min);\n    const maxNum = Math.floor(max);\n\n    return Math.floor(getRandom() * (Math.floor(maxNum) - minNum)) + minNum;\n  }\n\n  /**\n   * Calculate the strip background position.\n   *\n   * @param {Number} index\n   *   Strip symbol index.\n   *\n   * @param {Number} position\n   *   Strip target position.\n   *\n   * @return {Number}\n   */\n  function getImagePosY(index, position) {\n    return -Math.abs(\n      (getStripHeight() * index) + (position - self.options.reelOffset)\n    );\n  }\n\n  /**\n   * Calculate the strip height.\n   *\n   * @return {Number}\n   */\n  function getStripHeight() {\n    return self.options.reelHeight / REEL_SEGMENT_TOTAL;\n  }\n\n  /**\n   * Calculate the strip width.\n   *\n   * @return {Number}\n   */\n  function getStripWidth() {\n    return self.options.reelWidth;\n  }\n\n  /**\n   * Play the audio clip.\n   *\n   * @param {String} url\n   *  Audio file URL.\n   */\n  function playSound(url) {\n    if (url) {\n      const audio = new Audio();\n      audio.src = url;\n      audio.onerror = () => console.warn(`Failed to load audio: ${url}`);\n      audio.play();\n    }\n  }\n\n  /**\n   * Dispatch game actions.\n   *\n   * @param {Function} func\n   *   Function to execute.\n   */\n  function dispatch(func) {\n    if (!self.isAnimating) {\n      self.isAnimating = true;\n\n      func.call(self);\n    }\n  }\n\n  /**\n   * Protected members.\n   */\n  this.play = function() {\n    dispatch(spinReels);\n  };\n}\n\n/**\n * Set global/exportable instance, where supported.\n */\nwindow.slotMachine = function(container, reels, callback, options) {\n  return new SlotMachine(container, reels, callback, options);\n};\n\nif (typeof module !== 'undefined' && module.exports) {\n  module.exports = SlotMachine;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}