{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"app/organisator/organisator.service\";\nimport * as i3 from \"app/general.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"primeng/carousel\";\nimport * as i6 from \"primeng/api\";\nimport * as i7 from \"app/pipes/random-number.pipe\";\nfunction MovieSliderComponent_ng_container_0_ng_template_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n            \");\n    i0.ɵɵelementStart(1, \"a\", 4);\n    i0.ɵɵlistener(\"click\", function MovieSliderComponent_ng_container_0_ng_template_9_Template_a_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const event_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r3.goToEvent(event_r2.id));\n    });\n    i0.ɵɵtext(2, \"\\n                \");\n    i0.ɵɵelementStart(3, \"div\", 5);\n    i0.ɵɵtext(4, \"\\n                    \");\n    i0.ɵɵelementStart(5, \"div\");\n    i0.ɵɵpipe(6, \"randomNumber\");\n    i0.ɵɵtext(7, \"\\n                        \");\n    i0.ɵɵelement(8, \"span\", 6);\n    i0.ɵɵtext(9, \"\\n                        \");\n    i0.ɵɵelementStart(10, \"div\", 7);\n    i0.ɵɵtext(11, \"\\n                          \");\n    i0.ɵɵelement(12, \"img\", 8);\n    i0.ɵɵtext(13, \"\\n                          \");\n    i0.ɵɵelementStart(14, \"div\", 9);\n    i0.ɵɵtext(15, \"\\n                            \");\n    i0.ɵɵelementStart(16, \"h6\", 10)(17, \"span\", 11);\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(19, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20, \"\\n\\n                          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(22, \"\\n                      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(23, \"\\n               \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(24, \"\\n        \");\n  }\n  if (rf & 2) {\n    const event_r2 = ctx.$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵclassMapInterpolate1(\"box_\", i0.ɵɵpipeBind1(6, 6, 4), \"\");\n    i0.ɵɵadvance(7);\n    i0.ɵɵpropertyInterpolate(\"alt\", event_r2.name);\n    i0.ɵɵproperty(\"src\", \"data:\" + event_r2.flyerContentType + \";base64,\" + event_r2.flyer, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(event_r2.name);\n  }\n}\nfunction MovieSliderComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"\\n  \");\n    i0.ɵɵelementStart(2, \"div\", 1);\n    i0.ɵɵtext(3, \"\\n    \");\n    i0.ɵɵelementStart(4, \"p-carousel\", 2);\n    i0.ɵɵtext(5, \"\\n        \");\n    i0.ɵɵelementStart(6, \"p-header\");\n    i0.ɵɵtext(7, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n        \");\n    i0.ɵɵtemplate(9, MovieSliderComponent_ng_container_0_ng_template_9_Template, 25, 8, \"ng-template\", 3);\n    i0.ɵɵtext(10, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n  \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\n\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"value\", ctx_r0.events)(\"orientation\", ctx_r0.orientation)(\"autoplayInterval\", ctx_r0.autoplayInterval)(\"verticalViewPortHeight\", ctx_r0.verticalViewPortHeight)(\"circular\", ctx_r0.circular)(\"numVisible\", ctx_r0.numVisible)(\"numScroll\", ctx_r0.numScroll);\n  }\n}\nexport class MovieSliderComponent {\n  constructor(router, organisatorService, generalService) {\n    this.router = router;\n    this.organisatorService = organisatorService;\n    this.generalService = generalService;\n    this.events = [];\n    this.orientation = 'vertical';\n    this.numVisible = 1;\n    this.numScroll = 1;\n    this.circular = true;\n    this.verticalViewPortHeight = '280px';\n    this.autoplayInterval = 10000;\n    this.style = \"{ width: '150px' }\";\n    this.loaded = false;\n    this.starEvents = [];\n    this.responsiveOptions = [];\n    this.responsiveOptions = [{\n      breakpoint: '1024px',\n      numVisible: 3,\n      numScroll: 3\n    }, {\n      breakpoint: '768px',\n      numVisible: 2,\n      numScroll: 2\n    }, {\n      breakpoint: '560px',\n      numVisible: 1,\n      numScroll: 1\n    }];\n  }\n  ngOnChanges(changes) {\n    if (changes['events'] !== undefined && changes['events'].currentValue !== undefined) {\n      this.events = changes['events'].currentValue;\n      this.events.forEach(element => {\n        this.organisatorService.findReservationsByEventId(element.id).subscribe(r => {\n          element.reservations = r.body;\n          this.loaded = true;\n        });\n        this.generalService.getEventStarRatingByEvent(element.id).subscribe(res => {\n          const ratings = res.body;\n          let total = 0;\n          ratings.forEach(el => {\n            total += el.stars;\n          });\n          const avg = total / ratings.length / 10 * 5;\n          this.starEvents.push({\n            event: element,\n            average: avg\n          });\n        });\n      });\n    }\n  }\n  goToEvent(eventId) {\n    this.router.navigate(['/events/' + eventId + '/view']);\n  }\n  getAverage(eventId) {\n    const se = this.starEvents.find(x => x.event.id === eventId);\n    return se.average;\n  }\n}\nMovieSliderComponent.ɵfac = function MovieSliderComponent_Factory(t) {\n  return new (t || MovieSliderComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.OrganisatorService), i0.ɵɵdirectiveInject(i3.GeneralService));\n};\nMovieSliderComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MovieSliderComponent,\n  selectors: [[\"jhi-movie-slider\"]],\n  inputs: {\n    events: \"events\",\n    orientation: \"orientation\",\n    numVisible: \"numVisible\",\n    numScroll: \"numScroll\",\n    circular: \"circular\",\n    verticalViewPortHeight: \"verticalViewPortHeight\",\n    autoplayInterval: \"autoplayInterval\",\n    style: \"style\"\n  },\n  features: [i0.ɵɵNgOnChangesFeature],\n  decls: 2,\n  vars: 1,\n  consts: [[4, \"ngIf\"], [1, \"movieFrame\"], [1, \"movie_frame\", 3, \"value\", \"orientation\", \"autoplayInterval\", \"verticalViewPortHeight\", \"circular\", \"numVisible\", \"numScroll\"], [\"pTemplate\", \"item\"], [3, \"click\"], [1, \"container_box_slider\"], [1, \"black\"], [1, \"card\", \"content\"], [1, \"card-img-top\", \"card-img-event-slider\", 3, \"src\", \"alt\"], [1, \"card-body\"], [1, \"card-title\", \"bold\"], [1, \"font-title-event\"]],\n  template: function MovieSliderComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, MovieSliderComponent_ng_container_0_Template, 13, 7, \"ng-container\", 0);\n      i0.ɵɵtext(1, \"\\n\");\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.loaded);\n    }\n  },\n  dependencies: [i4.NgIf, i5.Carousel, i6.Header, i6.PrimeTemplate, i7.RandomNumberPipe],\n  styles: [\".card[_ngcontent-%COMP%] {\\n  position: relative;\\n  display: flex;\\n  flex-direction: column;\\n  min-width: 0;\\n  word-wrap: break-word;\\n  background-color: rgba(238, 232, 213, 0.125);\\n  background-clip: border-box;\\n  border: none;\\n  border-radius: 0;\\n}\\n\\n.container_box_slider[_ngcontent-%COMP%] {\\n  width: 150px;\\n  margin-left: 50px;\\n}\\n\\n.card-img-event-slider[_ngcontent-%COMP%] {\\n  max-width: 140px;\\n  max-height: 140px;\\n  margin: 5px auto;\\n}\\n\\n.container_box_slider[_ngcontent-%COMP%]   .box_1[_ngcontent-%COMP%] {\\n  position: relative;\\n  height: 280px;\\n  color: #fff;\\n  background: #111;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: 100%;\\n}\\n\\n.container_box_slider[_ngcontent-%COMP%]   .box_1[_ngcontent-%COMP%]::before {\\n  content: \\\"\\\";\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  background: linear-gradient(45deg, #00ffb3, #ff0059);\\n  filter: blur(30px);\\n}\\n\\n.container_box_slider[_ngcontent-%COMP%]   .box_1[_ngcontent-%COMP%]::after {\\n  content: \\\"\\\";\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  background: linear-gradient(45deg, #00ffb3, #ff0059);\\n}\\n\\n.container_box_slider[_ngcontent-%COMP%]   .box_1[_ngcontent-%COMP%]   .black[_ngcontent-%COMP%] {\\n  position: absolute;\\n  top: 6px;\\n  left: 6px;\\n  right: 6px;\\n  bottom: 6px;\\n  background: rgba(0, 0, 0, 0.6);\\n  z-index: 2;\\n}\\n\\n.container_box_slider[_ngcontent-%COMP%]   .box_2[_ngcontent-%COMP%] {\\n  position: relative;\\n  height: 280px;\\n  color: #fff;\\n  background: #111;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: 100%;\\n}\\n\\n.container_box_slider[_ngcontent-%COMP%]   .box_2[_ngcontent-%COMP%]::before {\\n  content: \\\"\\\";\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  background: linear-gradient(45deg, #d8ff7e, #09fff3);\\n  filter: blur(30px);\\n}\\n\\n.container_box_slider[_ngcontent-%COMP%]   .box_2[_ngcontent-%COMP%]::after {\\n  content: \\\"\\\";\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  background: linear-gradient(45deg, #d8ff7e, #09fff3);\\n}\\n\\n.container_box_slider[_ngcontent-%COMP%]   .box_2[_ngcontent-%COMP%]   .black[_ngcontent-%COMP%] {\\n  position: absolute;\\n  top: 6px;\\n  left: 6px;\\n  right: 6px;\\n  bottom: 6px;\\n  background: rgba(0, 0, 0, 0.6);\\n  z-index: 2;\\n}\\n\\n.container_box_slider[_ngcontent-%COMP%]   .box_3[_ngcontent-%COMP%] {\\n  position: relative;\\n  height: 280px;\\n  color: #fff;\\n  background: #111;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: 100%;\\n}\\n\\n.container_box_slider[_ngcontent-%COMP%]   .box_3[_ngcontent-%COMP%]::before {\\n  content: \\\"\\\";\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  background: linear-gradient(45deg, #ba5ba7, #f2ff00);\\n  filter: blur(30px);\\n}\\n\\n.container_box_slider[_ngcontent-%COMP%]   .box_3[_ngcontent-%COMP%]::after {\\n  content: \\\"\\\";\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  background: linear-gradient(45deg, #b92a9c, #f2ff00);\\n}\\n\\n.container_box_slider[_ngcontent-%COMP%]   .box_3[_ngcontent-%COMP%]   .black[_ngcontent-%COMP%] {\\n  position: absolute;\\n  top: 6px;\\n  left: 6px;\\n  right: 6px;\\n  bottom: 6px;\\n  background: rgba(0, 0, 0, 0.6);\\n  z-index: 2;\\n}\\n\\n.container_box_slider[_ngcontent-%COMP%]   .box_4[_ngcontent-%COMP%] {\\n  position: relative;\\n  height: 280px;\\n  color: #fff;\\n  background: #111;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: 100%;\\n}\\n\\n.container_box_slider[_ngcontent-%COMP%]   .box_4[_ngcontent-%COMP%]::before {\\n  content: \\\"\\\";\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  background: linear-gradient(45deg, #dc650a, #7700ff);\\n  filter: blur(30px);\\n}\\n\\n.container_box_slider[_ngcontent-%COMP%]   .box_4[_ngcontent-%COMP%]::after {\\n  content: \\\"\\\";\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  background: linear-gradient(45deg, #dc650a, #7700ff);\\n}\\n\\n.container_box_slider[_ngcontent-%COMP%]   .box_4[_ngcontent-%COMP%]   .black[_ngcontent-%COMP%] {\\n  position: absolute;\\n  top: 6px;\\n  left: 6px;\\n  right: 6px;\\n  bottom: 6px;\\n  background: rgba(0, 0, 0, 0.6);\\n  z-index: 2;\\n}\\n\\n.bold[_ngcontent-%COMP%] {\\n  font-weight: bold;\\n}\\n\\n.movieFrame[_ngcontent-%COMP%] {\\n  background-image: url('movieframe.png');\\n  background-repeat: no-repeat;\\n  background-size: 250px 345px;\\n  width: 250px;\\n  height: 320px;\\n  z-index: 20;\\n}\\n\\n.heart[_ngcontent-%COMP%] {\\n  position: relative;\\n  display: inline-block;\\n  font-size: 3rem;\\n  color: #d3d3d3;\\n}\\n\\n.full[_ngcontent-%COMP%] {\\n  color: red;\\n}\\n\\n.half[_ngcontent-%COMP%] {\\n  position: absolute;\\n  display: inline-block;\\n  overflow: hidden;\\n  color: red;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9tYWluL3dlYmFwcC9hcHAvdmlld3MvYm94ZXMvbW92aWVfc2xpZGVyL21vdmllX3NsaWRlci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0VBQ0EsYUFBQTtFQUNBLHNCQUFBO0VBQ0EsWUFBQTtFQUNBLHFCQUFBO0VBQ0EsNENBQUE7RUFDQSwyQkFBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtBQUNGOztBQUVBO0VBQ0UsWUFBQTtFQUNBLGlCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EsZ0JBQUE7QUFDRjs7QUFFQTtFQUNFLGtCQUFBO0VBQ0EsYUFBQTtFQUNBLFdBQUE7RUFDQSxnQkFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0VBQ0EsV0FBQTtBQUNGOztBQUVBO0VBQ0UsV0FBQTtFQUNBLGtCQUFBO0VBQ0EsTUFBQTtFQUNBLE9BQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLG9EQUFBO0VBQ0Esa0JBQUE7QUFDRjs7QUFFQTtFQUNFLFdBQUE7RUFDQSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxPQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxvREFBQTtBQUNGOztBQUVBO0VBQ0Usa0JBQUE7RUFDQSxRQUFBO0VBQ0EsU0FBQTtFQUNBLFVBQUE7RUFDQSxXQUFBO0VBQ0EsOEJBQUE7RUFDQSxVQUFBO0FBQ0Y7O0FBRUE7RUFDRSxrQkFBQTtFQUNBLGFBQUE7RUFDQSxXQUFBO0VBQ0EsZ0JBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLFdBQUE7QUFDRjs7QUFFQTtFQUNFLFdBQUE7RUFDQSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxPQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxvREFBQTtFQUNBLGtCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxNQUFBO0VBQ0EsT0FBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0Esb0RBQUE7QUFDRjs7QUFFQTtFQUNFLGtCQUFBO0VBQ0EsUUFBQTtFQUNBLFNBQUE7RUFDQSxVQUFBO0VBQ0EsV0FBQTtFQUNBLDhCQUFBO0VBQ0EsVUFBQTtBQUNGOztBQUVBO0VBQ0Usa0JBQUE7RUFDQSxhQUFBO0VBQ0EsV0FBQTtFQUNBLGdCQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSxXQUFBO0FBQ0Y7O0FBRUE7RUFDRSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxNQUFBO0VBQ0EsT0FBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0Esb0RBQUE7RUFDQSxrQkFBQTtBQUNGOztBQUVBO0VBQ0UsV0FBQTtFQUNBLGtCQUFBO0VBQ0EsTUFBQTtFQUNBLE9BQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLG9EQUFBO0FBQ0Y7O0FBRUE7RUFDRSxrQkFBQTtFQUNBLFFBQUE7RUFDQSxTQUFBO0VBQ0EsVUFBQTtFQUNBLFdBQUE7RUFDQSw4QkFBQTtFQUNBLFVBQUE7QUFDRjs7QUFFQTtFQUNFLGtCQUFBO0VBQ0EsYUFBQTtFQUNBLFdBQUE7RUFDQSxnQkFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0VBQ0EsV0FBQTtBQUNGOztBQUVBO0VBQ0UsV0FBQTtFQUNBLGtCQUFBO0VBQ0EsTUFBQTtFQUNBLE9BQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLG9EQUFBO0VBQ0Esa0JBQUE7QUFDRjs7QUFFQTtFQUNFLFdBQUE7RUFDQSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxPQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxvREFBQTtBQUNGOztBQUVBO0VBQ0Usa0JBQUE7RUFDQSxRQUFBO0VBQ0EsU0FBQTtFQUNBLFVBQUE7RUFDQSxXQUFBO0VBQ0EsOEJBQUE7RUFDQSxVQUFBO0FBQ0Y7O0FBRUE7RUFDRSxpQkFBQTtBQUNGOztBQUVBO0VBQ0UsdUNBQUE7RUFDQSw0QkFBQTtFQUNBLDRCQUFBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7RUFDQSxXQUFBO0FBQ0Y7O0FBRUE7RUFDRSxrQkFBQTtFQUNBLHFCQUFBO0VBQ0EsZUFBQTtFQUNBLGNBQUE7QUFDRjs7QUFFQTtFQUNFLFVBQUE7QUFDRjs7QUFDQTtFQUNFLGtCQUFBO0VBQ0EscUJBQUE7RUFDQSxnQkFBQTtFQUNBLFVBQUE7QUFFRiIsInNvdXJjZXNDb250ZW50IjpbIi5jYXJkIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBtaW4td2lkdGg6IDA7XG4gIHdvcmQtd3JhcDogYnJlYWstd29yZDtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyMzgsIDIzMiwgMjEzLCAwLjEyNSk7XG4gIGJhY2tncm91bmQtY2xpcDogYm9yZGVyLWJveDtcbiAgYm9yZGVyOiBub25lO1xuICBib3JkZXItcmFkaXVzOiAwO1xufVxuXG4uY29udGFpbmVyX2JveF9zbGlkZXIge1xuICB3aWR0aDogMTUwcHg7XG4gIG1hcmdpbi1sZWZ0OiA1MHB4O1xufVxuXG4uY2FyZC1pbWctZXZlbnQtc2xpZGVyIHtcbiAgbWF4LXdpZHRoOiAxNDBweDtcbiAgbWF4LWhlaWdodDogMTQwcHg7XG4gIG1hcmdpbjogNXB4IGF1dG87XG59XG5cbi5jb250YWluZXJfYm94X3NsaWRlciAuYm94XzEge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGhlaWdodDogMjgwcHg7XG4gIGNvbG9yOiAjZmZmO1xuICBiYWNrZ3JvdW5kOiAjMTExO1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5jb250YWluZXJfYm94X3NsaWRlciAuYm94XzE6OmJlZm9yZSB7XG4gIGNvbnRlbnQ6ICcnO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDQ1ZGVnLCAjMDBmZmIzLCAjZmYwMDU5KTtcbiAgZmlsdGVyOiBibHVyKDMwcHgpO1xufVxuXG4uY29udGFpbmVyX2JveF9zbGlkZXIgLmJveF8xOjphZnRlciB7XG4gIGNvbnRlbnQ6ICcnO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDQ1ZGVnLCAjMDBmZmIzLCAjZmYwMDU5KTtcbn1cblxuLmNvbnRhaW5lcl9ib3hfc2xpZGVyIC5ib3hfMSAuYmxhY2sge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogNnB4O1xuICBsZWZ0OiA2cHg7XG4gIHJpZ2h0OiA2cHg7XG4gIGJvdHRvbTogNnB4O1xuICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuNik7XG4gIHotaW5kZXg6IDI7XG59XG5cbi5jb250YWluZXJfYm94X3NsaWRlciAuYm94XzIge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGhlaWdodDogMjgwcHg7XG4gIGNvbG9yOiAjZmZmO1xuICBiYWNrZ3JvdW5kOiAjMTExO1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5jb250YWluZXJfYm94X3NsaWRlciAuYm94XzI6OmJlZm9yZSB7XG4gIGNvbnRlbnQ6ICcnO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDQ1ZGVnLCAjZDhmZjdlLCAjMDlmZmYzKTtcbiAgZmlsdGVyOiBibHVyKDMwcHgpO1xufVxuXG4uY29udGFpbmVyX2JveF9zbGlkZXIgLmJveF8yOjphZnRlciB7XG4gIGNvbnRlbnQ6ICcnO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDQ1ZGVnLCAjZDhmZjdlLCAjMDlmZmYzKTtcbn1cblxuLmNvbnRhaW5lcl9ib3hfc2xpZGVyIC5ib3hfMiAuYmxhY2sge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogNnB4O1xuICBsZWZ0OiA2cHg7XG4gIHJpZ2h0OiA2cHg7XG4gIGJvdHRvbTogNnB4O1xuICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuNik7XG4gIHotaW5kZXg6IDI7XG59XG5cbi5jb250YWluZXJfYm94X3NsaWRlciAuYm94XzMge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGhlaWdodDogMjgwcHg7XG4gIGNvbG9yOiAjZmZmO1xuICBiYWNrZ3JvdW5kOiAjMTExO1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5jb250YWluZXJfYm94X3NsaWRlciAuYm94XzM6OmJlZm9yZSB7XG4gIGNvbnRlbnQ6ICcnO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDQ1ZGVnLCAjYmE1YmE3LCAjZjJmZjAwKTtcbiAgZmlsdGVyOiBibHVyKDMwcHgpO1xufVxuXG4uY29udGFpbmVyX2JveF9zbGlkZXIgLmJveF8zOjphZnRlciB7XG4gIGNvbnRlbnQ6ICcnO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDQ1ZGVnLCAjYjkyYTljLCAjZjJmZjAwKTtcbn1cblxuLmNvbnRhaW5lcl9ib3hfc2xpZGVyIC5ib3hfMyAuYmxhY2sge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogNnB4O1xuICBsZWZ0OiA2cHg7XG4gIHJpZ2h0OiA2cHg7XG4gIGJvdHRvbTogNnB4O1xuICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuNik7XG4gIHotaW5kZXg6IDI7XG59XG5cbi5jb250YWluZXJfYm94X3NsaWRlciAuYm94XzQge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGhlaWdodDogMjgwcHg7XG4gIGNvbG9yOiAjZmZmO1xuICBiYWNrZ3JvdW5kOiAjMTExO1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5jb250YWluZXJfYm94X3NsaWRlciAuYm94XzQ6OmJlZm9yZSB7XG4gIGNvbnRlbnQ6ICcnO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDQ1ZGVnLCAjZGM2NTBhLCAjNzcwMGZmKTtcbiAgZmlsdGVyOiBibHVyKDMwcHgpO1xufVxuXG4uY29udGFpbmVyX2JveF9zbGlkZXIgLmJveF80OjphZnRlciB7XG4gIGNvbnRlbnQ6ICcnO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDQ1ZGVnLCAjZGM2NTBhLCAjNzcwMGZmKTtcbn1cblxuLmNvbnRhaW5lcl9ib3hfc2xpZGVyIC5ib3hfNCAuYmxhY2sge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogNnB4O1xuICBsZWZ0OiA2cHg7XG4gIHJpZ2h0OiA2cHg7XG4gIGJvdHRvbTogNnB4O1xuICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuNik7XG4gIHotaW5kZXg6IDI7XG59XG5cbi5ib2xkIHtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbi5tb3ZpZUZyYW1lIHtcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcuLi8uLi8uLi8uLi9jb250ZW50L2ltYWdlcy9tb3ZpZWZyYW1lLnBuZycpO1xuICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xuICBiYWNrZ3JvdW5kLXNpemU6IDI1MHB4IDM0NXB4O1xuICB3aWR0aDogMjUwcHg7XG4gIGhlaWdodDogMzIwcHg7XG4gIHotaW5kZXg6IDIwO1xufVxuXG4uaGVhcnQge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgZm9udC1zaXplOiAzcmVtO1xuICBjb2xvcjogI2QzZDNkMztcbn1cblxuLmZ1bGwge1xuICBjb2xvcjogcmVkO1xufVxuLmhhbGYge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgY29sb3I6IHJlZDtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","MovieSliderComponent","constructor","router","organisatorService","generalService","responsiveOptions","breakpoint","numVisible","numScroll","ngOnChanges","changes","undefined","currentValue","events","forEach","element","findReservationsByEventId","id","subscribe","r","reservations","body","loaded","getEventStarRatingByEvent","res","ratings","total","el","stars","avg","length","starEvents","push","event","average","goToEvent","eventId","navigate","getAverage","se","find","x","selectors","inputs","orientation","circular","verticalViewPortHeight","autoplayInterval","style","features","decls","vars","consts","template"],"sourceRoot":"","sources":["/home/ceo/mmmm/createyourevent/src/main/webapp/app/views/boxes/movie_slider/movie_slider.component.html","/home/ceo/mmmm/createyourevent/src/main/webapp/app/views/boxes/movie_slider/movie_slider.component.ts"],"sourcesContent":["<ng-container *ngIf=\"loaded\">\n  <div class=\"movieFrame\">\n    <p-carousel class=\"movie_frame\" [value]=\"events\"  [orientation]=\"orientation\" [autoplayInterval]=\"autoplayInterval\" [verticalViewPortHeight]=\"verticalViewPortHeight\" [circular]=\"circular\" [numVisible]=\"numVisible\" [numScroll]=\"numScroll\">\n        <p-header>\n        </p-header>\n        <ng-template let-event pTemplate=\"item\">\n            <a (click)=\"goToEvent(event.id)\">\n                <div class=\"container_box_slider\">\n                    <div class=\"box_{{ 4 | randomNumber }}\">\n                        <span class=\"black\"></span>\n                        <div class=\"card content\">\n                          <img class=\"card-img-top card-img-event-slider\" [src]=\"'data:' + event.flyerContentType + ';base64,' + event.flyer\" alt=\"{{ event.name }}\">\n                          <div class=\"card-body\">\n                            <h6 class=\"card-title bold\"><span class=\"font-title-event\">{{ event.name }}</span></h6>\n                            </div>\n\n                          </div>\n                        </div>\n                      </div>\n               </a>\n        </ng-template>\n    </p-carousel>\n  </div>\n</ng-container>\n","import { Component, Input, OnChanges, OnInit, SimpleChanges } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { IEvent } from 'app/entities/event/event.model';\nimport { GeneralService } from 'app/general.service';\nimport { OrganisatorService } from 'app/organisator/organisator.service';\n\n@Component({\n  selector: 'jhi-movie-slider',\n  templateUrl: './movie_slider.component.html',\n  styleUrls: ['./movie_slider.component.scss']\n})\nexport class MovieSliderComponent implements OnChanges {\n  @Input() events: IEvent[] = [];\n  @Input() orientation = 'vertical';\n  @Input() numVisible = 1;\n  @Input() numScroll = 1;\n  @Input() circular = true;\n  @Input() verticalViewPortHeight = '280px';\n  @Input() autoplayInterval = 10000;\n  @Input() style = \"{ width: '150px' }\";\n  loaded = false;\n  starEvents: any[] = [];\n\n  responsiveOptions: any[] = [];\n\n  constructor(private router: Router, private organisatorService: OrganisatorService, private generalService: GeneralService) {\n    this.responsiveOptions = [\n      {\n        breakpoint: '1024px',\n        numVisible: 3,\n        numScroll: 3\n      },\n      {\n        breakpoint: '768px',\n        numVisible: 2,\n        numScroll: 2\n      },\n      {\n        breakpoint: '560px',\n        numVisible: 1,\n        numScroll: 1\n      }\n    ];\n  }\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes['events'] !== undefined && changes['events'].currentValue !== undefined) {\n      this.events = changes['events'].currentValue;\n      this.events.forEach(element => {\n        this.organisatorService.findReservationsByEventId(element.id!).subscribe(r => {\n          element.reservations = r.body;\n          this.loaded = true;\n        });\n\n        this.generalService.getEventStarRatingByEvent(element.id!).subscribe(res => {\n          const ratings = res.body!;\n          let total = 0;\n          ratings.forEach(el => {\n            total += el.stars!;\n          });\n          const avg = (total / ratings.length / 10) * 5;\n          this.starEvents.push({ event: element, average: avg });\n        });\n      });\n    }\n  }\n\n  goToEvent(eventId: number): void {\n    this.router.navigate(['/events/' + eventId + '/view']);\n  }\n\n  getAverage(eventId: number): number {\n    const se = this.starEvents.find(x => x.event.id === eventId);\n    return se.average;\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}