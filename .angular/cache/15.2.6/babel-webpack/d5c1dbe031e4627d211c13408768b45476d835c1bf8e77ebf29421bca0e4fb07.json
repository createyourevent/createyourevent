{"ast":null,"code":"import { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport * as dayjs from 'dayjs';\nimport { Validators } from '@angular/forms';\nimport { DATE_TIME_FORMAT } from 'app/config/input.constants';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../../shared/language/translate.directive\";\nimport * as i5 from \"@angular/material/button\";\nfunction EditRowBoxComponent_ng_container_3_div_15_small_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵtext(1, \"\\n            \");\n    i0.ɵɵelementStart(2, \"span\", 27);\n    i0.ɵɵtext(3, \"This field is required.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n        \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EditRowBoxComponent_ng_container_3_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25);\n    i0.ɵɵtext(1, \"\\n        \");\n    i0.ɵɵtemplate(2, EditRowBoxComponent_ng_container_3_div_15_small_2_Template, 5, 0, \"small\", 26);\n    i0.ɵɵtext(3, \"\\n    \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.worksheetForm.controls[\"description\"].errors.required);\n  }\n}\nfunction EditRowBoxComponent_ng_container_3_div_23_small_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵtext(1, \"\\n            \");\n    i0.ɵɵelementStart(2, \"span\", 27);\n    i0.ɵɵtext(3, \"This field is required.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n        \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EditRowBoxComponent_ng_container_3_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25);\n    i0.ɵɵtext(1, \"\\n        \");\n    i0.ɵɵtemplate(2, EditRowBoxComponent_ng_container_3_div_23_small_2_Template, 5, 0, \"small\", 26);\n    i0.ɵɵtext(3, \"\\n    \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.worksheetForm.controls[\"start\"].errors.required);\n  }\n}\nfunction EditRowBoxComponent_ng_container_3_div_31_small_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵtext(1, \"\\n            \");\n    i0.ɵɵelementStart(2, \"span\", 27);\n    i0.ɵɵtext(3, \"This field is required.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n        \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EditRowBoxComponent_ng_container_3_div_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25);\n    i0.ɵɵtext(1, \"\\n        \");\n    i0.ɵɵtemplate(2, EditRowBoxComponent_ng_container_3_div_31_small_2_Template, 5, 0, \"small\", 26);\n    i0.ɵɵtext(3, \"\\n    \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.worksheetForm.controls[\"end\"].errors.required);\n  }\n}\nfunction EditRowBoxComponent_ng_container_3_div_39_small_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\");\n    i0.ɵɵtext(1, \"\\n            \");\n    i0.ɵɵelementStart(2, \"span\", 27);\n    i0.ɵɵtext(3, \"This field is required.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n        \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EditRowBoxComponent_ng_container_3_div_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 25);\n    i0.ɵɵtext(1, \"\\n        \");\n    i0.ɵɵtemplate(2, EditRowBoxComponent_ng_container_3_div_39_small_2_Template, 5, 0, \"small\", 26);\n    i0.ɵɵtext(3, \"\\n    \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.worksheetForm.controls[\"costHour\"].errors.required);\n  }\n}\nfunction EditRowBoxComponent_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"\\n  \");\n    i0.ɵɵelementStart(2, \"form\", 6);\n    i0.ɵɵtext(3, \"\\n    \");\n    i0.ɵɵelementStart(4, \"h1\", 7);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n    \");\n    i0.ɵɵelement(7, \"input\", 8);\n    i0.ɵɵtext(8, \"\\n\\n    \");\n    i0.ɵɵelementStart(9, \"label\", 9)(10, \"span\", 10);\n    i0.ɵɵtext(11, \"Description\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(12, \"\\n    \");\n    i0.ɵɵelement(13, \"textarea\", 11);\n    i0.ɵɵtext(14, \"\\n    \");\n    i0.ɵɵtemplate(15, EditRowBoxComponent_ng_container_3_div_15_Template, 4, 1, \"div\", 12);\n    i0.ɵɵtext(16, \"\\n\\n    \");\n    i0.ɵɵelementStart(17, \"label\", 13)(18, \"span\", 14);\n    i0.ɵɵtext(19, \"Start\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(20, \"\\n    \");\n    i0.ɵɵelementStart(21, \"input\", 15);\n    i0.ɵɵlistener(\"change\", function EditRowBoxComponent_ng_container_3_Template_input_change_21_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.calcTotal());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(22, \"\\n    \");\n    i0.ɵɵtemplate(23, EditRowBoxComponent_ng_container_3_div_23_Template, 4, 1, \"div\", 12);\n    i0.ɵɵtext(24, \"\\n\\n    \");\n    i0.ɵɵelementStart(25, \"label\", 16)(26, \"span\", 17);\n    i0.ɵɵtext(27, \"End\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(28, \"\\n    \");\n    i0.ɵɵelementStart(29, \"input\", 18);\n    i0.ɵɵlistener(\"change\", function EditRowBoxComponent_ng_container_3_Template_input_change_29_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.calcTotal());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(30, \"\\n    \");\n    i0.ɵɵtemplate(31, EditRowBoxComponent_ng_container_3_div_31_Template, 4, 1, \"div\", 12);\n    i0.ɵɵtext(32, \"\\n\\n    \");\n    i0.ɵɵelementStart(33, \"label\", 19)(34, \"span\", 20);\n    i0.ɵɵtext(35, \"Cost per hour\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(36, \"\\n    \");\n    i0.ɵɵelementStart(37, \"input\", 21);\n    i0.ɵɵlistener(\"change\", function EditRowBoxComponent_ng_container_3_Template_input_change_37_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.calcTotal());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(38, \"\\n    \");\n    i0.ɵɵtemplate(39, EditRowBoxComponent_ng_container_3_div_39_Template, 4, 1, \"div\", 12);\n    i0.ɵɵtext(40, \"\\n\\n    \");\n    i0.ɵɵelementStart(41, \"label\", 22)(42, \"span\", 23);\n    i0.ɵɵtext(43, \"Total\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(44, \"\\n    \");\n    i0.ɵɵelement(45, \"input\", 24);\n    i0.ɵɵtext(46, \"\\n\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(47, \"\\n  \");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.worksheetForm);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r0.action, \" offer\");\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.worksheetForm.controls[\"description\"].invalid && (ctx_r0.worksheetForm.controls[\"description\"].dirty || ctx_r0.worksheetForm.controls[\"description\"].touched));\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.worksheetForm.controls[\"start\"].invalid && (ctx_r0.worksheetForm.controls[\"start\"].dirty || ctx_r0.worksheetForm.controls[\"start\"].touched));\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.worksheetForm.controls[\"end\"].invalid && (ctx_r0.worksheetForm.controls[\"end\"].dirty || ctx_r0.worksheetForm.controls[\"end\"].touched));\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.worksheetForm.controls[\"costHour\"].invalid && (ctx_r0.worksheetForm.controls[\"costHour\"].dirty || ctx_r0.worksheetForm.controls[\"costHour\"].touched));\n  }\n}\nfunction EditRowBoxComponent_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n    \");\n    i0.ɵɵelementStart(1, \"form\", 6);\n    i0.ɵɵtext(2, \"\\n        \");\n    i0.ɵɵelementStart(3, \"h1\", 28);\n    i0.ɵɵtext(4, \"Delete offer entry?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n        \");\n    i0.ɵɵelement(6, \"input\", 8);\n    i0.ɵɵtext(7, \"\\n        \");\n    i0.ɵɵelementStart(8, \"span\", 29);\n    i0.ɵɵtext(9, \"Sure to delete this offer?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n\");\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formGroup\", ctx_r2.worksheetForm);\n  }\n}\nexport class EditRowBoxComponent {\n  constructor(dialogRef, data, fb) {\n    this.dialogRef = dialogRef;\n    this.data = data;\n    this.fb = fb;\n    this.missingTranslationHandler = 0;\n    this.localData = {\n      ...data\n    };\n  }\n  ngOnInit() {\n    this.createForm();\n    if (this.localData.action === 'Update') {\n      this.worksheetForm.get(['id']).setValue(this.localData.id);\n      this.worksheetForm.get(['description']).setValue(this.localData.description);\n      this.worksheetForm.get(['start']).setValue(dayjs(this.localData.start).format(DATE_TIME_FORMAT));\n      this.worksheetForm.get(['end']).setValue(dayjs(this.localData.end).format(DATE_TIME_FORMAT));\n      this.worksheetForm.get(['costHour']).setValue(this.localData.costHour);\n      this.worksheetForm.get(['total']).setValue(this.localData.total);\n    }\n    if (this.localData.action === 'Delete') {\n      this.worksheetForm.get(['id']).setValue(this.localData.id);\n    }\n    this.action = this.localData.action;\n  }\n  createForm() {\n    this.worksheetForm = this.fb.group({\n      id: [''],\n      description: ['', Validators.required],\n      start: ['', Validators.required],\n      end: ['', Validators.required],\n      costHour: ['', Validators.required],\n      total: ['']\n    });\n  }\n  doAction() {\n    this.localData.id = this.worksheetForm.get(['id']).value;\n    this.localData.description = this.worksheetForm.get(['description']).value;\n    this.localData.start = this.worksheetForm.get(['start']).value;\n    this.localData.end = this.worksheetForm.get(['end']).value;\n    this.localData.costHour = this.worksheetForm.get(['costHour']).value;\n    this.localData.total = this.worksheetForm.get(['total']).value;\n    this.dialogRef.close({\n      event: this.action,\n      data: this.localData\n    });\n  }\n  closeDialog() {\n    this.dialogRef.close({\n      event: 'Cancel'\n    });\n  }\n  calcTotal() {\n    this.worksheetForm.get(['total']).setValue(Math.abs(dayjs(this.worksheetForm.get(['end']).value).diff(dayjs(this.worksheetForm.get(['start']).value), 'minutes') * (this.worksheetForm.get(['costHour']).value / 60)));\n  }\n}\nEditRowBoxComponent.ɵfac = function EditRowBoxComponent_Factory(t) {\n  return new (t || EditRowBoxComponent)(i0.ɵɵdirectiveInject(i1.MatDialogRef), i0.ɵɵdirectiveInject(MAT_DIALOG_DATA, 8), i0.ɵɵdirectiveInject(i2.UntypedFormBuilder));\n};\nEditRowBoxComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EditRowBoxComponent,\n  selectors: [[\"jhi-editrow-box\"]],\n  decls: 18,\n  vars: 3,\n  consts: [[\"mat-dialog-content\", \"\"], [4, \"ngIf\", \"ngIfElse\"], [\"elseTemplate\", \"\"], [\"mat-dialog-actions\", \"\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [\"type\", \"button\", \"mat-flat-button\", \"\", \"color\", \"warn\", 1, \"btn\", \"btn-secondary\", \"btn-cancel\", 3, \"click\"], [3, \"formGroup\"], [\"mat-dialog-title\", \"\", \"jhiTranslate\", \"offer.editrow.title\"], [\"type\", \"hidden\", \"id\", \"id\", \"name\", \"id\", \"formControlName\", \"id\"], [\"for\", \"description\"], [\"jhiTranslate\", \"offer.description\"], [\"id\", \"description\", \"name\", \"description\", \"formControlName\", \"description\", 1, \"form-control\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [\"for\", \"start\"], [\"jhiTranslate\", \"offer.start\"], [\"type\", \"datetime-local\", \"id\", \"start\", \"name\", \"start\", \"formControlName\", \"start\", 1, \"form-control\", 3, \"change\"], [\"for\", \"end\"], [\"jhiTranslate\", \"offer.end\"], [\"type\", \"datetime-local\", \"id\", \"end\", \"name\", \"end\", \"formControlName\", \"end\", 1, \"form-control\", 3, \"change\"], [\"for\", \"costHour\"], [\"jhiTranslate\", \"offer.costHour\"], [\"id\", \"costHour\", \"name\", \"costHour\", \"formControlName\", \"costHour\", 1, \"form-control\", 3, \"change\"], [\"for\", \"total\"], [\"jhiTranslate\", \"offer.total\"], [\"id\", \"total\", \"name\", \"total\", \"formControlName\", \"total\", \"disabled\", \"disabled\", 1, \"form-control\"], [1, \"alert\", \"alert-danger\"], [4, \"ngIf\"], [\"jhiTranslate\", \"offer.required\"], [\"mat-dialog-title\", \"\", \"jhiTranslate\", \"offer.editrow.delete.title\"], [\"jhiTranslate\", \"offer.editrow.delete\"]],\n  template: function EditRowBoxComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtext(0, \"\\n\");\n      i0.ɵɵelementStart(1, \"div\", 0);\n      i0.ɵɵtext(2, \"\\n\");\n      i0.ɵɵtemplate(3, EditRowBoxComponent_ng_container_3_Template, 48, 6, \"ng-container\", 1);\n      i0.ɵɵtext(4, \"\\n  \");\n      i0.ɵɵtemplate(5, EditRowBoxComponent_ng_template_5_Template, 12, 1, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵtext(7, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(8, \"\\n\");\n      i0.ɵɵelementStart(9, \"div\", 3);\n      i0.ɵɵtext(10, \"\\n  \");\n      i0.ɵɵelementStart(11, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function EditRowBoxComponent_Template_button_click_11_listener() {\n        return ctx.doAction();\n      });\n      i0.ɵɵtext(12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(13, \"\\n  \");\n      i0.ɵɵelementStart(14, \"button\", 5);\n      i0.ɵɵlistener(\"click\", function EditRowBoxComponent_Template_button_click_14_listener() {\n        return ctx.closeDialog();\n      });\n      i0.ɵɵtext(15, \"Cancel\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(16, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(17, \"\\n\");\n    }\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(6);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.action != \"Delete\")(\"ngIfElse\", _r1);\n      i0.ɵɵadvance(9);\n      i0.ɵɵtextInterpolate(ctx.action);\n    }\n  },\n  dependencies: [i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i3.NgIf, i2.FormGroupDirective, i2.FormControlName, i4.TranslateDirective, i1.MatDialogTitle, i1.MatDialogContent, i1.MatDialogActions, i5.MatButton],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["MAT_DIALOG_DATA","dayjs","Validators","DATE_TIME_FORMAT","i0","EditRowBoxComponent","constructor","dialogRef","data","fb","localData","ngOnInit","createForm","action","worksheetForm","get","setValue","id","description","start","format","end","costHour","total","group","required","doAction","value","close","event","closeDialog","calcTotal","Math","abs","diff","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/home/ceo/mmmm/createyourevent/src/main/webapp/app/views/offer/editrow-box.component.ts","/home/ceo/mmmm/createyourevent/src/main/webapp/app/views/offer/editrow-box.component.html"],"sourcesContent":["import { Component, Inject, Optional, OnInit } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport * as dayjs from 'dayjs';\nimport { UntypedFormGroup, Validators, UntypedFormBuilder } from '@angular/forms';\nimport { DATE_TIME_FORMAT } from 'app/config/input.constants';\n\n@Component({\n  selector: 'jhi-editrow-box',\n  templateUrl: './editrow-box.component.html',\n  styleUrls: ['./editrow-box.component.scss'],\n})\nexport class EditRowBoxComponent implements OnInit {\n  action!: string;\n  localData: any;\n  missingTranslationHandler = 0;\n  worksheetForm!: UntypedFormGroup;\n\n  constructor(\n    public dialogRef: MatDialogRef<EditRowBoxComponent>,\n    @Optional() @Inject(MAT_DIALOG_DATA) public data: any,\n    private fb: UntypedFormBuilder\n  ) {\n    this.localData = { ...data };\n  }\n  ngOnInit(): void {\n    this.createForm();\n    if (this.localData.action === 'Update') {\n      this.worksheetForm.get(['id'])!.setValue(this.localData.id);\n      this.worksheetForm.get(['description'])!.setValue(this.localData.description);\n      this.worksheetForm.get(['start'])!.setValue(dayjs(this.localData.start).format(DATE_TIME_FORMAT));\n      this.worksheetForm.get(['end'])!.setValue(dayjs(this.localData.end).format(DATE_TIME_FORMAT));\n      this.worksheetForm.get(['costHour'])!.setValue(this.localData.costHour);\n      this.worksheetForm.get(['total'])!.setValue(this.localData.total);\n    }\n    if (this.localData.action === 'Delete') {\n      this.worksheetForm.get(['id'])!.setValue(this.localData.id);\n    }\n    this.action = this.localData.action;\n  }\n\n  createForm(): void {\n    this.worksheetForm = this.fb.group({\n      id: [''],\n      description: ['', Validators.required],\n      start: ['', Validators.required],\n      end: ['', Validators.required],\n      costHour: ['', Validators.required],\n      total: [''],\n    });\n  }\n\n  doAction(): void {\n    this.localData.id = this.worksheetForm.get(['id'])!.value;\n    this.localData.description = this.worksheetForm.get(['description'])!.value;\n    this.localData.start = this.worksheetForm.get(['start'])!.value;\n    this.localData.end = this.worksheetForm.get(['end'])!.value;\n    this.localData.costHour = this.worksheetForm.get(['costHour'])!.value;\n    this.localData.total = this.worksheetForm.get(['total'])!.value;\n\n    this.dialogRef.close({ event: this.action, data: this.localData });\n  }\n\n  closeDialog(): void {\n    this.dialogRef.close({ event: 'Cancel' });\n  }\n\n  calcTotal(): void {\n    this.worksheetForm\n      .get(['total'])!\n      .setValue(\n        Math.abs(\n          dayjs(this.worksheetForm.get(['end'])!.value).diff(dayjs(this.worksheetForm.get(['start'])!.value), 'minutes') *\n            (this.worksheetForm.get(['costHour'])!.value / 60)\n        )\n      );\n  }\n}\n","\n<div mat-dialog-content>\n<ng-container *ngIf=\"action != 'Delete'; else elseTemplate\">\n  <form [formGroup]=\"worksheetForm\">\n    <h1 mat-dialog-title jhiTranslate=\"offer.editrow.title\">{{ action }} offer</h1>\n    <input type=\"hidden\" id=\"id\" name=\"id\" formControlName=\"id\">\n\n    <label for=\"description\"><span jhiTranslate=\"offer.description\">Description</span></label>\n    <textarea id=\"description\" name=\"description\" class=\"form-control\" formControlName=\"description\"></textarea>\n    <div *ngIf=\"worksheetForm.controls['description'].invalid && (worksheetForm.controls['description'].dirty || worksheetForm.controls['description'].touched)\" class=\"alert alert-danger\">\n        <small *ngIf=\"worksheetForm!.controls['description']!.errors.required\">\n            <span jhiTranslate=\"offer.required\">This field is required.</span>\n        </small>\n    </div>\n\n    <label for=\"start\"><span jhiTranslate=\"offer.start\">Start</span></label>\n    <input type=\"datetime-local\" (change)=\"calcTotal()\" id=\"start\" name=\"start\" class=\"form-control\" formControlName=\"start\">\n    <div *ngIf=\"worksheetForm.controls['start'].invalid && (worksheetForm.controls['start'].dirty || worksheetForm.controls['start'].touched)\" class=\"alert alert-danger\">\n        <small *ngIf=\"worksheetForm!.controls['start']!.errors.required\">\n            <span jhiTranslate=\"offer.required\">This field is required.</span>\n        </small>\n    </div>\n\n    <label for=\"end\"><span jhiTranslate=\"offer.end\">End</span></label>\n    <input type=\"datetime-local\" id=\"end\" (change)=\"calcTotal()\" name=\"end\" class=\"form-control\" formControlName=\"end\">\n    <div *ngIf=\"worksheetForm.controls['end'].invalid && (worksheetForm.controls['end'].dirty || worksheetForm.controls['end'].touched)\" class=\"alert alert-danger\">\n        <small *ngIf=\"worksheetForm!.controls['end']!.errors.required\">\n            <span jhiTranslate=\"offer.required\">This field is required.</span>\n        </small>\n    </div>\n\n    <label for=\"costHour\"><span jhiTranslate=\"offer.costHour\">Cost per hour</span></label>\n    <input id=\"costHour\" name=\"costHour\" (change)=\"calcTotal()\" class=\"form-control\" formControlName=\"costHour\">\n    <div *ngIf=\"worksheetForm.controls['costHour'].invalid && (worksheetForm.controls['costHour'].dirty || worksheetForm.controls['costHour'].touched)\" class=\"alert alert-danger\">\n        <small *ngIf=\"worksheetForm!.controls['costHour']!.errors.required\">\n            <span jhiTranslate=\"offer.required\">This field is required.</span>\n        </small>\n    </div>\n\n    <label for=\"total\"><span jhiTranslate=\"offer.total\">Total</span></label>\n    <input id=\"total\" name=\"total\" class=\"form-control\" formControlName=\"total\" disabled=\"disabled\">\n\n    </form>\n  </ng-container>\n  <ng-template #elseTemplate>\n    <form [formGroup]=\"worksheetForm\">\n        <h1 mat-dialog-title jhiTranslate=\"offer.editrow.delete.title\">Delete offer entry?</h1>\n        <input type=\"hidden\" id=\"id\" name=\"id\" formControlName=\"id\">\n        <span jhiTranslate=\"offer.editrow.delete\">Sure to delete this offer?</span>\n    </form>\n</ng-template>\n</div>\n<div mat-dialog-actions>\n  <button type=\"button\" class=\"btn btn-primary\" (click)=\"doAction()\">{{action}}</button>\n  <button type=\"button\" class=\"btn btn-secondary btn-cancel\" (click)=\"closeDialog()\" mat-flat-button color=\"warn\">Cancel</button>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}