{"ast":null,"code":"import dayjs from 'dayjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"app/general.service\";\nimport * as i2 from \"app/entities/property/service/property.service\";\nimport * as i3 from \"app/entities/fee-transaction/service/fee-transaction.service\";\nimport * as i4 from \"../shared/language/translate.directive\";\nimport * as i5 from \"@angular/common\";\nexport class PayItForwardComponent {\n  constructor(generalService, propertyService, feeTransactionService) {\n    this.generalService = generalService;\n    this.propertyService = propertyService;\n    this.feeTransactionService = feeTransactionService;\n    this.payItForwardRate = 0;\n    this.totalFees = [];\n    this.totalFeesValue = 0;\n  }\n  ngOnInit() {\n    this.generalService.findPropertyByKey('payitforward_rate').subscribe(rt => {\n      this.payItForwardRate = Number(rt.body.value);\n      this.feeTransactionService.query().subscribe(res => {\n        const ft = res.body;\n        ft.forEach(ele => {\n          if (ele.date.month() === dayjs().month()) {\n            this.totalFeesValue += Number(ele.entries[0].value);\n          }\n        });\n      });\n    });\n  }\n}\nPayItForwardComponent.ɵfac = function PayItForwardComponent_Factory(t) {\n  return new (t || PayItForwardComponent)(i0.ɵɵdirectiveInject(i1.GeneralService), i0.ɵɵdirectiveInject(i2.PropertyService), i0.ɵɵdirectiveInject(i3.FeeTransactionService));\n};\nPayItForwardComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PayItForwardComponent,\n  selectors: [[\"jhi-pay-it-forward\"]],\n  decls: 40,\n  vars: 9,\n  consts: [[1, \"box_violet\"], [\"jhiTranslate\", \"pay-it-forward.title\", 1, \"title\"], [\"jhiTranslate\", \"pay-it-forward.info\"], [\"role\", \"alert\", 1, \"alert\", \"alert-info\"], [\"jhiTranslate\", \"pay-it-forward.total-fees.title\"], [1, \"row\"], [1, \"col-md-3\"], [\"jhiTranslate\", \"pay-it-forward.total-fees\"], [\"jhiTranslate\", \"pay-it-forward.total-fees.thereof\"]],\n  template: function PayItForwardComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtext(1, \"\\n  \");\n      i0.ɵɵelementStart(2, \"h1\", 1);\n      i0.ɵɵtext(3, \"Pay It Forward of Create Your Event\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(4, \"\\n  \");\n      i0.ɵɵelementStart(5, \"p\", 2);\n      i0.ɵɵtext(6, \"\\n    We have developed a Pay It Forward system for Create Your Event, in which we pay a certain percentage of all feeable income to event organizers.\\n    This means that everyone who organizes an event with us receives a percentage of all fees that we incur for their event as a deposit.\\n    We charge 13% for the successful sale of products, the successful offering of a service, the successful completion of an event and for the\\n    successful booking of an organization. We now add up all the fees and pay a variable percentage to our organizers for the event that you plan\\n    and advertise with us.\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(7, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(8, \"\\n\");\n      i0.ɵɵelement(9, \"hr\");\n      i0.ɵɵtext(10, \"\\n\");\n      i0.ɵɵelementStart(11, \"div\", 3);\n      i0.ɵɵtext(12, \"\\n  \");\n      i0.ɵɵelementStart(13, \"h3\", 4);\n      i0.ɵɵtext(14, \"Total fees for paying it forward.\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(15, \"\\n  \");\n      i0.ɵɵelementStart(16, \"div\", 5);\n      i0.ɵɵtext(17, \"\\n\\t\\t\");\n      i0.ɵɵelementStart(18, \"div\", 6);\n      i0.ɵɵtext(19, \"\\n      \");\n      i0.ɵɵelementStart(20, \"span\", 7);\n      i0.ɵɵtext(21, \"Total fees:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(22, \"\\n\\t\\t\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(23, \"\\n\\t\\t\");\n      i0.ɵɵelementStart(24, \"div\", 6);\n      i0.ɵɵtext(25);\n      i0.ɵɵpipe(26, \"currency\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(27, \"\\n\\t\\t\");\n      i0.ɵɵelementStart(28, \"div\", 6);\n      i0.ɵɵtext(29, \"\\n      \");\n      i0.ɵɵelement(30, \"span\", 8);\n      i0.ɵɵtext(31);\n      i0.ɵɵpipe(32, \"percent\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(33, \"\\n\\t\\t\");\n      i0.ɵɵelementStart(34, \"div\", 6);\n      i0.ɵɵtext(35);\n      i0.ɵɵpipe(36, \"currency\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(37, \"\\n\\t\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(38, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(39, \"\\n\");\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(25);\n      i0.ɵɵtextInterpolate1(\"\\n      \", i0.ɵɵpipeBind1(26, 3, ctx.totalFeesValue), \"\\n\\t\\t\");\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(32, 5, ctx.payItForwardRate), \"\\n\\t\\t\");\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate1(\"\\n      \", i0.ɵɵpipeBind1(36, 7, ctx.totalFeesValue * ctx.payItForwardRate), \"\\n\\t\\t\");\n    }\n  },\n  dependencies: [i4.TranslateDirective, i5.PercentPipe, i5.CurrencyPipe],\n  styles: [\".title[_ngcontent-%COMP%] {\\n  text-shadow: 4px 4px 2px rgb(150, 150, 150);\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9tYWluL3dlYmFwcC9hcHAvcGF5LWl0LWZvcndhcmQvcGF5LWl0LWZvcndhcmQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSwyQ0FBQTtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLnRpdGxlIHtcbiAgdGV4dC1zaGFkb3c6IDRweCA0cHggMnB4IHJnYmEoMTUwLCAxNTAsIDE1MCwgMSk7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"AAMA,OAAOA,KAAK,MAAM,OAAO;;;;;;;AAOzB,OAAM,MAAOC,qBAAqB;EAOhCC,YAAoBC,cAA8B,EAAUC,eAAgC,EAAUC,qBAA4C;IAA9H,mBAAc,GAAdF,cAAc;IAA0B,oBAAe,GAAfC,eAAe;IAA2B,0BAAqB,GAArBC,qBAAqB;IAL3H,qBAAgB,GAAW,CAAC;IAE5B,cAAS,GAAsB,EAAE;IACjC,mBAAc,GAAG,CAAC;EAEoI;EAEtJC,QAAQ;IACN,IAAI,CAACH,cAAc,CAACI,iBAAiB,CAAC,mBAAmB,CAAC,CAACC,SAAS,CAACC,EAAE,IAAG;MACxE,IAAI,CAACC,gBAAgB,GAAGC,MAAM,CAACF,EAAE,CAACG,IAAI,CAACC,KAAK,CAAC;MAC7C,IAAI,CAACR,qBAAqB,CAACS,KAAK,EAAE,CAACN,SAAS,CAACO,GAAG,IAAG;QACjD,MAAMC,EAAE,GAAGD,GAAG,CAACH,IAAI;QACnBI,EAAE,CAACC,OAAO,CAACC,GAAG,IAAG;UACf,IAAGA,GAAG,CAACC,IAAI,CAACC,KAAK,EAAE,KAAKpB,KAAK,EAAE,CAACoB,KAAK,EAAE,EAAE;YACvC,IAAI,CAACC,cAAc,IAAIV,MAAM,CAACO,GAAG,CAACI,OAAO,CAAC,CAAC,CAAC,CAACT,KAAK,CAAC;;QAEvD,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;;;mBArBWZ,qBAAqB;AAAA;;QAArBA,qBAAqB;EAAAsB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCblCC,8BAAwB;MACtBA;MAAAA,6BAAsD;MAAAA,mDAAmC;MAAAA,iBAAK;MAC9FA;MAAAA,4BAAsC;MACpCA,onBAKF;MAAAA,iBAAI;MACNA;MAAAA,iBAAM;MACNA;MAAAA,qBAAK;MACLA;MAAAA,+BAA2C;MACzCA;MAAAA,8BAAmD;MAAAA,kDAAiC;MAAAA,iBAAK;MACzFA;MAAAA,+BAAiB;MACjBA;MAAAA,+BAAsB;MAClBA;MAAAA,gCAA+C;MAAAA,4BAAW;MAAAA,iBAAO;MACrEA;MAAAA,iBAAM;MACNA;MAAAA,+BAAsB;MAClBA,aACJ;;MAAAA,iBAAM;MACNA;MAAAA,+BAAsB;MAClBA;MAAAA,2BAA8D;MAACA,aACnE;;MAAAA,iBAAM;MACNA;MAAAA,+BAAsB;MAClBA,aACJ;;MAAAA,iBAAM;MACPA;MAAAA,iBAAM;MACPA;MAAAA,iBAAM;MACNA;;;MAVMA,gBACJ;MADIA,sFACJ;MAEmEA,eACnE;MADmEA,iFACnE;MAEIA,eACJ;MADIA,6GACJ","names":["dayjs","PayItForwardComponent","constructor","generalService","propertyService","feeTransactionService","ngOnInit","findPropertyByKey","subscribe","rt","payItForwardRate","Number","body","value","query","res","ft","forEach","ele","date","month","totalFeesValue","entries","selectors","decls","vars","consts","template","i0"],"sourceRoot":"","sources":["/home/ceo/mmmm/createyourevent/src/main/webapp/app/pay-it-forward/pay-it-forward.component.ts","/home/ceo/mmmm/createyourevent/src/main/webapp/app/pay-it-forward/pay-it-forward.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { IFeeTransaction } from 'app/entities/fee-transaction/fee-transaction.model';\nimport { FeeTransactionService } from 'app/entities/fee-transaction/service/fee-transaction.service';\nimport { IProperty } from 'app/entities/property/property.model';\nimport { PropertyService } from 'app/entities/property/service/property.service';\nimport { GeneralService } from 'app/general.service';\nimport dayjs from 'dayjs';\n\n@Component({\n  selector: 'jhi-pay-it-forward',\n  templateUrl: './pay-it-forward.component.html',\n  styleUrls: ['./pay-it-forward.component.scss']\n})\nexport class PayItForwardComponent implements OnInit {\n\n  payItForwardRate: number = 0;\n\n  totalFees: IFeeTransaction[] = [];\n  totalFeesValue = 0;\n\n  constructor(private generalService: GeneralService, private propertyService: PropertyService, private feeTransactionService: FeeTransactionService) { }\n\n  ngOnInit() {\n    this.generalService.findPropertyByKey('payitforward_rate').subscribe(rt => {\n      this.payItForwardRate = Number(rt.body.value);\n      this.feeTransactionService.query().subscribe(res => {\n        const ft = res.body;\n        ft.forEach(ele => {\n          if(ele.date.month() === dayjs().month()) {\n            this.totalFeesValue += Number(ele.entries[0].value);\n          }\n        });\n      });\n    });\n  }\n\n}\n","<div class=\"box_violet\">\n  <h1 class=\"title\" jhiTranslate=\"pay-it-forward.title\">Pay It Forward of Create Your Event</h1>\n  <p jhiTranslate=\"pay-it-forward.info\">\n    We have developed a Pay It Forward system for Create Your Event, in which we pay a certain percentage of all feeable income to event organizers.\n    This means that everyone who organizes an event with us receives a percentage of all fees that we incur for their event as a deposit.\n    We charge 13% for the successful sale of products, the successful offering of a service, the successful completion of an event and for the\n    successful booking of an organization. We now add up all the fees and pay a variable percentage to our organizers for the event that you plan\n    and advertise with us.\n  </p>\n</div>\n<hr/>\n<div class=\"alert alert-info\" role=\"alert\">\n  <h3 jhiTranslate=\"pay-it-forward.total-fees.title\">Total fees for paying it forward.</h3>\n  <div class=\"row\">\n\t\t<div class=\"col-md-3\">\n      <span jhiTranslate=\"pay-it-forward.total-fees\">Total fees:</span>\n\t\t</div>\n\t\t<div class=\"col-md-3\">\n      {{ totalFeesValue | currency }}\n\t\t</div>\n\t\t<div class=\"col-md-3\">\n      <span jhiTranslate=\"pay-it-forward.total-fees.thereof\"></span> {{ payItForwardRate | percent }}\n\t\t</div>\n\t\t<div class=\"col-md-3\">\n      {{ totalFeesValue * payItForwardRate | currency }}\n\t\t</div>\n\t</div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}