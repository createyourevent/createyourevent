{"ast":null,"code":"import _defineProperty from \"/home/ceo/mmmm/createyourevent/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"app/general.service\";\nimport * as i3 from \"app/google-geocode.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"../../shared/language/translate.directive\";\nimport * as i7 from \"primeng/dataview\";\nimport * as i8 from \"primeng/api\";\nimport * as i9 from \"primeng/inputtext\";\nimport * as i10 from \"../../views/type-flags/price-type/price-type.component\";\nimport * as i11 from \"primeng/knob\";\nimport * as i12 from \"@ngx-translate/core\";\nfunction ProductDataViewComponent_ng_template_6_ng_container_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"\\n              \");\n    i0.ɵɵelementStart(2, \"div\", 8);\n    i0.ɵɵtext(3, \"\\n                \");\n    i0.ɵɵelementStart(4, \"div\", 16);\n    i0.ɵɵtext(5, \"\\n                  \");\n    i0.ɵɵelementStart(6, \"h5\");\n    i0.ɵɵelement(7, \"span\", 17);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \"\\n                  \");\n    i0.ɵɵelementStart(10, \"p-knob\", 18);\n    i0.ɵɵlistener(\"ngModelChange\", function ProductDataViewComponent_ng_template_6_ng_container_17_Template_p_knob_ngModelChange_10_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r6.distance = $event);\n    })(\"onChange\", function ProductDataViewComponent_ng_template_6_ng_container_17_Template_p_knob_onChange_10_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.changeSliderRadius($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\n                \");\n    i0.ɵɵelementStart(13, \"div\", 19);\n    i0.ɵɵtext(14, \"\\n                  \");\n    i0.ɵɵelementStart(15, \"div\", 20);\n    i0.ɵɵtext(16, \"\\n                    \");\n    i0.ɵɵelementStart(17, \"span\", 21);\n    i0.ɵɵtext(18, \"\\n                      Use the switch to select the maximum range in which you want to search for events.\\n                      If the distance is set to 0, all search results are displayed.\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19, \"\\n                  \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21, \"\\n              \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(22, \"\\n            \");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r5.distance, \" Km\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r5.distance)(\"step\", 5);\n  }\n}\nfunction ProductDataViewComponent_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n    \");\n    i0.ɵɵelementStart(1, \"div\", 7);\n    i0.ɵɵtext(2, \"\\n        \");\n    i0.ɵɵelementStart(3, \"div\", 8);\n    i0.ɵɵtext(4, \"\\n          \");\n    i0.ɵɵelementStart(5, \"div\", 9);\n    i0.ɵɵtext(6, \"\\n            \");\n    i0.ɵɵelementStart(7, \"span\", 10);\n    i0.ɵɵtext(8, \"\\n              \");\n    i0.ɵɵelement(9, \"i\", 11);\n    i0.ɵɵtext(10, \"\\n              \");\n    i0.ɵɵelementStart(11, \"input\", 12);\n    i0.ɵɵlistener(\"input\", function ProductDataViewComponent_ng_template_6_Template_input_input_11_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      i0.ɵɵnextContext();\n      const _r0 = i0.ɵɵreference(4);\n      return i0.ɵɵresetView(_r0.filter($event.target.value));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\n           \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n          \");\n    i0.ɵɵelementStart(15, \"div\", 13);\n    i0.ɵɵtext(16, \"\\n            \");\n    i0.ɵɵtemplate(17, ProductDataViewComponent_ng_template_6_ng_container_17_Template, 23, 3, \"ng-container\", 14);\n    i0.ɵɵtext(18, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19, \"\\n          \");\n    i0.ɵɵelementStart(20, \"div\", 15);\n    i0.ɵɵtext(21, \"\\n            \");\n    i0.ɵɵelement(22, \"p-dataViewLayoutOptions\");\n    i0.ɵɵtext(23, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(24, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(25, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(26, \"\\n\");\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(17);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.user);\n  }\n}\nfunction ProductDataViewComponent_ng_template_8_ng_container_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"\\n                        \");\n    i0.ɵɵelementStart(2, \"dt\")(3, \"span\", 32);\n    i0.ɵɵtext(4, \"Stock\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(5, \"\\n                        \");\n    i0.ɵɵelementStart(6, \"dd\");\n    i0.ɵɵtext(7, \"\\n                            \");\n    i0.ɵɵelementStart(8, \"span\", 33);\n    i0.ɵɵtext(9, \"Infinite\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n                    \");\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction ProductDataViewComponent_ng_template_8_ng_container_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"\\n                        \");\n    i0.ɵɵelementStart(2, \"dt\")(3, \"span\", 32);\n    i0.ɵɵtext(4, \"Stock\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(5, \"\\n                        \");\n    i0.ɵɵelementStart(6, \"dd\");\n    i0.ɵɵtext(7, \"\\n                            \");\n    i0.ɵɵelementStart(8, \"span\");\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\n                    \");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const product_r11 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate2(\"\", product_r11.stock, \" \", i0.ɵɵpipeBind1(10, 2, \"createyoureventApp.Unit.\" + product_r11.unit), \"\");\n  }\n}\nfunction ProductDataViewComponent_ng_template_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n        \");\n    i0.ɵɵelementStart(1, \"div\", 22);\n    i0.ɵɵtext(2, \"\\n            \");\n    i0.ɵɵelementStart(3, \"div\", 16);\n    i0.ɵɵtext(4, \"\\n                \");\n    i0.ɵɵelementStart(5, \"div\", 23);\n    i0.ɵɵtext(6, \"\\n                    \");\n    i0.ɵɵelement(7, \"img\", 24);\n    i0.ɵɵtext(8, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n            \");\n    i0.ɵɵelementStart(11, \"div\", 16);\n    i0.ɵɵtext(12, \"\\n                \");\n    i0.ɵɵelementStart(13, \"h3\", 25);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(15, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16, \"\\n            \");\n    i0.ɵɵelementStart(17, \"div\", 15);\n    i0.ɵɵtext(18, \"\\n                \");\n    i0.ɵɵelementStart(19, \"div\", 26);\n    i0.ɵɵtext(20, \"\\n                    \");\n    i0.ɵɵelement(21, \"jhi-price-type\", 27);\n    i0.ɵɵtext(22, \"\\n                    \");\n    i0.ɵɵelementStart(23, \"dl\", 28);\n    i0.ɵɵtext(24, \"\\n                        \");\n    i0.ɵɵelementStart(25, \"dt\")(26, \"span\", 29);\n    i0.ɵɵtext(27, \"Price\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(28, \"\\n                        \");\n    i0.ɵɵelementStart(29, \"dd\");\n    i0.ɵɵtext(30, \"\\n                            \");\n    i0.ɵɵelementStart(31, \"span\");\n    i0.ɵɵtext(32);\n    i0.ɵɵpipe(33, \"currency\");\n    i0.ɵɵpipe(34, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(35, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(36, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(37, \"\\n              \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(38, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(39, \"\\n            \");\n    i0.ɵɵelementStart(40, \"div\", 15);\n    i0.ɵɵtext(41, \"\\n                \");\n    i0.ɵɵelementStart(42, \"dl\", 30);\n    i0.ɵɵtext(43, \"\\n                    \");\n    i0.ɵɵtemplate(44, ProductDataViewComponent_ng_template_8_ng_container_44_Template, 12, 0, \"ng-container\", 14);\n    i0.ɵɵtext(45, \"\\n                    \");\n    i0.ɵɵtemplate(46, ProductDataViewComponent_ng_template_8_ng_container_46_Template, 13, 4, \"ng-container\", 14);\n    i0.ɵɵtext(47, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(48, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(49, \"\\n            \");\n    i0.ɵɵelementStart(50, \"div\", 15);\n    i0.ɵɵtext(51, \"\\n                \");\n    i0.ɵɵelementStart(52, \"a\", 31);\n    i0.ɵɵlistener(\"click\", function ProductDataViewComponent_ng_template_8_Template_a_click_52_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r16);\n      const product_r11 = restoredCtx.$implicit;\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.goToProduct(product_r11.id));\n    });\n    i0.ɵɵtext(53, \"Go to product\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(54, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(55, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(56, \"\\n    \");\n  }\n  if (rf & 2) {\n    const product_r11 = ctx.$implicit;\n    i0.ɵɵadvance(7);\n    i0.ɵɵpropertyInterpolate(\"alt\", product_r11.title);\n    i0.ɵɵproperty(\"src\", \"data:\" + product_r11.photoContentType + \";base64,\" + product_r11.photo, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(product_r11.title);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"product\", product_r11);\n    i0.ɵɵadvance(11);\n    i0.ɵɵtextInterpolate3(\"\", i0.ɵɵpipeBind1(33, 9, product_r11.price), \" / \", product_r11.amount, \" \", i0.ɵɵpipeBind1(34, 11, \"createyoureventApp.Unit.\" + product_r11.unit), \"\");\n    i0.ɵɵadvance(12);\n    i0.ɵɵproperty(\"ngIf\", product_r11.stock < 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", product_r11.stock >= 0);\n  }\n}\nfunction ProductDataViewComponent_ng_template_10_ng_container_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"\\n                            \");\n    i0.ɵɵelementStart(2, \"dt\")(3, \"span\", 32);\n    i0.ɵɵtext(4, \"Stock\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(5, \"\\n                            \");\n    i0.ɵɵelementStart(6, \"dd\");\n    i0.ɵɵtext(7, \"\\n                                \");\n    i0.ɵɵelementStart(8, \"span\", 33);\n    i0.ɵɵtext(9, \"Infinite\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n                        \");\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction ProductDataViewComponent_ng_template_10_ng_container_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"\\n                            \");\n    i0.ɵɵelementStart(2, \"dt\")(3, \"span\", 32);\n    i0.ɵɵtext(4, \"Stock\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(5, \"\\n                            \");\n    i0.ɵɵelementStart(6, \"dd\");\n    i0.ɵɵtext(7, \"\\n                                \");\n    i0.ɵɵelementStart(8, \"span\");\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\n                        \");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const product_r17 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate2(\"\", product_r17.stock, \" \", i0.ɵɵpipeBind1(10, 2, \"createyoureventApp.Unit.\" + product_r17.unit), \"\");\n  }\n}\nfunction ProductDataViewComponent_ng_template_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n        \");\n    i0.ɵɵelementStart(1, \"div\", 34);\n    i0.ɵɵtext(2, \"\\n            \");\n    i0.ɵɵelementStart(3, \"div\", 35);\n    i0.ɵɵtext(4, \"\\n                \");\n    i0.ɵɵelementStart(5, \"a\", 36);\n    i0.ɵɵtext(6, \"\\n                    \");\n    i0.ɵɵelementStart(7, \"h3\", 25);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \"\\n                    \");\n    i0.ɵɵelementStart(10, \"div\", 23);\n    i0.ɵɵtext(11, \"\\n                        \");\n    i0.ɵɵelement(12, \"img\", 24);\n    i0.ɵɵtext(13, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n                    \");\n    i0.ɵɵelement(15, \"hr\");\n    i0.ɵɵtext(16, \"\\n                    \");\n    i0.ɵɵelementStart(17, \"div\", 26);\n    i0.ɵɵtext(18, \"\\n                        \");\n    i0.ɵɵelement(19, \"jhi-price-type\", 27);\n    i0.ɵɵtext(20, \"\\n                        \");\n    i0.ɵɵelementStart(21, \"dl\", 28);\n    i0.ɵɵtext(22, \"\\n                            \");\n    i0.ɵɵelementStart(23, \"dt\")(24, \"span\", 29);\n    i0.ɵɵtext(25, \"Price\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(26, \"\\n                            \");\n    i0.ɵɵelementStart(27, \"dd\");\n    i0.ɵɵtext(28, \"\\n                                \");\n    i0.ɵɵelementStart(29, \"span\");\n    i0.ɵɵtext(30);\n    i0.ɵɵpipe(31, \"currency\");\n    i0.ɵɵpipe(32, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(33, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(34, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(35, \"\\n                  \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(36, \"\\n                    \");\n    i0.ɵɵelement(37, \"hr\");\n    i0.ɵɵtext(38, \"\\n                    \");\n    i0.ɵɵelementStart(39, \"dl\", 30);\n    i0.ɵɵtext(40, \"\\n                        \");\n    i0.ɵɵtemplate(41, ProductDataViewComponent_ng_template_10_ng_container_41_Template, 12, 0, \"ng-container\", 14);\n    i0.ɵɵtext(42, \"\\n                        \");\n    i0.ɵɵtemplate(43, ProductDataViewComponent_ng_template_10_ng_container_43_Template, 13, 4, \"ng-container\", 14);\n    i0.ɵɵtext(44, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(45, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(46, \"\\n                \");\n    i0.ɵɵelementStart(47, \"a\", 31);\n    i0.ɵɵlistener(\"click\", function ProductDataViewComponent_ng_template_10_Template_a_click_47_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r22);\n      const product_r17 = restoredCtx.$implicit;\n      const ctx_r21 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r21.goToProduct(product_r17.id));\n    });\n    i0.ɵɵtext(48, \"Go to product\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(49, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(50, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(51, \"\\n    \");\n  }\n  if (rf & 2) {\n    const product_r17 = ctx.$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵpropertyInterpolate1(\"href\", \"/products/\", product_r17.id, \"/view\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(product_r17.title);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"alt\", product_r17.title);\n    i0.ɵɵproperty(\"src\", \"data:\" + product_r17.photoContentType + \";base64,\" + product_r17.photo, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"product\", product_r17);\n    i0.ɵɵadvance(11);\n    i0.ɵɵtextInterpolate3(\"\", i0.ɵɵpipeBind1(31, 10, product_r17.price), \" / \", product_r17.amount, \" \", i0.ɵɵpipeBind1(32, 12, \"createyoureventApp.Unit.\" + product_r17.unit), \"\");\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngIf\", product_r17.stock < 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", product_r17.stock >= 0);\n  }\n}\nfunction ProductDataViewComponent_ng_template_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n        \");\n    i0.ɵɵelement(1, \"p-dataViewLayoutOptions\");\n    i0.ɵɵtext(2, \"\\n    \");\n  }\n}\nexport class ProductDataViewComponent {\n  constructor(router, generalService, googleGeocoderService) {\n    _defineProperty(this, \"router\", void 0);\n    _defineProperty(this, \"generalService\", void 0);\n    _defineProperty(this, \"googleGeocoderService\", void 0);\n    _defineProperty(this, \"products\", void 0);\n    _defineProperty(this, \"productsWithDistance\", []);\n    _defineProperty(this, \"sortOrder\", void 0);\n    _defineProperty(this, \"sortField\", void 0);\n    _defineProperty(this, \"starEvents\", []);\n    _defineProperty(this, \"loading\", false);\n    _defineProperty(this, \"distance\", void 0);\n    _defineProperty(this, \"user\", void 0);\n    this.router = router;\n    this.generalService = generalService;\n    this.googleGeocoderService = googleGeocoderService;\n  }\n  ngOnInit() {\n    this.generalService.findWidthAuthorities().subscribe(u => {\n      this.user = u.body;\n    });\n    let shops = [];\n    let products = [];\n    this.generalService.findShopByActiveTrueAndActiveOwnerTrue().subscribe(s => {\n      shops = s.body;\n      this.loadProducts(shops).then(x => {\n        x.forEach(y => {\n          products = products.concat(y.products);\n        });\n        this.products = products;\n        this.productsWithDistance = this.products;\n      });\n    });\n  }\n  loadProducts(shops) {\n    const p = new Promise((resolve, reject) => {\n      let i = 0;\n      shops.forEach(element => {\n        this.generalService.findAllProductsByShopId(element.id).subscribe(prods => {\n          i++;\n          element.products = prods.body;\n          element.products.forEach(p => {\n            p.shop = element;\n          });\n          if (i === shops.length) {\n            resolve(shops);\n          }\n        });\n      });\n    });\n    return p;\n  }\n  goToProduct(productId) {\n    this.router.navigate(['/products/' + productId + '/view']);\n  }\n  changeSliderRadius(e) {\n    console.log(e);\n    this.productsWithDistance = [];\n    let latUser = 0;\n    let lngUser = 0;\n    let posUser;\n    const queryParam = this.user.address.replace(' ', '+');\n    this.googleGeocoderService.getFromAddress(queryParam).subscribe(res => {\n      const geocoder = res.body['results'];\n      const geometry = geocoder[0].geometry;\n      latUser = geometry.location.lat;\n      lngUser = geometry.location.lng;\n      posUser = new google.maps.LatLng(latUser, lngUser);\n      let latShop = 0;\n      let lngShop = 0;\n      let posShop;\n      let i = 0;\n      this.products.forEach(element => {\n        i++;\n        const queryParamShop = element.shop.address.replace(' ', '+');\n        this.googleGeocoderService.getFromAddress(queryParamShop).subscribe(resShop => {\n          const geocoderShop = resShop.body['results'];\n          const geometryShop = geocoderShop[0].geometry;\n          latShop = geometryShop.location.lat;\n          lngShop = geometryShop.location.lng;\n          posShop = new google.maps.LatLng(latShop, lngShop);\n          const distance = google.maps.geometry.spherical.computeDistanceBetween(posUser, posShop);\n          const maxDistance = Number(e) * 1000;\n          if (e === 0) {\n            this.productsWithDistance = this.products;\n          }\n          if (maxDistance > distance) {\n            this.productsWithDistance.push(element);\n          }\n          if (i === this.products.length) {\n            this.productsWithDistance = [...new Set(this.productsWithDistance)];\n          }\n        });\n      });\n    });\n  }\n}\n_defineProperty(ProductDataViewComponent, \"\\u0275fac\", function ProductDataViewComponent_Factory(t) {\n  return new (t || ProductDataViewComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.GeneralService), i0.ɵɵdirectiveInject(i3.GoogleGeocodeService));\n});\n_defineProperty(ProductDataViewComponent, \"\\u0275cmp\", /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProductDataViewComponent,\n  selectors: [[\"jhi-product-data-view\"]],\n  decls: 15,\n  vars: 6,\n  consts: [[\"id\", \"main-title\", \"jhiTranslate\", \"product-data-view.title\", 1, \"main-title\"], [\"filterBy\", \"title\", \"layout\", \"grid\", 3, \"value\", \"paginator\", \"rows\", \"sortField\", \"sortOrder\", \"loading\"], [\"dv\", \"\"], [\"pTemplate\", \"header\"], [\"pTemplate\", \"listItem\"], [\"pTemplate\", \"gridItem\"], [\"pTemplate\", \"footer\"], [1, \"p-d-flex\", \"p-flex-column\", \"p-flex-md-row\", \"p-jc-md-between\"], [1, \"row\"], [1, \"col-md-4\"], [1, \"p-input-icon-left\", \"p-mb-2\", \"p-mb-md-0\"], [1, \"pi\", \"pi-search\"], [\"type\", \"search\", \"pInputText\", \"\", \"placeholder\", \"Search by name\", 3, \"input\"], [1, \"col-md-6\"], [4, \"ngIf\"], [1, \"col-md-2\"], [1, \"col-md-3\"], [\"jhiTranslate\", \"distance.distance\"], [1, \"slider\", 3, \"ngModel\", \"step\", \"ngModelChange\", \"onChange\"], [1, \"col-md-9\"], [\"role\", \"alert\", 1, \"alert\", \"alert-info\"], [\"jhiTranslate\", \"data-view.distance-info\"], [1, \"row\", \"orange\", \"padding\", \"product-row\"], [1, \"center\"], [1, \"img\", 2, \"max-height\", \"250px\", \"max-width\", \"250px\", 3, \"src\", \"alt\"], [1, \"product-title\"], [1, \"star_big\"], [3, \"product\"], [1, \"row-md\", \"jh-entity-details\", \"price\"], [\"jhiTranslate\", \"product-detail.price\"], [1, \"row-md\", \"jh-entity-details\"], [\"jhiTranslate\", \"product-data-view.go-to-product\", 1, \"myButton\", 3, \"click\"], [\"jhiTranslate\", \"product_slider.stock\"], [\"jhiTranslation\", \"select-products.infinite\"], [1, \"p-col-12\", \"p-md-3\"], [1, \"card\", \"card-container\", \"orange\"], [3, \"href\"]],\n  template: function ProductDataViewComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\", 0);\n      i0.ɵɵtext(1, \"Search products\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(2, \"\\n\\n\");\n      i0.ɵɵelementStart(3, \"p-dataView\", 1, 2);\n      i0.ɵɵtext(5, \"\\n  \");\n      i0.ɵɵtemplate(6, ProductDataViewComponent_ng_template_6_Template, 27, 1, \"ng-template\", 3);\n      i0.ɵɵtext(7, \"\\n\\n    \");\n      i0.ɵɵtemplate(8, ProductDataViewComponent_ng_template_8_Template, 57, 13, \"ng-template\", 4);\n      i0.ɵɵtext(9, \"\\n    \");\n      i0.ɵɵtemplate(10, ProductDataViewComponent_ng_template_10_Template, 52, 14, \"ng-template\", 5);\n      i0.ɵɵtext(11, \"\\n\\n\\n    \");\n      i0.ɵɵtemplate(12, ProductDataViewComponent_ng_template_12_Template, 3, 0, \"ng-template\", 6);\n      i0.ɵɵtext(13, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(14, \"\\n\\n\");\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"value\", ctx.productsWithDistance)(\"paginator\", true)(\"rows\", 8)(\"sortField\", ctx.sortField)(\"sortOrder\", ctx.sortOrder)(\"loading\", ctx.loading);\n    }\n  },\n  dependencies: [i4.NgIf, i5.NgControlStatus, i5.NgModel, i6.TranslateDirective, i7.DataView, i8.PrimeTemplate, i7.DataViewLayoutOptions, i9.InputText, i10.PriceTypeComponent, i11.Knob, i4.CurrencyPipe, i12.TranslatePipe],\n  styles: [\".card-container[_ngcontent-%COMP%] {\\n  padding: 20px;\\n  box-shadow: 10px 10px 5px 0px rgba(0, 0, 0, 0.75);\\n  -webkit-box-shadow: 10px 10px 5px 0px rgba(0, 0, 0, 0.75);\\n  -moz-box-shadow: 10px 10px 5px 0px rgba(0, 0, 0, 0.75);\\n}\\n\\n.card[_ngcontent-%COMP%] {\\n  box-shadow: 10px 10px 5px 0px rgba(0, 0, 0, 0.75);\\n  -webkit-box-shadow: 10px 10px 5px 0px rgba(0, 0, 0, 0.75);\\n  -moz-box-shadow: 10px 10px 5px 0px rgba(0, 0, 0, 0.75);\\n}\\n\\n.orange[_ngcontent-%COMP%] {\\n  \\n  background: rgb(255, 168, 76);   \\n  background: linear-gradient(to right, rgb(255, 168, 76) 0%, rgb(255, 123, 13) 100%); \\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr=\\\"#ffa84c\\\", endColorstr=\\\"#ff7b0d\\\",GradientType=1 ); \\n}\\n\\n.product-row[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: 275px;\\n}\\n\\n.main-title[_ngcontent-%COMP%] {\\n  font-family: \\\"Bangers\\\", cursive;\\n  font-size: x-large;\\n  text-align: center;\\n  color: black;\\n}\\n\\n.product-title[_ngcontent-%COMP%] {\\n  font-family: \\\"Bangers\\\", cursive;\\n  font-size: x-large;\\n}\\n\\n#main-title[_ngcontent-%COMP%] {\\n  font-size: 71px;\\n  font-family: Georgia;\\n  color: #ff6600;\\n  font-weight: bold;\\n  text-shadow: 0 0 10px #ffffff, 0 0 20px #ffffff, 0 0 30px #ffffff, 0 0 40px #ff6600, 0 0 70px #ff6600, 0 0 80px #ff6600, 0 0 100px #ff6600, 0 0 170px #ff6600;\\n  text-align: center;\\n  line-height: 250px;\\n}\\n\\n.center[_ngcontent-%COMP%] {\\n  margin: 0 auto;\\n  display: flex;\\n  justify-content: center;\\n}\\n\\n.img[_ngcontent-%COMP%] {\\n  box-shadow: 0px 10px 13px -7px #000000, 5px 5px 15px 5px rgba(0, 0, 0, 0);\\n  display: block;\\n  margin-left: auto;\\n  margin-right: auto;\\n}\\n\\na[_ngcontent-%COMP%] {\\n  text-decoration: none;\\n  color: black;\\n}\\n\\n.star_big[_ngcontent-%COMP%] {\\n  background-image: url('star_250.png');\\n  background-size: 250px 250px;\\n  background-repeat: repeat-x;\\n  width: 250px;\\n  height: 250px;\\n  margin: 0 auto;\\n  text-align: center;\\n  vertical-align: middle;\\n  padding-top: 30px;\\n}\\n\\n.price[_ngcontent-%COMP%] {\\n  color: red;\\n  font-family: \\\"Knewave\\\", cursive;\\n}\\n\\n.padding[_ngcontent-%COMP%] {\\n  padding-top: 5px;\\n}\\n\\n.myButton[_ngcontent-%COMP%] {\\n  box-shadow: 0px 1px 0px 0px #fff6af;\\n  background: linear-gradient(to bottom, #ffec64 5%, #ffab23 100%);\\n  background-color: #ffec64;\\n  border-radius: 6px;\\n  border: 1px solid #ffaa22;\\n  display: inline-block;\\n  cursor: pointer;\\n  color: #333333;\\n  font-family: Arial;\\n  font-size: 15px;\\n  font-weight: bold;\\n  padding: 6px 24px;\\n  text-decoration: none;\\n  text-shadow: 0px 1px 0px #ffee66;\\n}\\n\\n.myButton[_ngcontent-%COMP%]:hover {\\n  background: linear-gradient(to bottom, #ffab23 5%, #ffec64 100%);\\n  background-color: #ffab23;\\n}\\n\\n.myButton[_ngcontent-%COMP%]:active {\\n  position: relative;\\n  top: 1px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9tYWluL3dlYmFwcC9hcHAvc2VhcmNoLWRhdGEtdmlld3MvcHJvZHVjdC1kYXRhLXZpZXcvcHJvZHVjdC1kYXRhLXZpZXcuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUU7RUFDRSxhQUFBO0VBQ0EsaURBQUE7RUFDQSx5REFBQTtFQUNBLHNEQUFBO0FBQ0o7O0FBRUU7RUFDRSxpREFBQTtFQUNBLHlEQUFBO0VBQ0Esc0RBQUE7QUFDSjs7QUFFQTtFQUNFLDJIQUFBO0VBQ0EsNkJBQUEsRUFBQSxpQkFBQSxFQUNBLGFBQUEsRUFDQSw0QkFBQTtFQUNBLG1GQUFBLEVBSUcscURBQUE7RUFDSCxtSEFBQSxFQUFBLFVBQUE7QUFIRjs7QUFNQTtFQUNFLFdBQUE7RUFDQSxhQUFBO0FBSEY7O0FBT0E7RUFDRSwrQkFBQTtFQUNBLGtCQUFBO0VBQ0Esa0JBQUE7RUFDQSxZQUFBO0FBSkY7O0FBT0E7RUFDRSwrQkFBQTtFQUNBLGtCQUFBO0FBSkY7O0FBT0E7RUFDRSxlQUFBO0VBQ0Esb0JBQUE7RUFDQSxjQUFBO0VBQ0EsaUJBQUE7RUFDQSw2SkFBQTtFQUVBLGtCQUFBO0VBQ0Esa0JBQUE7QUFMRjs7QUFRQTtFQUNFLGNBQUE7RUFDQSxhQUFBO0VBQ0EsdUJBQUE7QUFMRjs7QUFRQTtFQUVFLHlFQUFBO0VBQ0EsY0FBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7QUFMRjs7QUFRQTtFQUNFLHFCQUFBO0VBQ0EsWUFBQTtBQUxGOztBQVFBO0VBQ0UscUNBQUE7RUFDQSw0QkFBQTtFQUNBLDJCQUFBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7RUFDQSxjQUFBO0VBQ0Esa0JBQUE7RUFDQSxzQkFBQTtFQUNBLGlCQUFBO0FBTEY7O0FBUUE7RUFDRSxVQUFBO0VBQ0EsK0JBQUE7QUFMRjs7QUFRQTtFQUNFLGdCQUFBO0FBTEY7O0FBUUE7RUFDRSxtQ0FBQTtFQUNBLGdFQUFBO0VBQ0EseUJBQUE7RUFDQSxrQkFBQTtFQUNBLHlCQUFBO0VBQ0EscUJBQUE7RUFDQSxlQUFBO0VBQ0EsY0FBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsaUJBQUE7RUFDQSxxQkFBQTtFQUNBLGdDQUFBO0FBTEY7O0FBT0E7RUFDRSxnRUFBQTtFQUNBLHlCQUFBO0FBSkY7O0FBTUE7RUFDRSxrQkFBQTtFQUNBLFFBQUE7QUFIRiIsInNvdXJjZXNDb250ZW50IjpbIiAgLmNhcmQtY29udGFpbmVyIHtcbiAgICBwYWRkaW5nOiAyMHB4O1xuICAgIGJveC1zaGFkb3c6IDEwcHggMTBweCA1cHggMHB4IHJnYmEoMCwgMCwgMCwgMC43NSk7XG4gICAgLXdlYmtpdC1ib3gtc2hhZG93OiAxMHB4IDEwcHggNXB4IDBweCByZ2JhKDAsIDAsIDAsIDAuNzUpO1xuICAgIC1tb3otYm94LXNoYWRvdzogMTBweCAxMHB4IDVweCAwcHggcmdiYSgwLCAwLCAwLCAwLjc1KTtcbiAgfVxuXG4gIC5jYXJkIHtcbiAgICBib3gtc2hhZG93OiAxMHB4IDEwcHggNXB4IDBweCByZ2JhKDAsIDAsIDAsIDAuNzUpO1xuICAgIC13ZWJraXQtYm94LXNoYWRvdzogMTBweCAxMHB4IDVweCAwcHggcmdiYSgwLCAwLCAwLCAwLjc1KTtcbiAgICAtbW96LWJveC1zaGFkb3c6IDEwcHggMTBweCA1cHggMHB4IHJnYmEoMCwgMCwgMCwgMC43NSk7XG4gIH1cblxuLm9yYW5nZSB7XG4gIC8qIFBlcm1hbGluayAtIHVzZSB0byBlZGl0IGFuZCBzaGFyZSB0aGlzIGdyYWRpZW50OiBodHRwczovL2NvbG9yemlsbGEuY29tL2dyYWRpZW50LWVkaXRvci8jZmZhODRjKzAsZmY3YjBkKzEwMDtPcmFuZ2UrM0QgKi9cbiAgYmFja2dyb3VuZDogcmdiKDI1NSwgMTY4LCA3Nik7IC8qIE9sZCBicm93c2VycyAqL1xuICBiYWNrZ3JvdW5kOiAtbW96LWxpbmVhci1ncmFkaWVudChsZWZ0LCByZ2JhKDI1NSwgMTY4LCA3NiwgMSkgMCUsIHJnYmEoMjU1LCAxMjMsIDEzLCAxKSAxMDAlKTsgLyogRkYzLjYtMTUgKi9cbiAgYmFja2dyb3VuZDogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQobGVmdCwgcmdiYSgyNTUsIDE2OCwgNzYsIDEpIDAlLCByZ2JhKDI1NSwgMTIzLCAxMywgMSkgMTAwJSk7IC8qIENocm9tZTEwLTI1LFNhZmFyaTUuMS02ICovXG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudChcbiAgICB0byByaWdodCxcbiAgICByZ2JhKDI1NSwgMTY4LCA3NiwgMSkgMCUsXG4gICAgcmdiYSgyNTUsIDEyMywgMTMsIDEpIDEwMCVcbiAgKTsgLyogVzNDLCBJRTEwKywgRkYxNissIENocm9tZTI2KywgT3BlcmExMissIFNhZmFyaTcrICovXG4gIGZpbHRlcjogcHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LmdyYWRpZW50KCBzdGFydENvbG9yc3RyPScjZmZhODRjJywgZW5kQ29sb3JzdHI9JyNmZjdiMGQnLEdyYWRpZW50VHlwZT0xICk7IC8qIElFNi05ICovXG59XG5cbi5wcm9kdWN0LXJvdyB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDI3NXB4O1xufVxuXG5cbi5tYWluLXRpdGxlIHtcbiAgZm9udC1mYW1pbHk6ICdCYW5nZXJzJywgY3Vyc2l2ZTtcbiAgZm9udC1zaXplOiB4LWxhcmdlO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGNvbG9yOiBibGFjaztcbn1cblxuLnByb2R1Y3QtdGl0bGUge1xuICBmb250LWZhbWlseTogJ0JhbmdlcnMnLCBjdXJzaXZlO1xuICBmb250LXNpemU6IHgtbGFyZ2U7XG59XG5cbiNtYWluLXRpdGxlIHtcbiAgZm9udC1zaXplOiA3MXB4O1xuICBmb250LWZhbWlseTogR2VvcmdpYTtcbiAgY29sb3I6ICNmZjY2MDA7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICB0ZXh0LXNoYWRvdzogMCAwIDEwcHggI2ZmZmZmZiwgMCAwIDIwcHggI2ZmZmZmZiwgMCAwIDMwcHggI2ZmZmZmZiwgMCAwIDQwcHggI2ZmNjYwMCwgMCAwIDcwcHggI2ZmNjYwMCwgMCAwIDgwcHggI2ZmNjYwMCwgMCAwIDEwMHB4ICNmZjY2MDAsXG4gICAgMCAwIDE3MHB4ICNmZjY2MDA7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgbGluZS1oZWlnaHQ6IDI1MHB4O1xufVxuXG4uY2VudGVyIHtcbiAgbWFyZ2luOiAwIGF1dG87XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xufVxuXG4uaW1nIHtcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiAwcHggMTBweCAxM3B4IC03cHggIzAwMDAwMCwgNXB4IDVweCAxNXB4IDVweCByZ2JhKDAsIDAsIDAsIDApO1xuICBib3gtc2hhZG93OiAwcHggMTBweCAxM3B4IC03cHggIzAwMDAwMCwgNXB4IDVweCAxNXB4IDVweCByZ2JhKDAsIDAsIDAsIDApO1xuICBkaXNwbGF5OiBibG9jaztcbiAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gIG1hcmdpbi1yaWdodDogYXV0bztcbn1cblxuYSB7XG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgY29sb3I6IGJsYWNrO1xufVxuXG4uc3Rhcl9iaWcge1xuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJy4uLy4uLy4uL2NvbnRlbnQvaW1hZ2VzL3N0YXJfMjUwLnBuZycpO1xuICBiYWNrZ3JvdW5kLXNpemU6IDI1MHB4IDI1MHB4O1xuICBiYWNrZ3JvdW5kLXJlcGVhdDogcmVwZWF0LXg7XG4gIHdpZHRoOiAyNTBweDtcbiAgaGVpZ2h0OiAyNTBweDtcbiAgbWFyZ2luOiAwIGF1dG87XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbiAgcGFkZGluZy10b3A6IDMwcHg7XG59XG5cbi5wcmljZSB7XG4gIGNvbG9yOiByZWQ7XG4gIGZvbnQtZmFtaWx5OiAnS25ld2F2ZScsIGN1cnNpdmU7XG59XG5cbi5wYWRkaW5nIHtcbiAgcGFkZGluZy10b3A6IDVweDtcbn1cblxuLm15QnV0dG9uIHtcbiAgYm94LXNoYWRvdzogMHB4IDFweCAwcHggMHB4ICNmZmY2YWY7XG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byBib3R0b20sICNmZmVjNjQgNSUsICNmZmFiMjMgMTAwJSk7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmVjNjQ7XG4gIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgYm9yZGVyOiAxcHggc29saWQgI2ZmYWEyMjtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGNvbG9yOiAjMzMzMzMzO1xuICBmb250LWZhbWlseTogQXJpYWw7XG4gIGZvbnQtc2l6ZTogMTVweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIHBhZGRpbmc6IDZweCAyNHB4O1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gIHRleHQtc2hhZG93OiAwcHggMXB4IDBweCAjZmZlZTY2O1xufVxuLm15QnV0dG9uOmhvdmVyIHtcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgI2ZmYWIyMyA1JSwgI2ZmZWM2NCAxMDAlKTtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmYWIyMztcbn1cbi5teUJ1dHRvbjphY3RpdmUge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHRvcDogMXB4O1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n}));","map":{"version":3,"mappings":"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","names":["i0","ProductDataViewComponent","constructor","router","generalService","googleGeocoderService","ngOnInit","findWidthAuthorities","subscribe","u","user","body","shops","products","findShopByActiveTrueAndActiveOwnerTrue","s","loadProducts","then","x","forEach","y","concat","productsWithDistance","p","Promise","resolve","reject","i","element","findAllProductsByShopId","id","prods","shop","length","goToProduct","productId","navigate","changeSliderRadius","e","console","log","latUser","lngUser","posUser","queryParam","address","replace","getFromAddress","res","geocoder","geometry","location","lat","lng","google","maps","LatLng","latShop","lngShop","posShop","queryParamShop","resShop","geocoderShop","geometryShop","distance","spherical","computeDistanceBetween","maxDistance","Number","push","Set","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/home/ceo/mmmm/createyourevent/src/main/webapp/app/search-data-views/product-data-view/product-data-view.component.html","/home/ceo/mmmm/createyourevent/src/main/webapp/app/search-data-views/product-data-view/product-data-view.component.ts"],"sourcesContent":["<h1 id=\"main-title\" class=\"main-title\" jhiTranslate=\"product-data-view.title\">Search products</h1>\n\n<p-dataView #dv [value]=\"productsWithDistance\"   [paginator]=\"true\" [rows]=\"8\" filterBy=\"title\" [sortField]=\"sortField\" [sortOrder]=\"sortOrder\" layout=\"grid\" [loading]=\"loading\">\n  <ng-template pTemplate=\"header\">\n    <div class=\"p-d-flex p-flex-column p-flex-md-row p-jc-md-between\">\n        <div class=\"row\">\n          <div class=\"col-md-4\">\n            <span class=\"p-input-icon-left p-mb-2 p-mb-md-0\">\n              <i class=\"pi pi-search\"></i>\n              <input type=\"search\" pInputText placeholder=\"Search by name\" (input)=\"dv.filter($event.target!.value)\">\n           </span>\n          </div>\n          <div class=\"col-md-6\">\n            <ng-container *ngIf=\"user\">\n              <div class=\"row\">\n                <div class=\"col-md-3\">\n                  <h5><span jhiTranslate=\"distance.distance\"></span>{{ distance }} Km</h5>\n                  <p-knob [(ngModel)]=\"distance\" [step]=\"5\" (onChange)=\"changeSliderRadius($event)\" class=\"slider\"></p-knob>\n                </div>\n                <div class=\"col-md-9\">\n                  <div class=\"alert alert-info\" role=\"alert\">\n                    <span jhiTranslate=\"data-view.distance-info\">\n                      Use the switch to select the maximum range in which you want to search for events.\n                      If the distance is set to 0, all search results are displayed.\n                    </span>\n                  </div>\n                </div>\n              </div>\n            </ng-container>\n          </div>\n          <div  class=\"col-md-2\">\n            <p-dataViewLayoutOptions></p-dataViewLayoutOptions>\n          </div>\n        </div>\n    </div>\n</ng-template>\n\n    <ng-template let-product pTemplate=\"listItem\">\n        <div class=\"row orange padding product-row\">\n            <div class=\"col-md-3\">\n                <div class=\"center\">\n                    <img class=\"img\" [src]=\"'data:' + product.photoContentType + ';base64,' + product.photo\" style=\"max-height: 250px; max-width: 250px\" alt=\"{{ product.title }}\"/>\n                </div>\n            </div>\n            <div class=\"col-md-3\">\n                <h3 class=\"product-title\">{{ product.title }}</h3>\n            </div>\n            <div class=\"col-md-2\">\n                <div class=\"star_big\">\n                    <jhi-price-type [product]=\"product\"></jhi-price-type>\n                    <dl class=\"row-md jh-entity-details price\">\n                        <dt><span jhiTranslate=\"product-detail.price\">Price</span></dt>\n                        <dd>\n                            <span>{{ product.price | currency }} / {{ product.amount }} {{ \"createyoureventApp.Unit.\" + product.unit  | translate }}</span>\n                        </dd>\n                    </dl>\n              </div>\n            </div>\n            <div class=\"col-md-2\">\n                <dl class=\"row-md jh-entity-details\">\n                    <ng-container *ngIf=\"product.stock < 0\">\n                        <dt><span jhiTranslate=\"product_slider.stock\">Stock</span></dt>\n                        <dd>\n                            <span jhiTranslation=\"select-products.infinite\">Infinite</span>\n                        </dd>\n                    </ng-container>\n                    <ng-container *ngIf=\"product.stock >= 0\">\n                        <dt><span jhiTranslate=\"product_slider.stock\">Stock</span></dt>\n                        <dd>\n                            <span>{{ product.stock }} {{ \"createyoureventApp.Unit.\" + product.unit  | translate }}</span>\n                        </dd>\n                    </ng-container>\n                </dl>\n            </div>\n            <div class=\"col-md-2\">\n                <a (click)=\"goToProduct(product.id)\" class=\"myButton\" jhiTranslate=\"product-data-view.go-to-product\">Go to product</a>\n            </div>\n        </div>\n    </ng-template>\n    <ng-template let-product pTemplate=\"gridItem\">\n        <div class=\"p-col-12 p-md-3\">\n            <div class=\"card card-container orange\">\n                <a href=\"/products/{{ product.id }}/view\">\n                    <h3 class=\"product-title\">{{ product.title }}</h3>\n                    <div class=\"center\">\n                        <img class=\"img\" [src]=\"'data:' + product.photoContentType + ';base64,' + product.photo\" style=\"max-height: 250px; max-width: 250px\" alt=\"{{ product.title }}\"/>\n                    </div>\n                    <hr/>\n                    <div class=\"star_big\">\n                        <jhi-price-type [product]=\"product\"></jhi-price-type>\n                        <dl class=\"row-md jh-entity-details price\">\n                            <dt><span jhiTranslate=\"product-detail.price\">Price</span></dt>\n                            <dd>\n                                <span>{{ product.price | currency }} / {{ product.amount }} {{ \"createyoureventApp.Unit.\" + product.unit  | translate }}</span>\n                            </dd>\n                        </dl>\n                  </div>\n                    <hr/>\n                    <dl class=\"row-md jh-entity-details\">\n                        <ng-container *ngIf=\"product.stock < 0\">\n                            <dt><span jhiTranslate=\"product_slider.stock\">Stock</span></dt>\n                            <dd>\n                                <span jhiTranslation=\"select-products.infinite\">Infinite</span>\n                            </dd>\n                        </ng-container>\n                        <ng-container *ngIf=\"product.stock >= 0\">\n                            <dt><span jhiTranslate=\"product_slider.stock\">Stock</span></dt>\n                            <dd>\n                                <span>{{ product.stock }} {{ \"createyoureventApp.Unit.\" + product.unit  | translate }}</span>\n                            </dd>\n                        </ng-container>\n                    </dl>\n                </a>\n                <a (click)=\"goToProduct(product.id)\" class=\"myButton\" jhiTranslate=\"product-data-view.go-to-product\">Go to product</a>\n            </div>\n        </div>\n    </ng-template>\n\n\n    <ng-template pTemplate=\"footer\">\n        <p-dataViewLayoutOptions></p-dataViewLayoutOptions>\n    </ng-template>\n</p-dataView>\n\n","import { IUser } from './../../entities/user/user.model';\nimport { Component, OnInit } from \"@angular/core\";\nimport { Router } from \"@angular/router\";\nimport { IProduct } from \"app/entities/product/product.model\";\nimport { IShop } from \"app/entities/shop/shop.model\";\nimport { GeneralService } from \"app/general.service\";\nimport { GoogleGeocodeService } from \"app/google-geocode.service\";\n\n\n@Component({\n  selector: 'jhi-product-data-view',\n  templateUrl: './product-data-view.component.html',\n  styleUrls: ['./product-data-view.component.scss']\n})\nexport class ProductDataViewComponent implements OnInit {\n\n  constructor(private router: Router, private generalService: GeneralService, private googleGeocoderService: GoogleGeocodeService) {}\n\n  products!: IProduct[];\n  productsWithDistance: IProduct[] = [];\n  sortOrder!: number;\n  sortField!: string;\n  starEvents: any[] = [];\n  loading = false;\n  distance: number;\n  user: IUser;\n\n  ngOnInit() {\n    this.generalService.findWidthAuthorities().subscribe(u => {\n      this.user = u.body;\n    });\n\n    let shops: IShop[] = [];\n    let products: IProduct[] = [];\n    this.generalService.findShopByActiveTrueAndActiveOwnerTrue().subscribe(s => {\n      shops = s.body!;\n      this.loadProducts(shops).then(x => {\n        x.forEach(y => {\n          products = products.concat(y.products!);\n        });\n        this.products = products;\n        this.productsWithDistance = this.products;\n      });\n    });\n  }\n\n  loadProducts(shops: IShop[]): Promise<IShop[]> {\n    const p = new Promise<IShop[]>((resolve, reject) => {\n      let i = 0;\n      shops.forEach(element => {\n        this.generalService.findAllProductsByShopId(element.id!).subscribe(prods => {\n          i++;\n          element.products = prods.body;\n          element.products.forEach(p => {\n            p.shop = element;\n          });\n          if (i === shops.length) {\n            resolve(shops);\n          }\n        });\n      });\n    });\n    return p;\n  }\n\n  goToProduct(productId: number): void {\n    this.router.navigate(['/products/' + productId + '/view']);\n  }\n\n  changeSliderRadius(e: any): void {\n    console.log(e);\n    this.productsWithDistance = [];\n    let latUser = 0;\n    let lngUser = 0;\n    let posUser: google.maps.LatLng;\n    const queryParam = this.user.address!.replace(' ', '+');\n    this.googleGeocoderService.getFromAddress(queryParam).subscribe((res: any) => {\n      const geocoder = res.body!['results'];\n      const geometry = geocoder[0].geometry;\n      latUser = geometry.location.lat;\n      lngUser = geometry.location.lng;\n      posUser = new google.maps.LatLng(latUser, lngUser);\n\n        let latShop = 0;\n        let lngShop = 0;\n        let posShop: google.maps.LatLng;\n        let i = 0;\n        this.products.forEach(element => {\n          i++;\n          const queryParamShop = element.shop.address!.replace(' ', '+');\n          this.googleGeocoderService.getFromAddress(queryParamShop).subscribe((resShop: any) => {\n            const geocoderShop = resShop.body!['results'];\n            const geometryShop = geocoderShop[0].geometry;\n            latShop = geometryShop.location.lat;\n            lngShop = geometryShop.location.lng;\n            posShop = new google.maps.LatLng(latShop, lngShop);\n            const distance = google.maps.geometry.spherical.computeDistanceBetween(posUser, posShop);\n            const maxDistance = Number(e)* 1000;\n            if(e === 0) {\n              this.productsWithDistance = this.products;\n            }\n            if (maxDistance > distance) {\n              this.productsWithDistance.push(element);\n            }\n            if (i === this.products.length) {\n              this.productsWithDistance = [...new Set(this.productsWithDistance)];\n            }\n          });\n        });\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}