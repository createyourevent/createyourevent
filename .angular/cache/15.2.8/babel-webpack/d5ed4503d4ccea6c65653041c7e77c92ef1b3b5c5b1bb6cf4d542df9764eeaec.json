{"ast":null,"code":"import _defineProperty from \"/home/ceo/mmmm/createyourevent/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport * as dayjs from \"dayjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"app/general.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"app/organisator/organisator.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i6 from \"@fortawesome/angular-fontawesome\";\nimport * as i7 from \"../shared/language/translate.directive\";\nimport * as i8 from \"app/views/gradient-directive/gradient.directive\";\nimport * as i9 from \"ngx-rend-timeline\";\nimport * as i10 from \"@angular/material/card\";\nfunction StreamComponent_ng_template_2_ng_container_1_ng_container_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"\\n                                    \");\n    i0.ɵɵelementStart(2, \"div\", 17);\n    i0.ɵɵtext(3, \"\\n                                        \");\n    i0.ɵɵelementStart(4, \"span\", 18);\n    i0.ɵɵtext(5, \"This event will definitely take place.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n                                      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n                                \");\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction StreamComponent_ng_template_2_ng_container_1_ng_container_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"\\n                                    \");\n    i0.ɵɵelementStart(2, \"div\", 19);\n    i0.ɵɵtext(3, \"\\n                                        \");\n    i0.ɵɵelementStart(4, \"span\", 20);\n    i0.ɵɵtext(5, \"This event has not yet been definitively confirmed.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n                                      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n                                \");\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction StreamComponent_ng_template_2_ng_container_1_ng_container_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"\\n                        \");\n    i0.ɵɵelement(2, \"img\", 21);\n    i0.ɵɵtext(3, \"\\n                    \");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const event_r1 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", \"data:\" + event_r1.flyerContentType + \";base64,\" + event_r1.flyer, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction StreamComponent_ng_template_2_ng_container_1_ng_template_68_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                      \");\n    i0.ɵɵelementStart(1, \"span\", 22);\n    i0.ɵɵtext(2, \"\\n                        \");\n    i0.ɵɵelementStart(3, \"span\", 23);\n    i0.ɵɵtext(4, \"\\u2665\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\u2665\\n                      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n                    \");\n  }\n  if (rf & 2) {\n    const fill_r11 = ctx.fill;\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"full\", fill_r11 === 100);\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleProp(\"width\", fill_r11, \"%\");\n  }\n}\nfunction StreamComponent_ng_template_2_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"\\n            \");\n    i0.ɵɵelementStart(2, \"mzd-timeline-content\", 3);\n    i0.ɵɵtext(3, \"\\n                \");\n    i0.ɵɵelementStart(4, \"mzd-icon\");\n    i0.ɵɵelement(5, \"fa-icon\", 4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n                \");\n    i0.ɵɵelementStart(7, \"mat-card\", 5);\n    i0.ɵɵtext(8, \"\\n                    \");\n    i0.ɵɵelementStart(9, \"mat-card-header\");\n    i0.ɵɵtext(10, \"\\n                        \");\n    i0.ɵɵelementStart(11, \"div\", 6);\n    i0.ɵɵtext(12, \"\\n                            \");\n    i0.ɵɵelementStart(13, \"div\", 7);\n    i0.ɵɵtext(14, \"\\n                                \");\n    i0.ɵɵelementStart(15, \"mat-card-title\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17, \"\\n                                \");\n    i0.ɵɵelementStart(18, \"mat-card-subtitle\");\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21, \"\\n                            \");\n    i0.ɵɵelementStart(22, \"div\", 7);\n    i0.ɵɵtext(23, \"\\n                                \");\n    i0.ɵɵtemplate(24, StreamComponent_ng_template_2_ng_container_1_ng_container_24_Template, 8, 0, \"ng-container\", 2);\n    i0.ɵɵtext(25, \"\\n                                \");\n    i0.ɵɵtemplate(26, StreamComponent_ng_template_2_ng_container_1_ng_container_26_Template, 8, 0, \"ng-container\", 2);\n    i0.ɵɵtext(27, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(28, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(29, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(30, \"\\n                    \");\n    i0.ɵɵtemplate(31, StreamComponent_ng_template_2_ng_container_1_ng_container_31_Template, 4, 1, \"ng-container\", 2);\n    i0.ɵɵtext(32, \"\\n                    \");\n    i0.ɵɵelementStart(33, \"mat-card-content\");\n    i0.ɵɵtext(34, \"\\n                    \");\n    i0.ɵɵelementStart(35, \"p\", 8);\n    i0.ɵɵtext(36);\n    i0.ɵɵpipe(37, \"date\");\n    i0.ɵɵpipe(38, \"date\");\n    i0.ɵɵpipe(39, \"date\");\n    i0.ɵɵpipe(40, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(41, \"\\n                    \");\n    i0.ɵɵelement(42, \"hr\");\n    i0.ɵɵtext(43, \"\\n                    \");\n    i0.ɵɵelementStart(44, \"p\");\n    i0.ɵɵtext(45, \"\\n                        \");\n    i0.ɵɵelementStart(46, \"dt\")(47, \"span\", 9);\n    i0.ɵɵtext(48, \"Placenumber\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(49, \"\\n                        \");\n    i0.ɵɵelementStart(50, \"dd\");\n    i0.ɵɵtext(51, \"\\n                            \");\n    i0.ɵɵelementStart(52, \"span\");\n    i0.ɵɵtext(53);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(54, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(55, \"\\n                        \");\n    i0.ɵɵelementStart(56, \"dt\")(57, \"span\", 10);\n    i0.ɵɵtext(58, \"Price\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(59, \"\\n                        \");\n    i0.ɵɵelementStart(60, \"dd\");\n    i0.ɵɵtext(61, \"\\n                            \");\n    i0.ɵɵelementStart(62, \"span\");\n    i0.ɵɵtext(63);\n    i0.ɵɵpipe(64, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(65, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(66, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(67, \"\\n\\n                    \");\n    i0.ɵɵtemplate(68, StreamComponent_ng_template_2_ng_container_1_ng_template_68_Template, 7, 4, \"ng-template\", null, 11, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵtext(70, \"\\n                      \");\n    i0.ɵɵelement(71, \"ngb-rating\", 12);\n    i0.ɵɵtext(72, \"\\n                      \");\n    i0.ɵɵelement(73, \"br\");\n    i0.ɵɵtext(74, \"\\n                      \");\n    i0.ɵɵelementStart(75, \"span\", 13);\n    i0.ɵɵtext(76, \"Total ratings:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(77);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(78, \"\\n                    \");\n    i0.ɵɵelementStart(79, \"mat-card-actions\");\n    i0.ɵɵtext(80, \"\\n                        \");\n    i0.ɵɵelementStart(81, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function StreamComponent_ng_template_2_ng_container_1_Template_button_click_81_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const event_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.goToEvent(event_r1.id));\n    });\n    i0.ɵɵtext(82, \"\\n                            \");\n    i0.ɵɵelement(83, \"fa-icon\", 15);\n    i0.ɵɵtext(84, \"\\n                            \");\n    i0.ɵɵelementStart(85, \"span\", 16);\n    i0.ɵɵtext(86, \"View\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(87, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(88, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(89, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(90, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(91, \"\\n        \");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const _r8 = i0.ɵɵreference(69);\n    const event_r1 = i0.ɵɵnextContext().$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"card\", false)(\"border\", true);\n    i0.ɵɵadvance(14);\n    i0.ɵɵtextInterpolate(event_r1.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(event_r1.motto);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", event_r1.definitelyConfirmed && event_r1.status === \"DEFINITELY\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !event_r1.definitelyConfirmed && event_r1.status === \"PROCESSING\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", event_r1.flyer);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate4(\"\\n                        \", i0.ɵɵpipeBind1(37, 18, event_r1.dateStart.toString()), \"  \", i0.ɵɵpipeBind2(38, 20, event_r1.dateStart.toString(), \"shortTime\"), \" - \", i0.ɵɵpipeBind1(39, 23, event_r1.dateEnd.toString()), \"  \", i0.ɵɵpipeBind2(40, 25, event_r1.dateEnd.toString(), \"shortTime\"), \"\\n                    \");\n    i0.ɵɵadvance(17);\n    i0.ɵɵtextInterpolate(event_r1.placenumber);\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(64, 28, event_r1.price));\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"rate\", ctx_r3.getAverage(event_r1.id))(\"starTemplate\", _r8)(\"readonly\", true)(\"max\", 5);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.getRatingsTotal(event_r1.id), \"\\n\\n                    \");\n  }\n}\nfunction StreamComponent_ng_template_2_ng_container_3_ng_container_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"\\n                                    \");\n    i0.ɵɵelementStart(2, \"div\", 17);\n    i0.ɵɵtext(3, \"\\n                                        \");\n    i0.ɵɵelementStart(4, \"span\", 18);\n    i0.ɵɵtext(5, \"This event will definitely take place.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n                                      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n                                \");\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction StreamComponent_ng_template_2_ng_container_3_ng_container_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"\\n                                    \");\n    i0.ɵɵelementStart(2, \"div\", 19);\n    i0.ɵɵtext(3, \"\\n                                        \");\n    i0.ɵɵelementStart(4, \"span\", 20);\n    i0.ɵɵtext(5, \"This event has not yet been definitively confirmed.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n                                      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n                                \");\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction StreamComponent_ng_template_2_ng_container_3_ng_container_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"\\n                        \");\n    i0.ɵɵelement(2, \"img\", 21);\n    i0.ɵɵtext(3, \"\\n                    \");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const event_r1 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", \"data:\" + event_r1.flyerContentType + \";base64,\" + event_r1.flyer, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction StreamComponent_ng_template_2_ng_container_3_ng_template_68_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                      \");\n    i0.ɵɵelementStart(1, \"span\", 22);\n    i0.ɵɵtext(2, \"\\n                        \");\n    i0.ɵɵelementStart(3, \"span\", 23);\n    i0.ɵɵtext(4, \"\\u2665\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\u2665\\n                      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n                    \");\n  }\n  if (rf & 2) {\n    const fill_r22 = ctx.fill;\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"full\", fill_r22 === 100);\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleProp(\"width\", fill_r22, \"%\");\n  }\n}\nfunction StreamComponent_ng_template_2_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"\\n            \");\n    i0.ɵɵelementStart(2, \"mzd-timeline-content\", 24);\n    i0.ɵɵtext(3, \"\\n                \");\n    i0.ɵɵelementStart(4, \"mzd-icon\");\n    i0.ɵɵelement(5, \"fa-icon\", 25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n                \");\n    i0.ɵɵelementStart(7, \"mat-card\", 5);\n    i0.ɵɵtext(8, \"\\n                    \");\n    i0.ɵɵelementStart(9, \"mat-card-header\");\n    i0.ɵɵtext(10, \"\\n                        \");\n    i0.ɵɵelementStart(11, \"div\", 6);\n    i0.ɵɵtext(12, \"\\n                            \");\n    i0.ɵɵelementStart(13, \"div\", 7);\n    i0.ɵɵtext(14, \"\\n                                \");\n    i0.ɵɵelementStart(15, \"mat-card-title\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17, \"\\n                                \");\n    i0.ɵɵelementStart(18, \"mat-card-subtitle\");\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21, \"\\n                            \");\n    i0.ɵɵelementStart(22, \"div\", 7);\n    i0.ɵɵtext(23, \"\\n                                \");\n    i0.ɵɵtemplate(24, StreamComponent_ng_template_2_ng_container_3_ng_container_24_Template, 8, 0, \"ng-container\", 2);\n    i0.ɵɵtext(25, \"\\n                                \");\n    i0.ɵɵtemplate(26, StreamComponent_ng_template_2_ng_container_3_ng_container_26_Template, 8, 0, \"ng-container\", 2);\n    i0.ɵɵtext(27, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(28, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(29, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(30, \"\\n                    \");\n    i0.ɵɵtemplate(31, StreamComponent_ng_template_2_ng_container_3_ng_container_31_Template, 4, 1, \"ng-container\", 2);\n    i0.ɵɵtext(32, \"\\n                    \");\n    i0.ɵɵelementStart(33, \"mat-card-content\");\n    i0.ɵɵtext(34, \"\\n                    \");\n    i0.ɵɵelementStart(35, \"p\", 8);\n    i0.ɵɵtext(36);\n    i0.ɵɵpipe(37, \"date\");\n    i0.ɵɵpipe(38, \"date\");\n    i0.ɵɵpipe(39, \"date\");\n    i0.ɵɵpipe(40, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(41, \"\\n                    \");\n    i0.ɵɵelement(42, \"hr\");\n    i0.ɵɵtext(43, \"\\n                    \");\n    i0.ɵɵelementStart(44, \"p\");\n    i0.ɵɵtext(45, \"\\n                        \");\n    i0.ɵɵelementStart(46, \"dt\")(47, \"span\", 9);\n    i0.ɵɵtext(48, \"Placenumber\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(49, \"\\n                        \");\n    i0.ɵɵelementStart(50, \"dd\");\n    i0.ɵɵtext(51, \"\\n                            \");\n    i0.ɵɵelementStart(52, \"span\");\n    i0.ɵɵtext(53);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(54, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(55, \"\\n                        \");\n    i0.ɵɵelementStart(56, \"dt\")(57, \"span\", 10);\n    i0.ɵɵtext(58, \"Price\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(59, \"\\n                        \");\n    i0.ɵɵelementStart(60, \"dd\");\n    i0.ɵɵtext(61, \"\\n                            \");\n    i0.ɵɵelementStart(62, \"span\");\n    i0.ɵɵtext(63);\n    i0.ɵɵpipe(64, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(65, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(66, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(67, \"\\n                    \");\n    i0.ɵɵtemplate(68, StreamComponent_ng_template_2_ng_container_3_ng_template_68_Template, 7, 4, \"ng-template\", null, 11, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵtext(70, \"\\n                      \");\n    i0.ɵɵelement(71, \"ngb-rating\", 12);\n    i0.ɵɵtext(72, \"\\n                      \");\n    i0.ɵɵelement(73, \"br\");\n    i0.ɵɵtext(74, \"\\n                      \");\n    i0.ɵɵelementStart(75, \"span\", 13);\n    i0.ɵɵtext(76, \"Total ratings:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(77);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(78, \"\\n                    \");\n    i0.ɵɵelementStart(79, \"mat-card-actions\");\n    i0.ɵɵtext(80, \"\\n                        \");\n    i0.ɵɵelementStart(81, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function StreamComponent_ng_template_2_ng_container_3_Template_button_click_81_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const event_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r23 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r23.goToEvent(event_r1.id));\n    });\n    i0.ɵɵtext(82, \"\\n                            \");\n    i0.ɵɵelement(83, \"fa-icon\", 15);\n    i0.ɵɵtext(84, \"\\n                            \");\n    i0.ɵɵelementStart(85, \"span\", 16);\n    i0.ɵɵtext(86, \"View\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(87, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(88, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(89, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(90, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(91, \"\\n        \");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const _r19 = i0.ɵɵreference(69);\n    const event_r1 = i0.ɵɵnextContext().$implicit;\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"card\", false)(\"border\", true);\n    i0.ɵɵadvance(14);\n    i0.ɵɵtextInterpolate(event_r1.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(event_r1.motto);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", event_r1.definitelyConfirmed && event_r1.status === \"DEFINITELY\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !event_r1.definitelyConfirmed && event_r1.status === \"PROCESSING\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", event_r1.flyer);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate4(\"\\n                      \", i0.ɵɵpipeBind1(37, 18, event_r1.dateStart.toString()), \"  \", i0.ɵɵpipeBind2(38, 20, event_r1.dateStart.toString(), \"shortTime\"), \" - \", i0.ɵɵpipeBind1(39, 23, event_r1.dateEnd.toString()), \"  \", i0.ɵɵpipeBind2(40, 25, event_r1.dateEnd.toString(), \"shortTime\"), \"\\n                    \");\n    i0.ɵɵadvance(17);\n    i0.ɵɵtextInterpolate(event_r1.placenumber);\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(64, 28, event_r1.price));\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"rate\", ctx_r4.getAverage(event_r1.id))(\"starTemplate\", _r19)(\"readonly\", true)(\"max\", 5);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r4.getRatingsTotal(event_r1.id), \"\\n                    \");\n  }\n}\nfunction StreamComponent_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n        \");\n    i0.ɵɵtemplate(1, StreamComponent_ng_template_2_ng_container_1_Template, 92, 30, \"ng-container\", 2);\n    i0.ɵɵtext(2, \"\\n        \");\n    i0.ɵɵtemplate(3, StreamComponent_ng_template_2_ng_container_3_Template, 92, 30, \"ng-container\", 2);\n    i0.ɵɵtext(4, \"\\n     \");\n  }\n  if (rf & 2) {\n    const i_r2 = ctx.index;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i_r2 % 2 === 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", i_r2 % 2 !== 0);\n  }\n}\nexport class StreamComponent {\n  constructor(generalService, router, organisatorService) {\n    _defineProperty(this, \"generalService\", void 0);\n    _defineProperty(this, \"router\", void 0);\n    _defineProperty(this, \"organisatorService\", void 0);\n    _defineProperty(this, \"events\", void 0);\n    _defineProperty(this, \"alternateSide\", true);\n    _defineProperty(this, \"firstContentSide\", \"right\");\n    _defineProperty(this, \"index\", 0);\n    _defineProperty(this, \"starEvents\", []);\n    this.generalService = generalService;\n    this.router = router;\n    this.organisatorService = organisatorService;\n  }\n  ngOnInit() {\n    this.generalService.findEventyByPrivateOrPublicAndActiveTrueAndDateEndAfter(dayjs()).subscribe(res => {\n      this.events = res.body;\n      this.events.forEach(e => {\n        this.organisatorService.findReservationsByEventId(e.id).subscribe(r => {\n          e.reservations = r.body;\n        });\n        this.generalService.getEventStarRatingByEvent(e.id).subscribe(res => {\n          const ratings = res.body;\n          let total = 0;\n          ratings.forEach(el => {\n            total += el.stars;\n          });\n          let avg = total / ratings.length / 10 * 5;\n          if (ratings.length === 0) {\n            avg = 0;\n          }\n          this.starEvents.push({\n            event: e,\n            average: avg,\n            total: ratings.length\n          });\n        });\n      });\n    });\n  }\n  ngOnDestroy() {}\n  goToEvent(eventId) {\n    this.router.navigate(['/events/' + eventId + '/view']);\n  }\n  trackByFn() {\n    this.index++;\n  }\n  // Average of the stars\n  getAverage(eventId) {\n    const se = this.starEvents.find(x => x.event.id === eventId);\n    return se.average;\n  }\n  getRatingsTotal(eventId) {\n    const se = this.starEvents.find(x => x.event.id === eventId);\n    return se.total;\n  }\n}\n_defineProperty(StreamComponent, \"\\u0275fac\", function StreamComponent_Factory(t) {\n  return new (t || StreamComponent)(i0.ɵɵdirectiveInject(i1.GeneralService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.OrganisatorService));\n});\n_defineProperty(StreamComponent, \"\\u0275cmp\", /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: StreamComponent,\n  selectors: [[\"jhi-stream\"]],\n  decls: 5,\n  vars: 4,\n  consts: [[3, \"alternateSide\", \"firstContentSide\"], [\"ngFor\", \"\", 3, \"ngForOf\", \"ngForTrackBy\"], [4, \"ngIf\"], [1, \"content-left\", 3, \"card\", \"border\"], [\"icon\", \"grin-stars\"], [3, \"gradient\"], [1, \"row\"], [1, \"col-md-6\"], [1, \"date\"], [\"jhiTranslate\", \"event-detail.placenumber\"], [\"jhiTranslate\", \"event-detail.price\"], [\"t\", \"\"], [3, \"rate\", \"starTemplate\", \"readonly\", \"max\"], [\"jhiTranslate\", \"event-detail.total-ratings\"], [1, \"btn\", \"btn-info\", \"btn-sm\", 3, \"click\"], [\"icon\", \"eye\"], [\"jhiTranslate\", \"entity.action.view\", 1, \"d-none\", \"d-md-inline\"], [\"role\", \"alert\", 1, \"alert\", \"alert-success\"], [\"jhiTranslate\", \"event-detail.definitely\"], [\"role\", \"alert\", 1, \"alert\", \"alert-warning\"], [\"jhiTranslate\", \"event-detail.not-confirmed\"], [\"mat-card-image\", \"\", \"alt\", \"event image\", 3, \"src\"], [1, \"heart\"], [1, \"half\"], [1, \"content-right\", 3, \"card\", \"border\"], [\"icon\", \"star\"]],\n  template: function StreamComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"mzd-timeline\", 0);\n      i0.ɵɵtext(1, \"\\n    \");\n      i0.ɵɵtemplate(2, StreamComponent_ng_template_2_Template, 5, 2, \"ng-template\", 1);\n      i0.ɵɵtext(3, \"\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(4, \"\\n\");\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"alternateSide\", ctx.alternateSide)(\"firstContentSide\", ctx.firstContentSide);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.events)(\"ngForTrackBy\", ctx.trackByFn);\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf, i5.NgbRating, i6.FaIconComponent, i7.TranslateDirective, i8.GradientDirective, i9.MzdTimelineComponent, i9.MzdTimelineContentComponent, i9.MzdIconComponent, i10.MatCard, i10.MatCardHeader, i10.MatCardContent, i10.MatCardTitle, i10.MatCardSubtitle, i10.MatCardActions, i10.MatCardImage, i4.CurrencyPipe, i4.DatePipe],\n  styles: [\".date[_ngcontent-%COMP%] {\\n  font-weight: bold;\\n  font-size: larger;\\n}\\n\\n.heart[_ngcontent-%COMP%] {\\n  position: relative;\\n  display: inline-block;\\n  font-size: 3rem;\\n  color: #d3d3d3;\\n}\\n\\n.full[_ngcontent-%COMP%] {\\n  color: red;\\n}\\n\\n.half[_ngcontent-%COMP%] {\\n  position: absolute;\\n  display: inline-block;\\n  overflow: hidden;\\n  color: red;\\n}\\n\\n.mat-card[_ngcontent-%COMP%] {\\n  box-shadow: 0px 10px 13px -7px #000000, 5px 5px 15px 5px rgba(0, 0, 0, 0);\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9tYWluL3dlYmFwcC9hcHAvc3RyZWFtL3N0cmVhbS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGlCQUFBO0VBQ0EsaUJBQUE7QUFDSjs7QUFFQTtFQUNFLGtCQUFBO0VBQ0EscUJBQUE7RUFDQSxlQUFBO0VBQ0EsY0FBQTtBQUNGOztBQUVBO0VBQ0UsVUFBQTtBQUNGOztBQUNBO0VBQ0Usa0JBQUE7RUFDQSxxQkFBQTtFQUNBLGdCQUFBO0VBQ0EsVUFBQTtBQUVGOztBQUNBO0VBRUUseUVBQUE7QUFFRiIsInNvdXJjZXNDb250ZW50IjpbIi5kYXRlIHtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICBmb250LXNpemU6IGxhcmdlcjtcbn1cblxuLmhlYXJ0IHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIGZvbnQtc2l6ZTogM3JlbTtcbiAgY29sb3I6ICNkM2QzZDM7XG59XG5cbi5mdWxsIHtcbiAgY29sb3I6IHJlZDtcbn1cbi5oYWxmIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIGNvbG9yOiByZWQ7XG59XG5cbi5tYXQtY2FyZCB7XG4gIC13ZWJraXQtYm94LXNoYWRvdzogMHB4IDEwcHggMTNweCAtN3B4ICMwMDAwMDAsIDVweCA1cHggMTVweCA1cHggcmdiYSgwLDAsMCwwKTtcbiAgYm94LXNoYWRvdzogMHB4IDEwcHggMTNweCAtN3B4ICMwMDAwMDAsIDVweCA1cHggMTVweCA1cHggcmdiYSgwLDAsMCwwKTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n}));","map":{"version":3,"mappings":"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","names":["dayjs","i0","StreamComponent","constructor","generalService","router","organisatorService","ngOnInit","findEventyByPrivateOrPublicAndActiveTrueAndDateEndAfter","subscribe","res","events","body","forEach","e","findReservationsByEventId","id","r","reservations","getEventStarRatingByEvent","ratings","total","el","stars","avg","length","starEvents","push","event","average","ngOnDestroy","goToEvent","eventId","navigate","trackByFn","index","getAverage","se","find","x","getRatingsTotal","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/home/ceo/mmmm/createyourevent/src/main/webapp/app/stream/stream.component.ts","/home/ceo/mmmm/createyourevent/src/main/webapp/app/stream/stream.component.html"],"sourcesContent":["\nimport { Component, OnInit, OnDestroy } from \"@angular/core\";\nimport { Router } from \"@angular/router\";\nimport { IEvent } from \"app/entities/event/event.model\";\nimport { GeneralService } from \"app/general.service\";\nimport { OrganisatorService } from \"app/organisator/organisator.service\";\nimport * as dayjs from \"dayjs\";\n\n@Component({\n  selector: 'jhi-stream',\n  templateUrl: './stream.component.html',\n  styleUrls: ['stream.component.scss']\n})\nexport class StreamComponent implements OnInit, OnDestroy {\n\n  events!: IEvent[];\n  alternateSide = true;\n  firstContentSide: \"left\" | \"right\" = \"right\";\n  index = 0;\n  starEvents: any[] = [];\n\n  constructor(private generalService: GeneralService,\n              private router: Router,\n              private organisatorService: OrganisatorService,) {}\n\n  ngOnInit(): void {\n    this.generalService.findEventyByPrivateOrPublicAndActiveTrueAndDateEndAfter(dayjs()).subscribe(res => {\n      this.events = res.body!;\n\n      this.events.forEach(e => {\n        this.organisatorService.findReservationsByEventId(e.id!).subscribe(r => {\n          e.reservations = r.body;\n        });\n\n        this.generalService.getEventStarRatingByEvent(e.id!).subscribe(res => {\n          const ratings = res.body!;\n          let total = 0;\n          ratings.forEach(el => {\n            total += el.stars!;\n          });\n          let avg = (total / ratings.length / 10) * 5;\n          if(ratings.length === 0) {\n            avg = 0;\n          }\n          this.starEvents.push({ event: e, average: avg, total: ratings.length });\n        });\n      });\n\n    });\n  }\n\n  ngOnDestroy(): void {\n  }\n\n  goToEvent(eventId: number): void {\n    this.router.navigate(['/events/' + eventId + '/view']);\n  }\n\n  trackByFn(): void {\n    this.index++;\n  }\n\n    // Average of the stars\n    getAverage(eventId: number): number {\n      const se = this.starEvents.find(x => x.event.id === eventId);\n      return se.average;\n    }\n\n    getRatingsTotal(eventId: number) {\n      const se = this.starEvents.find(x => x.event.id === eventId);\n      return se.total;\n    }\n\n}\n","<mzd-timeline [alternateSide]=\"alternateSide\" [firstContentSide]=\"firstContentSide\">\n    <ng-template ngFor let-event [ngForOf]=\"events\" let-i=\"index\" [ngForTrackBy]=\"trackByFn\">\n        <ng-container *ngIf=\"i%2 === 0\">\n            <mzd-timeline-content [card]=\"false\" [border]=\"true\" class=\"content-left\">\n                <mzd-icon><fa-icon icon=\"grin-stars\"></fa-icon></mzd-icon>\n                <mat-card [gradient]>\n                    <mat-card-header>\n                        <div class=\"row\">\n                            <div class=\"col-md-6\">\n                                <mat-card-title>{{event.name}}</mat-card-title>\n                                <mat-card-subtitle>{{event.motto}}</mat-card-subtitle>\n                            </div>\n                            <div class=\"col-md-6\">\n                                <ng-container *ngIf=\"event.definitelyConfirmed && event.status === 'DEFINITELY'\">\n                                    <div class=\"alert alert-success\" role=\"alert\">\n                                        <span jhiTranslate=\"event-detail.definitely\">This event will definitely take place.</span>\n                                      </div>\n                                </ng-container>\n                                <ng-container *ngIf=\"!event.definitelyConfirmed && event.status === 'PROCESSING'\">\n                                    <div class=\"alert alert-warning\" role=\"alert\">\n                                        <span jhiTranslate=\"event-detail.not-confirmed\">This event has not yet been definitively confirmed.</span>\n                                      </div>\n                                </ng-container>\n                            </div>\n                        </div>\n                    </mat-card-header>\n                    <ng-container *ngIf=\"event.flyer\">\n                        <img mat-card-image [src]=\"'data:' + event.flyerContentType + ';base64,' + event.flyer\" alt=\"event image\"/>\n                    </ng-container>\n                    <mat-card-content>\n                    <p class=\"date\">\n                        {{ event.dateStart!.toString() | date }}  {{ event.dateStart!.toString() | date:'shortTime' }} - {{ event.dateEnd!.toString() | date }}  {{ event.dateEnd!.toString() | date:'shortTime' }}\n                    </p>\n                    <hr/>\n                    <p>\n                        <dt><span jhiTranslate=\"event-detail.placenumber\">Placenumber</span></dt>\n                        <dd>\n                            <span>{{ event.placenumber }}</span>\n                        </dd>\n                        <dt><span jhiTranslate=\"event-detail.price\">Price</span></dt>\n                        <dd>\n                            <span>{{ event.price | currency }}</span>\n                        </dd>\n                    </p>\n\n                    <ng-template #t let-fill=\"fill\">\n                      <span class=\"heart\" [class.full]=\"fill === 100\">\n                        <span class=\"half\" [style.width.%]=\"fill\">&hearts;</span>&hearts;\n                      </span>\n                    </ng-template>\n                      <ngb-rating [rate]=\"getAverage(event.id)\" [starTemplate]=\"t\" [readonly]=\"true\" [max]=\"5\"></ngb-rating>\n                      <br/>\n                      <span jhiTranslate=\"event-detail.total-ratings\">Total ratings:</span> {{ getRatingsTotal(event.id) }}\n\n                    </mat-card-content>\n                    <mat-card-actions>\n                        <button (click)=\"goToEvent(event.id!)\" class=\"btn btn-info btn-sm\">\n                            <fa-icon icon=\"eye\"></fa-icon>\n                            <span class=\"d-none d-md-inline\" jhiTranslate=\"entity.action.view\">View</span>\n                        </button>\n                    </mat-card-actions>\n                </mat-card>\n            </mzd-timeline-content>\n        </ng-container>\n        <ng-container *ngIf=\"i%2 !== 0\">\n            <mzd-timeline-content  [card]=\"false\" [border]=\"true\" class=\"content-right\">\n                <mzd-icon><fa-icon icon=\"star\"></fa-icon></mzd-icon>\n                <mat-card [gradient]>\n                    <mat-card-header>\n                        <div class=\"row\">\n                            <div class=\"col-md-6\">\n                                <mat-card-title>{{event.name}}</mat-card-title>\n                                <mat-card-subtitle>{{event.motto}}</mat-card-subtitle>\n                            </div>\n                            <div class=\"col-md-6\">\n                                <ng-container *ngIf=\"event.definitelyConfirmed && event.status === 'DEFINITELY'\">\n                                    <div class=\"alert alert-success\" role=\"alert\">\n                                        <span jhiTranslate=\"event-detail.definitely\">This event will definitely take place.</span>\n                                      </div>\n                                </ng-container>\n                                <ng-container *ngIf=\"!event.definitelyConfirmed && event.status === 'PROCESSING'\">\n                                    <div class=\"alert alert-warning\" role=\"alert\">\n                                        <span jhiTranslate=\"event-detail.not-confirmed\">This event has not yet been definitively confirmed.</span>\n                                      </div>\n                                </ng-container>\n                            </div>\n                        </div>\n                    </mat-card-header>\n                    <ng-container *ngIf=\"event.flyer\">\n                        <img mat-card-image [src]=\"'data:' + event.flyerContentType + ';base64,' + event.flyer\" alt=\"event image\"/>\n                    </ng-container>\n                    <mat-card-content>\n                    <p class=\"date\">\n                      {{ event.dateStart!.toString() | date }}  {{ event.dateStart!.toString() | date:'shortTime' }} - {{ event.dateEnd!.toString() | date }}  {{ event.dateEnd!.toString() | date:'shortTime' }}\n                    </p>\n                    <hr/>\n                    <p>\n                        <dt><span jhiTranslate=\"event-detail.placenumber\">Placenumber</span></dt>\n                        <dd>\n                            <span>{{ event.placenumber }}</span>\n                        </dd>\n                        <dt><span jhiTranslate=\"event-detail.price\">Price</span></dt>\n                        <dd>\n                            <span>{{ event.price | currency }}</span>\n                        </dd>\n                    </p>\n                    <ng-template #t let-fill=\"fill\">\n                      <span class=\"heart\" [class.full]=\"fill === 100\">\n                        <span class=\"half\" [style.width.%]=\"fill\">&hearts;</span>&hearts;\n                      </span>\n                    </ng-template>\n                      <ngb-rating [rate]=\"getAverage(event.id)\" [starTemplate]=\"t\" [readonly]=\"true\" [max]=\"5\"></ngb-rating>\n                      <br/>\n                      <span jhiTranslate=\"event-detail.total-ratings\">Total ratings:</span> {{ getRatingsTotal(event.id) }}\n                    </mat-card-content>\n                    <mat-card-actions>\n                        <button (click)=\"goToEvent(event.id!)\" class=\"btn btn-info btn-sm\">\n                            <fa-icon icon=\"eye\"></fa-icon>\n                            <span class=\"d-none d-md-inline\" jhiTranslate=\"entity.action.view\">View</span>\n                        </button>\n                    </mat-card-actions>\n                </mat-card>\n            </mzd-timeline-content>\n        </ng-container>\n     </ng-template>\n  </mzd-timeline>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}