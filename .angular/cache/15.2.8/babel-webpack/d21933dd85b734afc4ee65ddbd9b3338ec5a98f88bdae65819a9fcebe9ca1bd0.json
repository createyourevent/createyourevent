{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"app/general.service\";\nimport * as i3 from \"app/google-geocode.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"../../shared/language/translate.directive\";\nimport * as i7 from \"primeng/dataview\";\nimport * as i8 from \"primeng/api\";\nimport * as i9 from \"primeng/inputtext\";\nimport * as i10 from \"../../views/type-flags/price-type/price-type.component\";\nimport * as i11 from \"primeng/knob\";\nimport * as i12 from \"@ngx-translate/core\";\nfunction ProductDataViewComponent_ng_template_6_ng_container_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"\\n              \");\n    i0.ɵɵelementStart(2, \"div\", 8);\n    i0.ɵɵtext(3, \"\\n                \");\n    i0.ɵɵelementStart(4, \"div\", 16);\n    i0.ɵɵtext(5, \"\\n                  \");\n    i0.ɵɵelementStart(6, \"h5\");\n    i0.ɵɵelement(7, \"span\", 17);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \"\\n                  \");\n    i0.ɵɵelementStart(10, \"p-knob\", 18);\n    i0.ɵɵlistener(\"ngModelChange\", function ProductDataViewComponent_ng_template_6_ng_container_17_Template_p_knob_ngModelChange_10_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r6.distance = $event);\n    })(\"onChange\", function ProductDataViewComponent_ng_template_6_ng_container_17_Template_p_knob_onChange_10_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.changeSliderRadius($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\n                \");\n    i0.ɵɵelementStart(13, \"div\", 19);\n    i0.ɵɵtext(14, \"\\n                  \");\n    i0.ɵɵelementStart(15, \"div\", 20);\n    i0.ɵɵtext(16, \"\\n                    \");\n    i0.ɵɵelementStart(17, \"span\", 21);\n    i0.ɵɵtext(18, \"\\n                      Use the switch to select the maximum range in which you want to search for events.\\n                      If the distance is set to 0, all search results are displayed.\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19, \"\\n                  \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21, \"\\n              \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(22, \"\\n            \");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r5.distance, \" Km\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r5.distance)(\"step\", 5);\n  }\n}\nfunction ProductDataViewComponent_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n    \");\n    i0.ɵɵelementStart(1, \"div\", 7);\n    i0.ɵɵtext(2, \"\\n        \");\n    i0.ɵɵelementStart(3, \"div\", 8);\n    i0.ɵɵtext(4, \"\\n          \");\n    i0.ɵɵelementStart(5, \"div\", 9);\n    i0.ɵɵtext(6, \"\\n            \");\n    i0.ɵɵelementStart(7, \"span\", 10);\n    i0.ɵɵtext(8, \"\\n              \");\n    i0.ɵɵelement(9, \"i\", 11);\n    i0.ɵɵtext(10, \"\\n              \");\n    i0.ɵɵelementStart(11, \"input\", 12);\n    i0.ɵɵlistener(\"input\", function ProductDataViewComponent_ng_template_6_Template_input_input_11_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      i0.ɵɵnextContext();\n      const _r0 = i0.ɵɵreference(4);\n      return i0.ɵɵresetView(_r0.filter($event.target.value));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\n           \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n          \");\n    i0.ɵɵelementStart(15, \"div\", 13);\n    i0.ɵɵtext(16, \"\\n            \");\n    i0.ɵɵtemplate(17, ProductDataViewComponent_ng_template_6_ng_container_17_Template, 23, 3, \"ng-container\", 14);\n    i0.ɵɵtext(18, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19, \"\\n          \");\n    i0.ɵɵelementStart(20, \"div\", 15);\n    i0.ɵɵtext(21, \"\\n            \");\n    i0.ɵɵelement(22, \"p-dataViewLayoutOptions\");\n    i0.ɵɵtext(23, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(24, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(25, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(26, \"\\n\");\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(17);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.user);\n  }\n}\nfunction ProductDataViewComponent_ng_template_8_ng_container_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"\\n                        \");\n    i0.ɵɵelementStart(2, \"dt\")(3, \"span\", 32);\n    i0.ɵɵtext(4, \"Stock\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(5, \"\\n                        \");\n    i0.ɵɵelementStart(6, \"dd\");\n    i0.ɵɵtext(7, \"\\n                            \");\n    i0.ɵɵelementStart(8, \"span\", 33);\n    i0.ɵɵtext(9, \"Infinite\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n                    \");\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction ProductDataViewComponent_ng_template_8_ng_container_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"\\n                        \");\n    i0.ɵɵelementStart(2, \"dt\")(3, \"span\", 32);\n    i0.ɵɵtext(4, \"Stock\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(5, \"\\n                        \");\n    i0.ɵɵelementStart(6, \"dd\");\n    i0.ɵɵtext(7, \"\\n                            \");\n    i0.ɵɵelementStart(8, \"span\");\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\n                    \");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const product_r11 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate2(\"\", product_r11.stock, \" \", i0.ɵɵpipeBind1(10, 2, \"createyoureventApp.Unit.\" + product_r11.unit), \"\");\n  }\n}\nfunction ProductDataViewComponent_ng_template_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n        \");\n    i0.ɵɵelementStart(1, \"div\", 22);\n    i0.ɵɵtext(2, \"\\n            \");\n    i0.ɵɵelementStart(3, \"div\", 16);\n    i0.ɵɵtext(4, \"\\n                \");\n    i0.ɵɵelementStart(5, \"div\", 23);\n    i0.ɵɵtext(6, \"\\n                    \");\n    i0.ɵɵelement(7, \"img\", 24);\n    i0.ɵɵtext(8, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n            \");\n    i0.ɵɵelementStart(11, \"div\", 16);\n    i0.ɵɵtext(12, \"\\n                \");\n    i0.ɵɵelementStart(13, \"h3\", 25);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(15, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16, \"\\n            \");\n    i0.ɵɵelementStart(17, \"div\", 15);\n    i0.ɵɵtext(18, \"\\n                \");\n    i0.ɵɵelementStart(19, \"div\", 26);\n    i0.ɵɵtext(20, \"\\n                    \");\n    i0.ɵɵelement(21, \"jhi-price-type\", 27);\n    i0.ɵɵtext(22, \"\\n                    \");\n    i0.ɵɵelementStart(23, \"dl\", 28);\n    i0.ɵɵtext(24, \"\\n                        \");\n    i0.ɵɵelementStart(25, \"dt\")(26, \"span\", 29);\n    i0.ɵɵtext(27, \"Price\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(28, \"\\n                        \");\n    i0.ɵɵelementStart(29, \"dd\");\n    i0.ɵɵtext(30, \"\\n                            \");\n    i0.ɵɵelementStart(31, \"span\");\n    i0.ɵɵtext(32);\n    i0.ɵɵpipe(33, \"currency\");\n    i0.ɵɵpipe(34, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(35, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(36, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(37, \"\\n              \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(38, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(39, \"\\n            \");\n    i0.ɵɵelementStart(40, \"div\", 15);\n    i0.ɵɵtext(41, \"\\n                \");\n    i0.ɵɵelementStart(42, \"dl\", 30);\n    i0.ɵɵtext(43, \"\\n                    \");\n    i0.ɵɵtemplate(44, ProductDataViewComponent_ng_template_8_ng_container_44_Template, 12, 0, \"ng-container\", 14);\n    i0.ɵɵtext(45, \"\\n                    \");\n    i0.ɵɵtemplate(46, ProductDataViewComponent_ng_template_8_ng_container_46_Template, 13, 4, \"ng-container\", 14);\n    i0.ɵɵtext(47, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(48, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(49, \"\\n            \");\n    i0.ɵɵelementStart(50, \"div\", 15);\n    i0.ɵɵtext(51, \"\\n                \");\n    i0.ɵɵelementStart(52, \"a\", 31);\n    i0.ɵɵlistener(\"click\", function ProductDataViewComponent_ng_template_8_Template_a_click_52_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r16);\n      const product_r11 = restoredCtx.$implicit;\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.goToProduct(product_r11.id));\n    });\n    i0.ɵɵtext(53, \"Go to product\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(54, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(55, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(56, \"\\n    \");\n  }\n  if (rf & 2) {\n    const product_r11 = ctx.$implicit;\n    i0.ɵɵadvance(7);\n    i0.ɵɵpropertyInterpolate(\"alt\", product_r11.title);\n    i0.ɵɵproperty(\"src\", \"data:\" + product_r11.photoContentType + \";base64,\" + product_r11.photo, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(product_r11.title);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"product\", product_r11);\n    i0.ɵɵadvance(11);\n    i0.ɵɵtextInterpolate3(\"\", i0.ɵɵpipeBind1(33, 9, product_r11.price), \" / \", product_r11.amount, \" \", i0.ɵɵpipeBind1(34, 11, \"createyoureventApp.Unit.\" + product_r11.unit), \"\");\n    i0.ɵɵadvance(12);\n    i0.ɵɵproperty(\"ngIf\", product_r11.stock < 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", product_r11.stock >= 0);\n  }\n}\nfunction ProductDataViewComponent_ng_template_10_ng_container_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"\\n                            \");\n    i0.ɵɵelementStart(2, \"dt\")(3, \"span\", 32);\n    i0.ɵɵtext(4, \"Stock\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(5, \"\\n                            \");\n    i0.ɵɵelementStart(6, \"dd\");\n    i0.ɵɵtext(7, \"\\n                                \");\n    i0.ɵɵelementStart(8, \"span\", 33);\n    i0.ɵɵtext(9, \"Infinite\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n                        \");\n    i0.ɵɵelementContainerEnd();\n  }\n}\nfunction ProductDataViewComponent_ng_template_10_ng_container_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"\\n                            \");\n    i0.ɵɵelementStart(2, \"dt\")(3, \"span\", 32);\n    i0.ɵɵtext(4, \"Stock\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(5, \"\\n                            \");\n    i0.ɵɵelementStart(6, \"dd\");\n    i0.ɵɵtext(7, \"\\n                                \");\n    i0.ɵɵelementStart(8, \"span\");\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\n                        \");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const product_r17 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate2(\"\", product_r17.stock, \" \", i0.ɵɵpipeBind1(10, 2, \"createyoureventApp.Unit.\" + product_r17.unit), \"\");\n  }\n}\nfunction ProductDataViewComponent_ng_template_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n        \");\n    i0.ɵɵelementStart(1, \"div\", 34);\n    i0.ɵɵtext(2, \"\\n            \");\n    i0.ɵɵelementStart(3, \"div\", 35);\n    i0.ɵɵtext(4, \"\\n                \");\n    i0.ɵɵelementStart(5, \"a\", 36);\n    i0.ɵɵtext(6, \"\\n                    \");\n    i0.ɵɵelementStart(7, \"h3\", 25);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \"\\n                    \");\n    i0.ɵɵelementStart(10, \"div\", 23);\n    i0.ɵɵtext(11, \"\\n                        \");\n    i0.ɵɵelement(12, \"img\", 24);\n    i0.ɵɵtext(13, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n                    \");\n    i0.ɵɵelement(15, \"hr\");\n    i0.ɵɵtext(16, \"\\n                    \");\n    i0.ɵɵelementStart(17, \"div\", 26);\n    i0.ɵɵtext(18, \"\\n                        \");\n    i0.ɵɵelement(19, \"jhi-price-type\", 27);\n    i0.ɵɵtext(20, \"\\n                        \");\n    i0.ɵɵelementStart(21, \"dl\", 28);\n    i0.ɵɵtext(22, \"\\n                            \");\n    i0.ɵɵelementStart(23, \"dt\")(24, \"span\", 29);\n    i0.ɵɵtext(25, \"Price\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(26, \"\\n                            \");\n    i0.ɵɵelementStart(27, \"dd\");\n    i0.ɵɵtext(28, \"\\n                                \");\n    i0.ɵɵelementStart(29, \"span\");\n    i0.ɵɵtext(30);\n    i0.ɵɵpipe(31, \"currency\");\n    i0.ɵɵpipe(32, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(33, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(34, \"\\n                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(35, \"\\n                  \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(36, \"\\n                    \");\n    i0.ɵɵelement(37, \"hr\");\n    i0.ɵɵtext(38, \"\\n                    \");\n    i0.ɵɵelementStart(39, \"dl\", 30);\n    i0.ɵɵtext(40, \"\\n                        \");\n    i0.ɵɵtemplate(41, ProductDataViewComponent_ng_template_10_ng_container_41_Template, 12, 0, \"ng-container\", 14);\n    i0.ɵɵtext(42, \"\\n                        \");\n    i0.ɵɵtemplate(43, ProductDataViewComponent_ng_template_10_ng_container_43_Template, 13, 4, \"ng-container\", 14);\n    i0.ɵɵtext(44, \"\\n                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(45, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(46, \"\\n                \");\n    i0.ɵɵelementStart(47, \"a\", 31);\n    i0.ɵɵlistener(\"click\", function ProductDataViewComponent_ng_template_10_Template_a_click_47_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r22);\n      const product_r17 = restoredCtx.$implicit;\n      const ctx_r21 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r21.goToProduct(product_r17.id));\n    });\n    i0.ɵɵtext(48, \"Go to product\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(49, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(50, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(51, \"\\n    \");\n  }\n  if (rf & 2) {\n    const product_r17 = ctx.$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵpropertyInterpolate1(\"href\", \"/products/\", product_r17.id, \"/view\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(product_r17.title);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"alt\", product_r17.title);\n    i0.ɵɵproperty(\"src\", \"data:\" + product_r17.photoContentType + \";base64,\" + product_r17.photo, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"product\", product_r17);\n    i0.ɵɵadvance(11);\n    i0.ɵɵtextInterpolate3(\"\", i0.ɵɵpipeBind1(31, 10, product_r17.price), \" / \", product_r17.amount, \" \", i0.ɵɵpipeBind1(32, 12, \"createyoureventApp.Unit.\" + product_r17.unit), \"\");\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngIf\", product_r17.stock < 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", product_r17.stock >= 0);\n  }\n}\nfunction ProductDataViewComponent_ng_template_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n        \");\n    i0.ɵɵelement(1, \"p-dataViewLayoutOptions\");\n    i0.ɵɵtext(2, \"\\n    \");\n  }\n}\nexport let ProductDataViewComponent = /*#__PURE__*/(() => {\n  class ProductDataViewComponent {\n    constructor(router, generalService, googleGeocoderService) {\n      this.router = router;\n      this.generalService = generalService;\n      this.googleGeocoderService = googleGeocoderService;\n      this.productsWithDistance = [];\n      this.starEvents = [];\n      this.loading = false;\n    }\n    ngOnInit() {\n      this.generalService.findWidthAuthorities().subscribe(u => {\n        this.user = u.body;\n      });\n      let shops = [];\n      let products = [];\n      this.generalService.findShopByActiveTrueAndActiveOwnerTrue().subscribe(s => {\n        shops = s.body;\n        this.loadProducts(shops).then(x => {\n          x.forEach(y => {\n            products = products.concat(y.products);\n          });\n          this.products = products;\n          this.productsWithDistance = this.products;\n        });\n      });\n    }\n    loadProducts(shops) {\n      const p = new Promise((resolve, reject) => {\n        let i = 0;\n        shops.forEach(element => {\n          this.generalService.findAllProductsByShopId(element.id).subscribe(prods => {\n            i++;\n            element.products = prods.body;\n            element.products.forEach(p => {\n              p.shop = element;\n            });\n            if (i === shops.length) {\n              resolve(shops);\n            }\n          });\n        });\n      });\n      return p;\n    }\n    goToProduct(productId) {\n      this.router.navigate(['/products/' + productId + '/view']);\n    }\n    changeSliderRadius(e) {\n      console.log(e);\n      this.productsWithDistance = [];\n      let latUser = 0;\n      let lngUser = 0;\n      let posUser;\n      const queryParam = this.user.address.replace(' ', '+');\n      this.googleGeocoderService.getFromAddress(queryParam).subscribe(res => {\n        const geocoder = res.body['results'];\n        const geometry = geocoder[0].geometry;\n        latUser = geometry.location.lat;\n        lngUser = geometry.location.lng;\n        posUser = new google.maps.LatLng(latUser, lngUser);\n        let latShop = 0;\n        let lngShop = 0;\n        let posShop;\n        let i = 0;\n        this.products.forEach(element => {\n          i++;\n          const queryParamShop = element.shop.address.replace(' ', '+');\n          this.googleGeocoderService.getFromAddress(queryParamShop).subscribe(resShop => {\n            const geocoderShop = resShop.body['results'];\n            const geometryShop = geocoderShop[0].geometry;\n            latShop = geometryShop.location.lat;\n            lngShop = geometryShop.location.lng;\n            posShop = new google.maps.LatLng(latShop, lngShop);\n            const distance = google.maps.geometry.spherical.computeDistanceBetween(posUser, posShop);\n            const maxDistance = Number(e) * 1000;\n            if (e === 0) {\n              this.productsWithDistance = this.products;\n            }\n            if (maxDistance > distance) {\n              this.productsWithDistance.push(element);\n            }\n            if (i === this.products.length) {\n              this.productsWithDistance = [...new Set(this.productsWithDistance)];\n            }\n          });\n        });\n      });\n    }\n  }\n  ProductDataViewComponent.ɵfac = function ProductDataViewComponent_Factory(t) {\n    return new (t || ProductDataViewComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.GeneralService), i0.ɵɵdirectiveInject(i3.GoogleGeocodeService));\n  };\n  ProductDataViewComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProductDataViewComponent,\n    selectors: [[\"jhi-product-data-view\"]],\n    decls: 15,\n    vars: 6,\n    consts: [[\"id\", \"main-title\", \"jhiTranslate\", \"product-data-view.title\", 1, \"main-title\"], [\"filterBy\", \"title\", \"layout\", \"grid\", 3, \"value\", \"paginator\", \"rows\", \"sortField\", \"sortOrder\", \"loading\"], [\"dv\", \"\"], [\"pTemplate\", \"header\"], [\"pTemplate\", \"listItem\"], [\"pTemplate\", \"gridItem\"], [\"pTemplate\", \"footer\"], [1, \"p-d-flex\", \"p-flex-column\", \"p-flex-md-row\", \"p-jc-md-between\"], [1, \"row\"], [1, \"col-md-4\"], [1, \"p-input-icon-left\", \"p-mb-2\", \"p-mb-md-0\"], [1, \"pi\", \"pi-search\"], [\"type\", \"search\", \"pInputText\", \"\", \"placeholder\", \"Search by name\", 3, \"input\"], [1, \"col-md-6\"], [4, \"ngIf\"], [1, \"col-md-2\"], [1, \"col-md-3\"], [\"jhiTranslate\", \"distance.distance\"], [1, \"slider\", 3, \"ngModel\", \"step\", \"ngModelChange\", \"onChange\"], [1, \"col-md-9\"], [\"role\", \"alert\", 1, \"alert\", \"alert-info\"], [\"jhiTranslate\", \"data-view.distance-info\"], [1, \"row\", \"orange\", \"padding\", \"product-row\"], [1, \"center\"], [1, \"img\", 2, \"max-height\", \"250px\", \"max-width\", \"250px\", 3, \"src\", \"alt\"], [1, \"product-title\"], [1, \"star_big\"], [3, \"product\"], [1, \"row-md\", \"jh-entity-details\", \"price\"], [\"jhiTranslate\", \"product-detail.price\"], [1, \"row-md\", \"jh-entity-details\"], [\"jhiTranslate\", \"product-data-view.go-to-product\", 1, \"myButton\", 3, \"click\"], [\"jhiTranslate\", \"product_slider.stock\"], [\"jhiTranslation\", \"select-products.infinite\"], [1, \"p-col-12\", \"p-md-3\"], [1, \"card\", \"card-container\", \"orange\"], [3, \"href\"]],\n    template: function ProductDataViewComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h1\", 0);\n        i0.ɵɵtext(1, \"Search products\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(2, \"\\n\\n\");\n        i0.ɵɵelementStart(3, \"p-dataView\", 1, 2);\n        i0.ɵɵtext(5, \"\\n  \");\n        i0.ɵɵtemplate(6, ProductDataViewComponent_ng_template_6_Template, 27, 1, \"ng-template\", 3);\n        i0.ɵɵtext(7, \"\\n\\n    \");\n        i0.ɵɵtemplate(8, ProductDataViewComponent_ng_template_8_Template, 57, 13, \"ng-template\", 4);\n        i0.ɵɵtext(9, \"\\n    \");\n        i0.ɵɵtemplate(10, ProductDataViewComponent_ng_template_10_Template, 52, 14, \"ng-template\", 5);\n        i0.ɵɵtext(11, \"\\n\\n\\n    \");\n        i0.ɵɵtemplate(12, ProductDataViewComponent_ng_template_12_Template, 3, 0, \"ng-template\", 6);\n        i0.ɵɵtext(13, \"\\n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(14, \"\\n\\n\");\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"value\", ctx.productsWithDistance)(\"paginator\", true)(\"rows\", 8)(\"sortField\", ctx.sortField)(\"sortOrder\", ctx.sortOrder)(\"loading\", ctx.loading);\n      }\n    },\n    dependencies: [i4.NgIf, i5.NgControlStatus, i5.NgModel, i6.TranslateDirective, i7.DataView, i8.PrimeTemplate, i7.DataViewLayoutOptions, i9.InputText, i10.PriceTypeComponent, i11.Knob, i4.CurrencyPipe, i12.TranslatePipe],\n    styles: [\".card-container[_ngcontent-%COMP%]{padding:20px;box-shadow:10px 10px 5px #000000bf;-webkit-box-shadow:10px 10px 5px 0px rgba(0,0,0,.75);-moz-box-shadow:10px 10px 5px 0px rgba(0,0,0,.75)}.card[_ngcontent-%COMP%]{box-shadow:10px 10px 5px #000000bf;-webkit-box-shadow:10px 10px 5px 0px rgba(0,0,0,.75);-moz-box-shadow:10px 10px 5px 0px rgba(0,0,0,.75)}.orange[_ngcontent-%COMP%]{background:rgb(255,168,76);background:linear-gradient(to right,rgb(255,168,76) 0%,rgb(255,123,13) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=\\\"#ffa84c\\\",endColorstr=\\\"#ff7b0d\\\",GradientType=1)}.product-row[_ngcontent-%COMP%]{width:100%;height:275px}.main-title[_ngcontent-%COMP%]{font-family:Bangers,cursive;font-size:x-large;text-align:center;color:#000}.product-title[_ngcontent-%COMP%]{font-family:Bangers,cursive;font-size:x-large}#main-title[_ngcontent-%COMP%]{font-size:71px;font-family:Georgia;color:#f60;font-weight:700;text-shadow:0 0 10px #ffffff,0 0 20px #ffffff,0 0 30px #ffffff,0 0 40px #ff6600,0 0 70px #ff6600,0 0 80px #ff6600,0 0 100px #ff6600,0 0 170px #ff6600;text-align:center;line-height:250px}.center[_ngcontent-%COMP%]{margin:0 auto;display:flex;justify-content:center}.img[_ngcontent-%COMP%]{box-shadow:0 10px 13px -7px #000,5px 5px 15px 5px #0000;display:block;margin-left:auto;margin-right:auto}a[_ngcontent-%COMP%]{text-decoration:none;color:#000}.star_big[_ngcontent-%COMP%]{background-image:url(star_250.6f7affa01953afc1.png);background-size:250px 250px;background-repeat:repeat-x;width:250px;height:250px;margin:0 auto;text-align:center;vertical-align:middle;padding-top:30px}.price[_ngcontent-%COMP%]{color:red;font-family:Knewave,cursive}.padding[_ngcontent-%COMP%]{padding-top:5px}.myButton[_ngcontent-%COMP%]{box-shadow:0 1px #fff6af;background:linear-gradient(to bottom,#ffec64 5%,#ffab23 100%);background-color:#ffec64;border-radius:6px;border:1px solid #ffaa22;display:inline-block;cursor:pointer;color:#333;font-family:Arial;font-size:15px;font-weight:700;padding:6px 24px;text-decoration:none;text-shadow:0px 1px 0px #ffee66}.myButton[_ngcontent-%COMP%]:hover{background:linear-gradient(to bottom,#ffab23 5%,#ffec64 100%);background-color:#ffab23}.myButton[_ngcontent-%COMP%]:active{position:relative;top:1px}\"]\n  });\n  return ProductDataViewComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}