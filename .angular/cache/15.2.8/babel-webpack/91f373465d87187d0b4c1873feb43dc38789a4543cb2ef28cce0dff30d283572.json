{"ast":null,"code":"import { Shop } from \"app/entities/shop/shop.model\";\nimport { ProductDeleteDialogComponent } from \"app/views/product/product-delete-dialog.component\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"app/entities/shop/service/shop.service\";\nimport * as i2 from \"app/entities/product/service/product.service\";\nimport * as i3 from \"../supplier.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i6 from \"ng-jhipster\";\nimport * as i7 from \"app/general.service\";\nimport * as i8 from \"@angular/forms\";\nimport * as i9 from \"@angular/common\";\nimport * as i10 from \"@fortawesome/angular-fontawesome\";\nimport * as i11 from \"../../shared/language/translate.directive\";\nimport * as i12 from \"@angular/material/card\";\nimport * as i13 from \"@angular/flex-layout/flex\";\nimport * as i14 from \"primeng/scrollpanel\";\nimport * as i15 from \"../../views/type-flags/price-type/price-type.component\";\nimport * as i16 from \"app/pipes/filter.pipe\";\nfunction OverviewProductComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"\\n        \");\n    i0.ɵɵelementStart(2, \"span\", 5);\n    i0.ɵɵtext(3, \"No product found.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n    \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction OverviewProductComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"\\n    \");\n    i0.ɵɵelementStart(2, \"span\", 6);\n    i0.ɵɵtext(3, \"Please insert a searchterm to filter after this one.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"input\", 7);\n    i0.ɵɵlistener(\"ngModelChange\", function OverviewProductComponent_div_5_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.searchText = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\n\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.searchText);\n  }\n}\nconst _c0 = function (a1) {\n  return [\"/products\", a1, \"view\"];\n};\nconst _c1 = function (a1) {\n  return [\"/supplier/register-product\", a1, \"updateProduct\"];\n};\nconst _c2 = function (a1) {\n  return [\"/products\", a1, \"dashboard-product\"];\n};\nfunction OverviewProductComponent_ng_container_7_ng_container_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"\\n        \");\n    i0.ɵɵelementStart(2, \"mat-card\", 10);\n    i0.ɵɵtext(3, \"\\n            \");\n    i0.ɵɵelementStart(4, \"mat-card-header\");\n    i0.ɵɵtext(5, \"\\n            \");\n    i0.ɵɵelementStart(6, \"mat-card-title\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8, \"\\n            \");\n    i0.ɵɵelementStart(9, \"mat-card-subtitle\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\n            \");\n    i0.ɵɵelement(13, \"img\", 11);\n    i0.ɵɵtext(14, \"\\n            \");\n    i0.ɵɵelementStart(15, \"mat-card-content\");\n    i0.ɵɵtext(16, \"\\n                \");\n    i0.ɵɵelement(17, \"jhi-price-type\", 12);\n    i0.ɵɵtext(18, \"\\n                \");\n    i0.ɵɵelementStart(19, \"p\");\n    i0.ɵɵtext(20);\n    i0.ɵɵpipe(21, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(22, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(23, \"\\n            \");\n    i0.ɵɵelementStart(24, \"mat-card-actions\");\n    i0.ɵɵtext(25, \"\\n                \");\n    i0.ɵɵelementStart(26, \"button\", 13);\n    i0.ɵɵtext(27, \"\\n                \");\n    i0.ɵɵelement(28, \"fa-icon\", 14);\n    i0.ɵɵtext(29, \"\\u00A0\");\n    i0.ɵɵelementStart(30, \"span\", 15);\n    i0.ɵɵtext(31, \"View\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(32, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(33, \"\\n\\n                \");\n    i0.ɵɵelementStart(34, \"button\", 13);\n    i0.ɵɵtext(35, \"\\n                    \");\n    i0.ɵɵelement(36, \"fa-icon\", 16);\n    i0.ɵɵtext(37, \"\\n                    \");\n    i0.ɵɵelementStart(38, \"span\", 17);\n    i0.ɵɵtext(39, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(40, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(41, \"\\n\\n                \");\n    i0.ɵɵelementStart(42, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function OverviewProductComponent_ng_container_7_ng_container_6_Template_button_click_42_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const product_r6 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.delete(product_r6));\n    });\n    i0.ɵɵtext(43, \"\\n                    \");\n    i0.ɵɵelement(44, \"fa-icon\", 19);\n    i0.ɵɵtext(45, \"\\n                    \");\n    i0.ɵɵelementStart(46, \"span\", 20);\n    i0.ɵɵtext(47, \"Delete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(48, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(49, \"\\n\\n                \");\n    i0.ɵɵelementStart(50, \"button\", 13);\n    i0.ɵɵtext(51, \"\\n                    \");\n    i0.ɵɵelement(52, \"fa-icon\", 21);\n    i0.ɵɵtext(53, \"\\n                    \");\n    i0.ɵɵelementStart(54, \"span\", 22);\n    i0.ɵɵtext(55, \"Dashboard product\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(56, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(57, \"\\n\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(58, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(59, \"\\n    \");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const product_r6 = ctx.$implicit;\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(product_r6.title);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(product_r6.motto);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"src\", \"data:\" + product_r6.photoContentType + \";base64,\" + product_r6.photo, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"product\", product_r6);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate3(\"\", i0.ɵɵpipeBind1(21, 10, product_r6.price), \" / \", product_r6.amount, \" \", product_r6.unit, \"\");\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(12, _c0, product_r6.id));\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(14, _c1, product_r6.id));\n    i0.ɵɵadvance(16);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(16, _c2, product_r6.id));\n  }\n}\nconst _c3 = function () {\n  return {\n    width: \"100%\",\n    height: \"750px\"\n  };\n};\nfunction OverviewProductComponent_ng_container_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"\\n\");\n    i0.ɵɵelementStart(2, \"p-scrollPanel\");\n    i0.ɵɵtext(3, \"\\n    \");\n    i0.ɵɵelementStart(4, \"div\", 8);\n    i0.ɵɵtext(5, \"\\n    \");\n    i0.ɵɵtemplate(6, OverviewProductComponent_ng_container_7_ng_container_6_Template, 60, 18, \"ng-container\", 9);\n    i0.ɵɵpipe(7, \"filter\");\n    i0.ɵɵtext(8, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \"\\n\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleMap(i0.ɵɵpureFunction0(6, _c3));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(7, 3, ctx_r2.products, ctx_r2.searchText));\n  }\n}\nexport let OverviewProductComponent = /*#__PURE__*/(() => {\n  class OverviewProductComponent {\n    constructor(shopService, productService, supplierService, route, modalService, eventManager, cdr, generalService) {\n      this.shopService = shopService;\n      this.productService = productService;\n      this.supplierService = supplierService;\n      this.route = route;\n      this.modalService = modalService;\n      this.eventManager = eventManager;\n      this.cdr = cdr;\n      this.generalService = generalService;\n      this.products = [];\n      this.shop = new Shop();\n      this.searchText = '';\n    }\n    ngOnInit() {\n      const shopId = this.route.snapshot.paramMap.get('id');\n      this.shopService.find(Number(shopId)).subscribe(res => {\n        this.shop = res.body;\n        this.loadPage();\n        this.registerChangeInProducts();\n      });\n    }\n    loadPage() {\n      this.generalService.findAllProductsByShopId(this.shop.id).subscribe(resp => {\n        this.products = resp.body;\n      });\n    }\n    delete(product) {\n      const modalRef = this.modalService.open(ProductDeleteDialogComponent, {\n        size: 'lg',\n        backdrop: 'static'\n      });\n      modalRef.componentInstance.product = product;\n      this.cdr.detectChanges();\n    }\n    registerChangeInProducts() {\n      this.eventSubscriber = this.eventManager.subscribe('productListModification', () => this.loadPage());\n    }\n    previousState() {\n      window.history.back();\n    }\n  }\n  OverviewProductComponent.ɵfac = function OverviewProductComponent_Factory(t) {\n    return new (t || OverviewProductComponent)(i0.ɵɵdirectiveInject(i1.ShopService), i0.ɵɵdirectiveInject(i2.ProductService), i0.ɵɵdirectiveInject(i3.SupplierService), i0.ɵɵdirectiveInject(i4.ActivatedRoute), i0.ɵɵdirectiveInject(i5.NgbModal), i0.ɵɵdirectiveInject(i6.JhiEventManager), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i7.GeneralService));\n  };\n  OverviewProductComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: OverviewProductComponent,\n    selectors: [[\"jhi-overview-product\"]],\n    decls: 17,\n    vars: 3,\n    consts: [[\"id\", \"jhi-product-heading\", \"jhiTranslate\", \"overview-product.title\"], [4, \"ngIf\"], [\"type\", \"button\", \"id\", \"cancel-save\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], [\"icon\", \"ban\"], [\"jhiTranslate\", \"entity.action.cancel\"], [\"jhiTranslate\", \"overview-product.no-product-found\"], [\"jhiTranslate\", \"overview-product.search-info\"], [\"placeholder\", \"search text goes here\", 3, \"ngModel\", \"ngModelChange\"], [\"fxLayout\", \"row wrap\", \"fxLayoutGap\", \"16px\", 1, \"content\"], [4, \"ngFor\", \"ngForOf\"], [\"fxFlex\", \"0 1 calc(20% - 32px)\"], [\"alt\", \"product image\", 1, \"card-image\", 2, \"max-width\", \"100%\", 3, \"src\"], [3, \"product\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"btn-sm\", 3, \"routerLink\"], [\"icon\", \"eye\"], [\"jhiTranslate\", \"entity.action.view\"], [\"icon\", \"pencil-alt\"], [\"jhiTranslate\", \"entity.action.edit\", 1, \"d-none\", \"d-md-inline\"], [\"type\", \"submit\", 1, \"btn\", \"btn-danger\", \"btn-sm\", 3, \"click\"], [\"icon\", \"times\"], [\"jhiTranslate\", \"entity.action.delete\", 1, \"d-none\", \"d-md-inline\"], [\"icon\", \"list\"], [\"jhiTranslate\", \"overview-product.dashboard-product\", 1, \"d-none\", \"d-md-inline\"]],\n    template: function OverviewProductComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"h2\", 0);\n        i0.ɵɵtext(1, \"Overview of all product's\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(2, \"\\n    \");\n        i0.ɵɵtemplate(3, OverviewProductComponent_div_3_Template, 5, 0, \"div\", 1);\n        i0.ɵɵtext(4, \"\\n\\n\");\n        i0.ɵɵtemplate(5, OverviewProductComponent_div_5_Template, 6, 1, \"div\", 1);\n        i0.ɵɵtext(6, \"\\n\\n\\n\");\n        i0.ɵɵtemplate(7, OverviewProductComponent_ng_container_7_Template, 11, 7, \"ng-container\", 1);\n        i0.ɵɵtext(8, \"\\n\\n\");\n        i0.ɵɵelementStart(9, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function OverviewProductComponent_Template_button_click_9_listener() {\n          return ctx.previousState();\n        });\n        i0.ɵɵtext(10, \"\\n    \");\n        i0.ɵɵelement(11, \"fa-icon\", 3);\n        i0.ɵɵtext(12, \"\\u00A0\");\n        i0.ɵɵelementStart(13, \"span\", 4);\n        i0.ɵɵtext(14, \"Cancel\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(15, \"\\n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(16, \"\\n\");\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.products.length === 0);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.products.length !== 0);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.products.length > 0);\n      }\n    },\n    dependencies: [i8.DefaultValueAccessor, i8.NgControlStatus, i8.NgModel, i9.NgForOf, i9.NgIf, i10.FaIconComponent, i11.TranslateDirective, i4.RouterLink, i12.MatCard, i12.MatCardHeader, i12.MatCardContent, i12.MatCardTitle, i12.MatCardSubtitle, i12.MatCardActions, i13.DefaultLayoutDirective, i13.DefaultLayoutGapDirective, i13.DefaultFlexDirective, i14.ScrollPanel, i15.PriceTypeComponent, i9.CurrencyPipe, i16.FilterPipe],\n    styles: [\".overview-product-card[_ngcontent-%COMP%]{margin:20px;width:200px;column-count:5}.btn[_ngcontent-%COMP%]{margin:3px}.marker[_ngcontent-%COMP%]{padding:3px;border:1px solid;color:#fff;box-shadow:10px 10px 5px #000000bf;border-radius:3px}.green[_ngcontent-%COMP%]{background-color:green}.blue[_ngcontent-%COMP%]{background-color:#00f}.tp-card[_ngcontent-%COMP%]{width:300px}.card-container[_ngcontent-%COMP%]{width:300px;height:270px;position:relative;perspective:500px}.flippable-card[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;transform-style:preserve-3d;transition:transform 1s}.flippable-card[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{margin:0;display:block;position:absolute;width:252px;height:222px;-webkit-backface-visibility:hidden;backface-visibility:hidden}.flippable-card[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{background:#f0f0f0;transform:rotateY(180deg)}.flippable-card.flipped[_ngcontent-%COMP%]{transform:rotateY(180deg)}.content[_ngcontent-%COMP%]{padding:16px}.content[_ngcontent-%COMP%] > mat-card[_ngcontent-%COMP%]{width:200px;margin:4px}.card-image[_ngcontent-%COMP%]{margin-bottom:10px}\"]\n  });\n  return OverviewProductComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}