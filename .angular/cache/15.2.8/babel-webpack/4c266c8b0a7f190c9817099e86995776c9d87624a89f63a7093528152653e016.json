{"ast":null,"code":"import * as i0 from '@angular/core';\nimport { Component, ViewEncapsulation, Input, HostBinding, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport * as i1 from '@videogular/ngx-videogular/core';\nimport { VgCoreModule } from '@videogular/ngx-videogular/core';\nlet VgBufferingComponent = /*#__PURE__*/(() => {\n  class VgBufferingComponent {\n    constructor(ref, API) {\n      this.API = API;\n      this.checkInterval = 50;\n      this.currentPlayPos = 0;\n      this.lastPlayPos = 0;\n      this.subscriptions = [];\n      this.isBuffering = false;\n      this.elem = ref.nativeElement;\n    }\n    ngOnInit() {\n      if (this.API.isPlayerReady) {\n        this.onPlayerReady();\n      } else {\n        this.subscriptions.push(this.API.playerReadyEvent.subscribe(() => this.onPlayerReady()));\n      }\n    }\n    onPlayerReady() {\n      this.target = this.API.getMediaById(this.vgFor);\n      this.subscriptions.push(this.target.subscriptions.bufferDetected.subscribe(isBuffering => this.onUpdateBuffer(isBuffering)));\n    }\n    onUpdateBuffer(isBuffering) {\n      this.isBuffering = isBuffering;\n    }\n    ngOnDestroy() {\n      this.subscriptions.forEach(s => s.unsubscribe());\n    }\n  }\n  /** @nocollapse */ /** @nocollapse */\n  /** @nocollapse */\n  /** @nocollapse */\n  VgBufferingComponent.ɵfac = function VgBufferingComponent_Factory(t) {\n    return new (t || VgBufferingComponent)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i1.VgApiService));\n  };\n  VgBufferingComponent.ɵcmp = /** @pureOrBreakMyCode */i0.ɵɵdefineComponent({\n    type: VgBufferingComponent,\n    selectors: [[\"vg-buffering\"]],\n    hostVars: 2,\n    hostBindings: function VgBufferingComponent_HostBindings(rf, ctx) {\n      if (rf & 2) {\n        i0.ɵɵclassProp(\"is-buffering\", ctx.isBuffering);\n      }\n    },\n    inputs: {\n      vgFor: \"vgFor\"\n    },\n    decls: 3,\n    vars: 0,\n    consts: [[1, \"vg-buffering\"], [1, \"bufferingContainer\"], [1, \"loadingSpinner\"]],\n    template: function VgBufferingComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵelement(2, \"div\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n    },\n    styles: [\"vg-buffering{display:none;z-index:201}vg-buffering.is-buffering{display:block}.vg-buffering{position:absolute;display:block;width:100%;height:100%}.vg-buffering .bufferingContainer{width:100%;position:absolute;cursor:pointer;top:50%;margin-top:-50px;zoom:1;filter:alpha(opacity=60);opacity:.6}.vg-buffering .loadingSpinner{background-color:#0000;border:5px solid rgba(255,255,255,1);opacity:.9;border-top:5px solid rgba(0,0,0,0);border-left:5px solid rgba(0,0,0,0);border-radius:50px;box-shadow:0 0 35px #fff;width:50px;height:50px;margin:0 auto;-moz-animation:spin .5s infinite linear;-webkit-animation:spin .5s infinite linear}.vg-buffering .loadingSpinner .stop{-webkit-animation-play-state:paused;-moz-animation-play-state:paused}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(360deg)}}@-webkit-keyframes spinoff{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(-360deg)}}\\n\"],\n    encapsulation: 2\n  });\n  return VgBufferingComponent;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet VgBufferingModule = /*#__PURE__*/(() => {\n  class VgBufferingModule {}\n  /** @nocollapse */ /** @nocollapse */\n  /** @nocollapse */\n  /** @nocollapse */\n  /** @nocollapse */\n  /** @nocollapse */\n  VgBufferingModule.ɵfac = function VgBufferingModule_Factory(t) {\n    return new (t || VgBufferingModule)();\n  };\n  VgBufferingModule.ɵmod = /** @pureOrBreakMyCode */i0.ɵɵdefineNgModule({\n    type: VgBufferingModule\n  });\n  VgBufferingModule.ɵinj = /** @pureOrBreakMyCode */i0.ɵɵdefineInjector({\n    imports: [[CommonModule, VgCoreModule]]\n  });\n  return VgBufferingModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && i0.ɵɵsetNgModuleScope(VgBufferingModule, {\n    declarations: [VgBufferingComponent],\n    imports: [CommonModule, VgCoreModule],\n    exports: [VgBufferingComponent]\n  });\n})();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { VgBufferingComponent, VgBufferingModule };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}