{"ast":null,"code":"import { MessageService } from 'primeng/api';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"primeng/api\";\nimport * as i2 from \"app/general.service\";\nimport * as i3 from \"@ngx-translate/core\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@fortawesome/angular-fontawesome\";\nimport * as i6 from \"../../../shared/language/translate.directive\";\nimport * as i7 from \"primeng/fileupload\";\nimport * as i8 from \"primeng/toast\";\nimport * as i9 from \"ngx-audio-player\";\nfunction Mp3PlayerAdminComponent_ng_template_6_ul_1_li_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const file_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\"\", file_r4.name, \" - \", file_r4.size, \" bytes\");\n  }\n}\nfunction Mp3PlayerAdminComponent_ng_template_6_ul_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\");\n    i0.ɵɵtext(1, \"\\n                    \");\n    i0.ɵɵtemplate(2, Mp3PlayerAdminComponent_ng_template_6_ul_1_li_2_Template, 2, 2, \"li\", 3);\n    i0.ɵɵtext(3, \"\\n                \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.uploadedFiles);\n  }\n}\nfunction Mp3PlayerAdminComponent_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                \");\n    i0.ɵɵtemplate(1, Mp3PlayerAdminComponent_ng_template_6_ul_1_Template, 4, 1, \"ul\", 5);\n    i0.ɵɵtext(2, \"\\n            \");\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.uploadedFiles.length);\n  }\n}\nfunction Mp3PlayerAdminComponent_ng_container_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"\\n      \");\n    i0.ɵɵelementStart(2, \"div\", 6);\n    i0.ɵɵtext(3, \"\\n        \");\n    i0.ɵɵelementStart(4, \"div\", 7);\n    i0.ɵɵtext(5, \"\\n          \");\n    i0.ɵɵelementStart(6, \"div\", 6);\n    i0.ɵɵtext(7, \"\\n            \");\n    i0.ɵɵelementStart(8, \"div\", 8);\n    i0.ɵɵtext(9, \"\\n              \");\n    i0.ɵɵelementStart(10, \"span\", 9);\n    i0.ɵɵtext(11, \"Artist: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \"\\n          \");\n    i0.ɵɵelementStart(15, \"div\", 6);\n    i0.ɵɵtext(16, \"\\n            \");\n    i0.ɵɵelementStart(17, \"div\", 10);\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21, \"\\n        \");\n    i0.ɵɵelementStart(22, \"div\", 7);\n    i0.ɵɵtext(23, \"\\n          \");\n    i0.ɵɵelementStart(24, \"div\", 6);\n    i0.ɵɵtext(25, \"\\n            \");\n    i0.ɵɵelementStart(26, \"div\", 8);\n    i0.ɵɵtext(27, \"\\n              \");\n    i0.ɵɵelementStart(28, \"span\", 11);\n    i0.ɵɵtext(29, \"Title: \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(30, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(31, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(32, \"\\n          \");\n    i0.ɵɵelementStart(33, \"div\", 6);\n    i0.ɵɵtext(34, \"\\n            \");\n    i0.ɵɵelementStart(35, \"div\", 10);\n    i0.ɵɵtext(36);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(37, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(38, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(39, \"\\n        \");\n    i0.ɵɵelementStart(40, \"div\", 7);\n    i0.ɵɵtext(41, \"\\n          \");\n    i0.ɵɵelementStart(42, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function Mp3PlayerAdminComponent_ng_container_11_Template_button_click_42_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const mp3_r5 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.deleteMp3(mp3_r5.id, ctx_r6.shop, ctx_r6.product, ctx_r6.jhiEvent, ctx_r6.service));\n    });\n    i0.ɵɵtext(43, \"\\n            \");\n    i0.ɵɵelement(44, \"fa-icon\", 13);\n    i0.ɵɵtext(45, \"\\n            \");\n    i0.ɵɵelementStart(46, \"span\", 14);\n    i0.ɵɵtext(47, \"Delete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(48, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(49, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(50, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(51, \"\\n    \");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const mp3_r5 = ctx.$implicit;\n    i0.ɵɵadvance(18);\n    i0.ɵɵtextInterpolate1(\"\\n              \", mp3_r5.artists, \"\\n            \");\n    i0.ɵɵadvance(18);\n    i0.ɵɵtextInterpolate1(\"\\n              \", mp3_r5.title, \"\\n            \");\n  }\n}\nexport class Mp3PlayerAdminComponent {\n  constructor(messageService, generalService, translate) {\n    this.messageService = messageService;\n    this.generalService = generalService;\n    this.translate = translate;\n    this.msaapDisplayTitle = true;\n    this.msaapDisplayPlayList = true;\n    this.msaapPageSizeOptions = [2, 4, 6];\n    this.msaapDisplayVolumeControls = true;\n    this.msaapDisplayRepeatControls = true;\n    this.msaapDisplayArtist = false;\n    this.msaapDisplayDuration = false;\n    this.msaapDisablePositionSlider = true;\n    this.pageSizeOptions = 10;\n    this.msaapPlaylist = [];\n    this.uploadedFiles = [];\n    this.mp3s = [];\n  }\n  ngOnChanges(changes) {\n    if (changes['user'] !== undefined) {\n      this.user = changes['user'].currentValue;\n    }\n    if (changes['service'] !== undefined) {\n      this.service = changes['service'].currentValue;\n    }\n    if (this.user && this.service) {\n      this.loadData();\n    }\n    if (changes['product'] !== undefined) {\n      this.product = changes['product'].currentValue;\n    }\n    if (this.user && this.product) {\n      this.loadData();\n    }\n    if (changes['shop'] !== undefined) {\n      this.shop = changes['shop'].currentValue;\n    }\n    if (this.user && this.shop) {\n      this.loadData();\n    }\n    if (changes['event'] !== undefined) {\n      this.jhiEvent = changes['event'].currentValue;\n    }\n    if (this.user && this.jhiEvent) {\n      this.loadData();\n    }\n  }\n  ngOnInit() {\n    if (this.user && this.service) {\n      this.loadData();\n    }\n  }\n  loadData() {\n    if (this.service !== undefined) {\n      this.generalService.findMp3ByServiceIdAndUserId(this.service.id, this.user.id).subscribe(m => {\n        this.mp3s = m.body;\n        this.loadMP3List();\n      });\n    }\n    if (this.jhiEvent !== undefined) {\n      this.generalService.findMp3ByEventIdAndUserId(this.jhiEvent.id, this.user.id).subscribe(m => {\n        this.mp3s = m.body;\n        this.loadMP3List();\n      });\n    }\n    if (this.shop !== undefined) {\n      this.generalService.findMp3ByShopIdAndUserId(this.shop.id, this.user.id).subscribe(m => {\n        this.mp3s = m.body;\n        this.loadMP3List();\n      });\n    }\n    if (this.product !== undefined) {\n      this.generalService.findMp3ByProductIdAndUserId(this.product.id, this.user.id).subscribe(m => {\n        this.mp3s = m.body;\n        this.loadMP3List();\n      });\n    }\n  }\n  loadMP3List() {\n    this.msaapPlaylist = [];\n    this.mp3s.forEach(ele => {\n      this.msaapPlaylist.push({\n        title: ele.title,\n        link: ele.url,\n        artist: ele.artists,\n        duration: ele.duration\n      });\n    });\n    this.msaapPlaylist = this.msaapPlaylist.slice();\n  }\n  onUpload(event) {\n    for (let file of event.files) {\n      this.uploadedFiles.push(file);\n      this.uploadedFiles = this.uploadedFiles.slice();\n    }\n    this.loadData();\n    this.messageService.add({\n      severity: 'info',\n      summary: 'File Uploaded',\n      detail: ''\n    });\n  }\n  deleteMp3(musicId, shop, product, jhiEvent, service) {\n    /*\n    let suffix = '';\n         if(service !== undefined) {\n      suffix = '_service';\n    }\n    if(jhiEvent !== undefined) {\n      suffix = '_event';\n    }\n    if(shop !== undefined) {\n      suffix = '_shop';\n    }\n    if(product !== undefined) {\n      suffix = '_product';\n    }\n    */\n    this.generalService.deleteMP3(musicId).subscribe(() => {\n      this.loadData();\n    });\n  }\n  onEnded(e) {}\n}\nMp3PlayerAdminComponent.ɵfac = function Mp3PlayerAdminComponent_Factory(t) {\n  return new (t || Mp3PlayerAdminComponent)(i0.ɵɵdirectiveInject(i1.MessageService), i0.ɵɵdirectiveInject(i2.GeneralService), i0.ɵɵdirectiveInject(i3.TranslateService));\n};\nMp3PlayerAdminComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: Mp3PlayerAdminComponent,\n  selectors: [[\"jhi-mp3-player-admin\"]],\n  inputs: {\n    user: \"user\",\n    service: \"service\",\n    shop: \"shop\",\n    product: \"product\",\n    jhiEvent: \"jhiEvent\",\n    url: \"url\"\n  },\n  features: [i0.ɵɵProvidersFeature([MessageService]), i0.ɵɵNgOnChangesFeature],\n  decls: 17,\n  vars: 13,\n  consts: [[1, \"card\"], [\"name\", \"files[]\", \"multiple\", \"multiple\", \"accept\", \"audio/*\", \"maxFileSize\", \"15000000\", \"fileLimit\", \"3\", 3, \"url\", \"onUpload\"], [\"pTemplate\", \"content\"], [4, \"ngFor\", \"ngForOf\"], [\"muted\", \"muted\", 3, \"playlist\", \"displayTitle\", \"autoPlay\", \"displayPlaylist\", \"pageSizeOptions\", \"displayVolumeControls\", \"displayRepeatControls\", \"disablePositionSlider\", \"displayArtist\", \"displayDuration\", \"expanded\", \"trackEnded\"], [4, \"ngIf\"], [1, \"row\"], [1, \"col-md-4\"], [1, \"col-md-12\", \"bold\"], [\"jhiTranslate\", \"mp3-player-admin.artist\"], [1, \"col-md-12\"], [\"jhiTranslate\", \"mp3-player-admin.title\"], [1, \"btn\", \"btn-danger\", \"btn-sm\", 3, \"click\"], [\"icon\", \"times\"], [\"jhiTranslate\", \"entity.action.delete\", 1, \"d-none\", \"d-md-inline\"]],\n  template: function Mp3PlayerAdminComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"p-toast\");\n      i0.ɵɵtext(1, \"\\n\\n\");\n      i0.ɵɵelementStart(2, \"div\", 0);\n      i0.ɵɵtext(3, \"\\n    \");\n      i0.ɵɵelementStart(4, \"p-fileUpload\", 1);\n      i0.ɵɵlistener(\"onUpload\", function Mp3PlayerAdminComponent_Template_p_fileUpload_onUpload_4_listener($event) {\n        return ctx.onUpload($event);\n      });\n      i0.ɵɵtext(5, \"\\n            \");\n      i0.ɵɵtemplate(6, Mp3PlayerAdminComponent_ng_template_6_Template, 3, 1, \"ng-template\", 2);\n      i0.ɵɵtext(7, \"\\n          \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(8, \"\\n    \");\n      i0.ɵɵelement(9, \"hr\");\n      i0.ɵɵtext(10, \"\\n    \");\n      i0.ɵɵtemplate(11, Mp3PlayerAdminComponent_ng_container_11_Template, 52, 2, \"ng-container\", 3);\n      i0.ɵɵtext(12, \"\\n    \");\n      i0.ɵɵelement(13, \"hr\");\n      i0.ɵɵtext(14, \"\\n\\n    \");\n      i0.ɵɵelementStart(15, \"ngx-audio-player\", 4);\n      i0.ɵɵlistener(\"trackEnded\", function Mp3PlayerAdminComponent_Template_ngx_audio_player_trackEnded_15_listener($event) {\n        return ctx.onEnded($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(16, \"\\n\");\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"url\", ctx.url);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngForOf\", ctx.mp3s);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"playlist\", ctx.msaapPlaylist)(\"displayTitle\", ctx.msaapDisplayTitle)(\"autoPlay\", false)(\"displayPlaylist\", ctx.msaapDisplayPlayList)(\"pageSizeOptions\", ctx.pageSizeOptions)(\"displayVolumeControls\", ctx.msaapDisplayVolumeControls)(\"displayRepeatControls\", ctx.msaapDisplayRepeatControls)(\"disablePositionSlider\", ctx.msaapDisablePositionSlider)(\"displayArtist\", ctx.msaapDisplayArtist)(\"displayDuration\", ctx.msaapDisplayDuration)(\"expanded\", true);\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf, i5.FaIconComponent, i6.TranslateDirective, i7.FileUpload, i1.PrimeTemplate, i8.Toast, i9.AudioPlayerComponent],\n  styles: [\".bold[_ngcontent-%COMP%] {\\n  font-weight: bold;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9tYWluL3dlYmFwcC9hcHAvdmlld3MvbXAzLXBsYXllci9tcDMtcGxheWVyLWFkbWluL21wMy1wbGF5ZXItYWRtaW4uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxpQkFBQTtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLmJvbGQge1xuICBmb250LXdlaWdodDogYm9sZCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["MessageService","i0","Mp3PlayerAdminComponent","constructor","messageService","generalService","translate","ngOnChanges","changes","undefined","user","currentValue","service","loadData","product","shop","jhiEvent","ngOnInit","findMp3ByServiceIdAndUserId","id","subscribe","m","mp3s","body","loadMP3List","findMp3ByEventIdAndUserId","findMp3ByShopIdAndUserId","findMp3ByProductIdAndUserId","msaapPlaylist","forEach","ele","push","title","link","url","artist","artists","duration","slice","onUpload","event","file","files","uploadedFiles","add","severity","summary","detail","deleteMp3","musicId","deleteMP3","onEnded","e","selectors","inputs","features","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/home/ceo/mmmm/createyourevent/src/main/webapp/app/views/mp3-player/mp3-player-admin/mp3-player-admin.component.ts","/home/ceo/mmmm/createyourevent/src/main/webapp/app/views/mp3-player/mp3-player-admin/mp3-player-admin.component.html"],"sourcesContent":["import { ICreateYourEventService } from './../../../entities/create-your-event-service/create-your-event-service.model';\nimport { Mp3Service } from './../../../entities/mp-3/service/mp-3.service';\nimport { GeneralService } from 'app/general.service';\nimport { IMp3 } from './../../../entities/mp-3/mp-3.model';\nimport { IEvent } from './../../../entities/event/event.model';\nimport { IProduct } from './../../../entities/product/product.model';\nimport { IShop } from './../../../entities/shop/shop.model';\nimport { Component, OnInit, OnChanges, SimpleChanges } from '@angular/core';\nimport { Input } from '@angular/core';\nimport { IUser } from 'app/entities/user/user.model';\nimport { MessageService } from 'primeng/api';\nimport { Track } from 'ngx-audio-player';\nimport { TranslateService } from '@ngx-translate/core';\n\n\n@Component({\n  selector: 'jhi-mp3-player-admin',\n  templateUrl: './mp3-player-admin.component.html',\n  styleUrls: ['./mp3-player-admin.component.scss'],\n  providers: [MessageService],\n})\nexport class Mp3PlayerAdminComponent implements OnInit, OnChanges {\n\n  @Input() user: IUser\n  @Input() service: ICreateYourEventService;\n  @Input() shop: IShop;\n  @Input() product: IProduct;\n  @Input() jhiEvent: IEvent;\n  @Input() url: string;\n\n  msaapDisplayTitle = true;\n  msaapDisplayPlayList = true;\n  msaapPageSizeOptions = [2,4,6];\n  msaapDisplayVolumeControls = true;\n  msaapDisplayRepeatControls = true;\n  msaapDisplayArtist = false;\n  msaapDisplayDuration = false;\n  msaapDisablePositionSlider = true;\n  pageSizeOptions = 10;\n  msaapPlaylist: Track[] = [];\n\n  uploadedFiles: any[] = [];\n\n  mp3s: IMp3[] = [];\n\n  constructor(private messageService: MessageService,\n              private generalService: GeneralService,\n              private translate: TranslateService,) { }\n\n\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes['user'] !== undefined) {\n      this.user = changes['user'].currentValue;\n    }\n    if (changes['service'] !== undefined) {\n      this.service = changes['service'].currentValue;\n    }\n    if(this.user && this.service) {\n      this.loadData();\n    }\n    if (changes['product'] !== undefined) {\n      this.product = changes['product'].currentValue;\n    }\n    if(this.user && this.product) {\n      this.loadData();\n    }\n    if (changes['shop'] !== undefined) {\n      this.shop = changes['shop'].currentValue;\n    }\n    if(this.user && this.shop) {\n      this.loadData();\n    }\n    if (changes['event'] !== undefined) {\n      this.jhiEvent = changes['event'].currentValue;\n    }\n    if(this.user && this.jhiEvent) {\n      this.loadData();\n    }\n  }\n\n  ngOnInit(): void {\n    if(this.user && this.service) {\n      this.loadData();\n    }\n  }\n\n  loadData(): void {\n    if(this.service !== undefined) {\n      this.generalService.findMp3ByServiceIdAndUserId(this.service.id, this.user.id).subscribe(m => {\n        this.mp3s = m.body;\n        this.loadMP3List();\n      });\n    }\n    if(this.jhiEvent !== undefined) {\n      this.generalService.findMp3ByEventIdAndUserId(this.jhiEvent.id, this.user.id).subscribe(m => {\n        this.mp3s = m.body;\n        this.loadMP3List();\n      });\n    }\n    if(this.shop !== undefined) {\n      this.generalService.findMp3ByShopIdAndUserId(this.shop.id, this.user.id).subscribe(m => {\n        this.mp3s = m.body;\n        this.loadMP3List();\n      });\n    }\n    if(this.product !== undefined) {\n      this.generalService.findMp3ByProductIdAndUserId(this.product.id, this.user.id).subscribe(m => {\n        this.mp3s = m.body;\n        this.loadMP3List();\n      });\n    }\n  }\n\n  loadMP3List(): void {\n    this.msaapPlaylist = [];\n    this.mp3s.forEach(ele => {\n      this.msaapPlaylist.push(\n        {\n          title: ele.title,\n          link: ele.url,\n          artist: ele.artists,\n          duration: ele.duration\n        }\n      );\n    });\n    this.msaapPlaylist = this.msaapPlaylist.slice();\n  }\n\n  onUpload(event: any): void {\n    for(let file of event.files) {\n        this.uploadedFiles.push(file);\n        this.uploadedFiles = this.uploadedFiles.slice();\n    }\n    this.loadData();\n    this.messageService.add({severity: 'info', summary: 'File Uploaded', detail: ''});\n}\n\n  deleteMp3(musicId: number, shop: IShop, product: IProduct, jhiEvent: IEvent,service: ICreateYourEventService): void {\n\n    /*\n    let suffix = '';\n\n    if(service !== undefined) {\n      suffix = '_service';\n    }\n    if(jhiEvent !== undefined) {\n      suffix = '_event';\n    }\n    if(shop !== undefined) {\n      suffix = '_shop';\n    }\n    if(product !== undefined) {\n      suffix = '_product';\n    }\n    */\n    this.generalService.deleteMP3(musicId).subscribe(() => {\n      this.loadData();\n    });\n  }\n\nonEnded(e: any): void {\n\n}\n\n}\n","<p-toast></p-toast>\n\n<div class=\"card\">\n    <p-fileUpload name=\"files[]\" [url]=\"url\" (onUpload)=\"onUpload($event)\"\n            multiple=\"multiple\" accept=\"audio/*\" maxFileSize=\"15000000\" fileLimit=\"3\">\n            <ng-template pTemplate=\"content\">\n                <ul *ngIf=\"uploadedFiles.length\">\n                    <li *ngFor=\"let file of uploadedFiles\">{{file.name}} - {{file.size}} bytes</li>\n                </ul>\n            </ng-template>\n          </p-fileUpload>\n    <hr/>\n    <ng-container *ngFor=\"let mp3 of mp3s\">\n      <div class=\"row\">\n        <div class=\"col-md-4\">\n          <div class=\"row\">\n            <div class=\"col-md-12 bold\">\n              <span jhiTranslate=\"mp3-player-admin.artist\">Artist: </span>\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-md-12\">\n              {{ mp3.artists }}\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-4\">\n          <div class=\"row\">\n            <div class=\"col-md-12 bold\">\n              <span jhiTranslate=\"mp3-player-admin.title\">Title: </span>\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-md-12\">\n              {{ mp3.title }}\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-4\">\n          <button (click)=\"deleteMp3(mp3.id, shop, product, jhiEvent,service)\" class=\"btn btn-danger btn-sm\">\n            <fa-icon icon=\"times\"></fa-icon>\n            <span class=\"d-none d-md-inline\" jhiTranslate=\"entity.action.delete\">Delete</span>\n        </button>\n        </div>\n      </div>\n    </ng-container>\n    <hr/>\n\n    <ngx-audio-player [playlist]=\"msaapPlaylist\" [displayTitle]=\"msaapDisplayTitle\" [autoPlay]=\"false\"\n    muted=\"muted\" [displayPlaylist]=\"msaapDisplayPlayList\" [pageSizeOptions]=\"pageSizeOptions\" (trackEnded)=\"onEnded($event)\"\n        [displayVolumeControls]=\"msaapDisplayVolumeControls\" [displayRepeatControls]=\"msaapDisplayRepeatControls\"\n        [disablePositionSlider]=\"msaapDisablePositionSlider\" [displayArtist]=\"msaapDisplayArtist\"\n        [displayDuration]=\"msaapDisplayDuration\" [expanded]=\"true\"></ngx-audio-player>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}