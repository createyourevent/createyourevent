{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"app/entities/event/service/event.service\";\nimport * as i2 from \"./../../general.service\";\nimport * as i3 from \"app/entities/shop/service/shop.service\";\nimport * as i4 from \"app/entities/create-your-event-service/service/create-your-event-service.service\";\nimport * as i5 from \"app/entities/organization/service/organization.service\";\nimport * as i6 from \"app/entities/organization-reservation/service/organization-reservation.service\";\nimport * as i7 from \"@angular/forms\";\nimport * as i8 from \"@angular/common\";\nimport * as i9 from \"@angular/material/tabs\";\nimport * as i10 from \"primeng/checkbox\";\nimport * as i11 from \"@ngx-translate/core\";\nfunction ActivateComponent_tr_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtext(1, \"\\n                \");\n    i0.ɵɵelementStart(2, \"td\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n                \");\n    i0.ɵɵelementStart(5, \"td\")(6, \"p-checkbox\", 2);\n    i0.ɵɵlistener(\"onChange\", function ActivateComponent_tr_7_Template_p_checkbox_onChange_6_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const e_r4 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.changeEvent($event, e_r4.id));\n    })(\"ngModelChange\", function ActivateComponent_tr_7_Template_p_checkbox_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.selectedValuesEvents = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(7, \"\\n                \");\n    i0.ɵɵelementStart(8, \"td\")(9, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function ActivateComponent_tr_7_Template_button_click_9_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const e_r4 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.deleteEvent($event, e_r4.id));\n    });\n    i0.ɵɵtext(10, \"Delete\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(11, \"\\n            \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const e_r4 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(e_r4.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate1(\"value\", \"val-\", e_r4.id, \"\");\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.selectedValuesEvents);\n  }\n}\nfunction ActivateComponent_tr_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtext(1, \"\\n                \");\n    i0.ɵɵelementStart(2, \"td\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n                \");\n    i0.ɵɵelementStart(5, \"td\")(6, \"p-checkbox\", 4);\n    i0.ɵɵlistener(\"onChange\", function ActivateComponent_tr_16_Template_p_checkbox_onChange_6_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const s_r9 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.changeShop($event, s_r9.id));\n    })(\"ngModelChange\", function ActivateComponent_tr_16_Template_p_checkbox_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.selectedValuesShops = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(7, \"\\n            \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const s_r9 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(s_r9.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate1(\"value\", \"val-\", s_r9.id, \"\");\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.selectedValuesShops);\n  }\n}\nfunction ActivateComponent_tr_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtext(1, \"\\n                \");\n    i0.ɵɵelementStart(2, \"td\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n                \");\n    i0.ɵɵelementStart(5, \"td\")(6, \"p-checkbox\", 5);\n    i0.ɵɵlistener(\"onChange\", function ActivateComponent_tr_25_Template_p_checkbox_onChange_6_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r15);\n      const e_r13 = restoredCtx.$implicit;\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.changeService($event, e_r13.id));\n    })(\"ngModelChange\", function ActivateComponent_tr_25_Template_p_checkbox_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.selectedValuesServices = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(7, \"\\n            \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const e_r13 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(e_r13.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate1(\"value\", \"val-\", e_r13.id, \"\");\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.selectedValuesServices);\n  }\n}\nfunction ActivateComponent_tr_34_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtext(1, \"\\n              \");\n    i0.ɵɵelementStart(2, \"td\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n              \");\n    i0.ɵɵelementStart(5, \"td\")(6, \"p-checkbox\", 6);\n    i0.ɵɵlistener(\"onChange\", function ActivateComponent_tr_34_Template_p_checkbox_onChange_6_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r19);\n      const e_r17 = restoredCtx.$implicit;\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.changeOrganization($event, e_r17.id));\n    })(\"ngModelChange\", function ActivateComponent_tr_34_Template_p_checkbox_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.selectedValuesOrganizations = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(7, \"\\n          \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const e_r17 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(e_r17.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate1(\"value\", \"val-\", e_r17.id, \"\");\n    i0.ɵɵproperty(\"ngModel\", ctx_r3.selectedValuesOrganizations);\n  }\n}\nexport let ActivateComponent = /*#__PURE__*/(() => {\n  class ActivateComponent {\n    constructor(eventService, generalService, shopService, createYourEventService, organizationService, organizationReservationService) {\n      this.eventService = eventService;\n      this.generalService = generalService;\n      this.shopService = shopService;\n      this.createYourEventService = createYourEventService;\n      this.organizationService = organizationService;\n      this.organizationReservationService = organizationReservationService;\n      this.selectedValuesEvents = [];\n      this.selectedValuesShops = [];\n      this.selectedValuesServices = [];\n      this.selectedValuesOrganizations = [];\n    }\n    ngOnInit() {\n      this.eventService.query().subscribe(e => {\n        this.events = e.body;\n        this.events.forEach(element => {\n          if (element.active === true) {\n            this.selectedValuesEvents.push('val-' + element.id);\n          }\n        });\n      });\n      this.shopService.query().subscribe(s => {\n        this.shops = s.body;\n        this.shops.forEach(element => {\n          if (element.active === true) {\n            this.selectedValuesShops.push('val-' + element.id);\n          }\n        });\n      });\n      this.organizationService.query().subscribe(o => {\n        this.organizations = o.body;\n        this.organizations.forEach(element => {\n          if (element.active === true) {\n            this.selectedValuesOrganizations.push('val-' + element.id);\n          }\n        });\n      });\n      this.createYourEventService.query().subscribe(s => {\n        this.services = s.body;\n        this.services.forEach(element => {\n          if (element.active === true) {\n            this.selectedValuesServices.push('val-' + element.id);\n          }\n        });\n      });\n    }\n    deleteEvent(e, id) {\n      this.generalService.findOrganizationReservationsByEventId(id).subscribe(or => {\n        const reservations = or.body;\n        let i = 0;\n        reservations.forEach(reservation => {\n          i++;\n          this.organizationReservationService.delete(reservation.id).subscribe(() => {\n            if (i === reservations.length) {\n              this.eventService.delete(id).subscribe();\n              this.ngOnInit();\n            }\n          });\n        });\n      });\n    }\n    changeEvent(event, id) {\n      this.generalService.findEventWithId(id).subscribe(e => {\n        const jhiEvent = e.body;\n        jhiEvent.active = event.checked;\n        this.generalService.updateEvent(jhiEvent).subscribe();\n      });\n    }\n    changeShop(event, id) {\n      this.shopService.find(id).subscribe(s => {\n        const shop = s.body;\n        shop.active = event.checked;\n        shop.activeOwner = event.checked;\n        this.shopService.update(shop).subscribe();\n      });\n    }\n    changeOrganization(event, id) {\n      this.shopService.find(id).subscribe(s => {\n        const organization = s.body;\n        organization.active = event.checked;\n        organization.activeOwner = event.checked;\n        this.organizationService.update(organization).subscribe();\n      });\n    }\n    changeService(event, id) {\n      this.createYourEventService.find(id).subscribe(e => {\n        const service = e.body;\n        service.active = event.checked;\n        service.activeOwner = event.checked;\n        this.createYourEventService.update(service).subscribe();\n      });\n    }\n  }\n  ActivateComponent.ɵfac = function ActivateComponent_Factory(t) {\n    return new (t || ActivateComponent)(i0.ɵɵdirectiveInject(i1.EventService), i0.ɵɵdirectiveInject(i2.GeneralService), i0.ɵɵdirectiveInject(i3.ShopService), i0.ɵɵdirectiveInject(i4.CreateYourEventServiceService), i0.ɵɵdirectiveInject(i5.OrganizationService), i0.ɵɵdirectiveInject(i6.OrganizationReservationService));\n  };\n  ActivateComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ActivateComponent,\n    selectors: [[\"jhi-activate\"]],\n    decls: 39,\n    vars: 16,\n    consts: [[3, \"label\"], [4, \"ngFor\", \"ngForOf\"], [\"name\", \"events\", 3, \"value\", \"ngModel\", \"onChange\", \"ngModelChange\"], [3, \"click\"], [\"name\", \"shops\", 3, \"value\", \"ngModel\", \"onChange\", \"ngModelChange\"], [\"name\", \"services\", 3, \"value\", \"ngModel\", \"onChange\", \"ngModelChange\"], [\"name\", \"organizations\", 3, \"value\", \"ngModel\", \"onChange\", \"ngModelChange\"]],\n    template: function ActivateComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"mat-tab-group\");\n        i0.ɵɵtext(1, \"\\n    \");\n        i0.ɵɵelementStart(2, \"mat-tab\", 0);\n        i0.ɵɵpipe(3, \"translate\");\n        i0.ɵɵtext(4, \"\\n        \");\n        i0.ɵɵelementStart(5, \"table\");\n        i0.ɵɵtext(6, \"\\n            \");\n        i0.ɵɵtemplate(7, ActivateComponent_tr_7_Template, 12, 3, \"tr\", 1);\n        i0.ɵɵtext(8, \"\\n        \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(9, \"\\n    \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(10, \"\\n    \");\n        i0.ɵɵelementStart(11, \"mat-tab\", 0);\n        i0.ɵɵpipe(12, \"translate\");\n        i0.ɵɵtext(13, \"\\n        \");\n        i0.ɵɵelementStart(14, \"table\");\n        i0.ɵɵtext(15, \"\\n            \");\n        i0.ɵɵtemplate(16, ActivateComponent_tr_16_Template, 8, 3, \"tr\", 1);\n        i0.ɵɵtext(17, \"\\n        \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(18, \"\\n    \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(19, \"\\n    \");\n        i0.ɵɵelementStart(20, \"mat-tab\", 0);\n        i0.ɵɵpipe(21, \"translate\");\n        i0.ɵɵtext(22, \"\\n        \");\n        i0.ɵɵelementStart(23, \"table\");\n        i0.ɵɵtext(24, \"\\n            \");\n        i0.ɵɵtemplate(25, ActivateComponent_tr_25_Template, 8, 3, \"tr\", 1);\n        i0.ɵɵtext(26, \"\\n        \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(27, \"\\n    \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(28, \"\\n    \");\n        i0.ɵɵelementStart(29, \"mat-tab\", 0);\n        i0.ɵɵpipe(30, \"translate\");\n        i0.ɵɵtext(31, \"\\n      \");\n        i0.ɵɵelementStart(32, \"table\");\n        i0.ɵɵtext(33, \"\\n          \");\n        i0.ɵɵtemplate(34, ActivateComponent_tr_34_Template, 8, 3, \"tr\", 1);\n        i0.ɵɵtext(35, \"\\n      \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(36, \"\\n  \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(37, \"\\n  \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(38, \"\\n\\n\\n\");\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵpropertyInterpolate(\"label\", i0.ɵɵpipeBind1(3, 8, \"createyourevent.activate.events\"));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngForOf\", ctx.events);\n        i0.ɵɵadvance(4);\n        i0.ɵɵpropertyInterpolate(\"label\", i0.ɵɵpipeBind1(12, 10, \"createyourevent.activate.shops\"));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngForOf\", ctx.shops);\n        i0.ɵɵadvance(4);\n        i0.ɵɵpropertyInterpolate(\"label\", i0.ɵɵpipeBind1(21, 12, \"createyourevent.activate.services\"));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngForOf\", ctx.services);\n        i0.ɵɵadvance(4);\n        i0.ɵɵpropertyInterpolate(\"label\", i0.ɵɵpipeBind1(30, 14, \"createyourevent.activate.organization\"));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngForOf\", ctx.organizations);\n      }\n    },\n    dependencies: [i7.NgControlStatus, i7.NgModel, i8.NgForOf, i9.MatTabGroup, i9.MatTab, i10.Checkbox, i11.TranslatePipe]\n  });\n  return ActivateComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}