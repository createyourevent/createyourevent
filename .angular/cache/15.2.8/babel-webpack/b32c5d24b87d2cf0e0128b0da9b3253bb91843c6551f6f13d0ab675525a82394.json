{"ast":null,"code":"import { NavigationStart } from \"@angular/router\";\nimport { EventStatus } from \"app/entities/enumerations/event-status.model\";\nimport * as dayjs from \"dayjs\";\nimport { Subject } from \"rxjs\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"app/general.service\";\nimport * as i2 from \"app/google-geocode.service\";\nimport * as i3 from \"./SharedNotificationService.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"../shared/language/translate.directive\";\nimport * as i7 from \"../shared/auth/has-any-authority.directive\";\nfunction SystemNotificationComponent_ng_container_0_div_7_div_2_li_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\")(1, \"a\", 13);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const event_r9 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"href\", \"/events/\", event_r9.id, \"/dashboard-event/workflow\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(event_r9.name);\n  }\n}\nfunction SystemNotificationComponent_ng_container_0_div_7_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵtext(1, \"\\n            \");\n    i0.ɵɵelementStart(2, \"div\", 10);\n    i0.ɵɵtext(3, \"You still have to definitely confirm the following events, which are organized by you.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n            \");\n    i0.ɵɵelementStart(5, \"ul\", 11);\n    i0.ɵɵtext(6, \"\\n                \");\n    i0.ɵɵtemplate(7, SystemNotificationComponent_ng_container_0_div_7_div_2_li_7_Template, 3, 2, \"li\", 12);\n    i0.ɵɵtext(8, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \"\\n        \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.eventsIn7days);\n  }\n}\nfunction SystemNotificationComponent_ng_container_0_div_7_div_4_li_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\")(1, \"a\", 13);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const event_r11 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"href\", \"/events/\", event_r11.id, \"/view\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(event_r11.name);\n  }\n}\nfunction SystemNotificationComponent_ng_container_0_div_7_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵtext(1, \"\\n            \");\n    i0.ɵɵelementStart(2, \"div\", 15);\n    i0.ɵɵtext(3, \"Events this week with distance of 20km.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n            \");\n    i0.ɵɵelementStart(5, \"ul\", 16);\n    i0.ɵɵtext(6, \"\\n                \");\n    i0.ɵɵtemplate(7, SystemNotificationComponent_ng_container_0_div_7_div_4_li_7_Template, 3, 2, \"li\", 12);\n    i0.ɵɵtext(8, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \"\\n        \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.eventsWithDistanceAndSevenDays);\n  }\n}\nfunction SystemNotificationComponent_ng_container_0_div_7_div_6_li_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\")(1, \"a\", 19);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ticket_r13 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ticket_r13.event.name);\n  }\n}\nfunction SystemNotificationComponent_ng_container_0_div_7_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17);\n    i0.ɵɵtext(1, \"\\n            \");\n    i0.ɵɵelementStart(2, \"div\", 18);\n    i0.ɵɵtext(3, \"You must pay this tickets:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n            \");\n    i0.ɵɵelementStart(5, \"ul\", 11);\n    i0.ɵɵtext(6, \"\\n                \");\n    i0.ɵɵtemplate(7, SystemNotificationComponent_ng_container_0_div_7_div_6_li_7_Template, 3, 1, \"li\", 12);\n    i0.ɵɵtext(8, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \"\\n        \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.tickets);\n  }\n}\nfunction SystemNotificationComponent_ng_container_0_div_7_div_8_li_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\")(1, \"a\", 13);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const shop_r15 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"href\", \"/supplier/orders/\", shop_r15.id, \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(shop_r15.name);\n  }\n}\nfunction SystemNotificationComponent_ng_container_0_div_7_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtext(1, \"\\n          \");\n    i0.ɵɵelementStart(2, \"div\", 21);\n    i0.ɵɵtext(3, \"You have product orders that you have not yet seen.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n          \");\n    i0.ɵɵelementStart(5, \"ul\", 16);\n    i0.ɵɵtext(6, \"\\n              \");\n    i0.ɵɵtemplate(7, SystemNotificationComponent_ng_container_0_div_7_div_8_li_7_Template, 3, 2, \"li\", 12);\n    i0.ɵɵtext(8, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \"\\n        \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r5.shopsNotSeen);\n  }\n}\nfunction SystemNotificationComponent_ng_container_0_div_7_div_10_li_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\")(1, \"a\", 13);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ser_r17 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate2(\"href\", \"/service/\", ser_r17.createYourEventService.id, \"/customer-booking/\", ser_r17.id, \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ser_r17.title);\n  }\n}\nfunction SystemNotificationComponent_ng_container_0_div_7_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵtext(1, \"\\n          \");\n    i0.ɵɵelementStart(2, \"div\", 22);\n    i0.ɵɵtext(3, \"You haven't seen any service bookings.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n          \");\n    i0.ɵɵelementStart(5, \"ul\", 11);\n    i0.ɵɵtext(6, \"\\n              \");\n    i0.ɵɵtemplate(7, SystemNotificationComponent_ng_container_0_div_7_div_10_li_7_Template, 3, 3, \"li\", 12);\n    i0.ɵɵtext(8, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \"\\n        \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r6.serviceMapsNotSeen);\n  }\n}\nfunction SystemNotificationComponent_ng_container_0_div_7_div_12_ng_container_7_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"\\n                  \");\n    i0.ɵɵelementStart(2, \"li\")(3, \"a\", 13);\n    i0.ɵɵpipe(4, \"lowercase\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(6, \"\\n                \");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const org_r19 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate2(\"href\", \"/organization/\", org_r19.organization.restaurant.id, \"/rent-\", i0.ɵɵpipeBind1(4, 3, org_r19.organization.organizationType), \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(org_r19.organization.name);\n  }\n}\nfunction SystemNotificationComponent_ng_container_0_div_7_div_12_ng_container_7_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"\\n                  \");\n    i0.ɵɵelementStart(2, \"li\")(3, \"a\", 13);\n    i0.ɵɵpipe(4, \"lowercase\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(6, \"\\n                \");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const org_r19 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate2(\"href\", \"/organization/\", org_r19.organization.club.id, \"/rent-\", i0.ɵɵpipeBind1(4, 3, org_r19.organization.organizationType), \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(org_r19.organization.name);\n  }\n}\nfunction SystemNotificationComponent_ng_container_0_div_7_div_12_ng_container_7_ng_container_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"\\n                  \");\n    i0.ɵɵelementStart(2, \"li\")(3, \"a\", 13);\n    i0.ɵɵpipe(4, \"lowercase\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(6, \"\\n                \");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const org_r19 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate2(\"href\", \"/organization/\", org_r19.organization.hotel.id, \"/rent-\", i0.ɵɵpipeBind1(4, 3, org_r19.organization.organizationType), \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(org_r19.organization.name);\n  }\n}\nfunction SystemNotificationComponent_ng_container_0_div_7_div_12_ng_container_7_ng_container_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"\\n                  \");\n    i0.ɵɵelementStart(2, \"li\")(3, \"a\", 13);\n    i0.ɵɵpipe(4, \"lowercase\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(6, \"\\n                \");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const org_r19 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate2(\"href\", \"/organization/\", org_r19.organization.building.id, \"/rent-\", i0.ɵɵpipeBind1(4, 3, org_r19.organization.organizationType), \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(org_r19.organization.name);\n  }\n}\nfunction SystemNotificationComponent_ng_container_0_div_7_div_12_ng_container_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"\\n                \");\n    i0.ɵɵtemplate(2, SystemNotificationComponent_ng_container_0_div_7_div_12_ng_container_7_ng_container_2_Template, 7, 5, \"ng-container\", 24);\n    i0.ɵɵtext(3, \"\\n                \");\n    i0.ɵɵtemplate(4, SystemNotificationComponent_ng_container_0_div_7_div_12_ng_container_7_ng_container_4_Template, 7, 5, \"ng-container\", 24);\n    i0.ɵɵtext(5, \"\\n                \");\n    i0.ɵɵtemplate(6, SystemNotificationComponent_ng_container_0_div_7_div_12_ng_container_7_ng_container_6_Template, 7, 5, \"ng-container\", 24);\n    i0.ɵɵtext(7, \"\\n                \");\n    i0.ɵɵtemplate(8, SystemNotificationComponent_ng_container_0_div_7_div_12_ng_container_7_ng_container_8_Template, 7, 5, \"ng-container\", 24);\n    i0.ɵɵtext(9, \"\\n              \");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const org_r19 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", org_r19.organization.organizationType === \"RESTAURANT\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", org_r19.organization.organizationType === \"CLUB\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", org_r19.organization.organizationType === \"HOTEL\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", org_r19.organization.organizationType === \"BUILDING\");\n  }\n}\nfunction SystemNotificationComponent_ng_container_0_div_7_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtext(1, \"\\n            \");\n    i0.ɵɵelementStart(2, \"div\", 23);\n    i0.ɵɵtext(3, \"You haven't seen any organization reservations\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n            \");\n    i0.ɵɵelementStart(5, \"ul\", 16);\n    i0.ɵɵtext(6, \"\\n              \");\n    i0.ɵɵtemplate(7, SystemNotificationComponent_ng_container_0_div_7_div_12_ng_container_7_Template, 10, 4, \"ng-container\", 12);\n    i0.ɵɵtext(8, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \"\\n          \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r7.organizationsNotSeen);\n  }\n}\nfunction SystemNotificationComponent_ng_container_0_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵtext(1, \"\\n        \");\n    i0.ɵɵtemplate(2, SystemNotificationComponent_ng_container_0_div_7_div_2_Template, 10, 1, \"div\", 5);\n    i0.ɵɵtext(3, \"\\n        \");\n    i0.ɵɵtemplate(4, SystemNotificationComponent_ng_container_0_div_7_div_4_Template, 10, 1, \"div\", 6);\n    i0.ɵɵtext(5, \"\\n        \");\n    i0.ɵɵtemplate(6, SystemNotificationComponent_ng_container_0_div_7_div_6_Template, 10, 1, \"div\", 7);\n    i0.ɵɵtext(7, \"\\n        \");\n    i0.ɵɵtemplate(8, SystemNotificationComponent_ng_container_0_div_7_div_8_Template, 10, 1, \"div\", 8);\n    i0.ɵɵtext(9, \"\\n        \");\n    i0.ɵɵtemplate(10, SystemNotificationComponent_ng_container_0_div_7_div_10_Template, 10, 1, \"div\", 5);\n    i0.ɵɵtext(11, \"\\n        \");\n    i0.ɵɵtemplate(12, SystemNotificationComponent_ng_container_0_div_7_div_12_Template, 10, 1, \"div\", 8);\n    i0.ɵɵtext(13, \"\\n    \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"hidden\", ctx_r1.isShowMessages);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.eventsIn7days.length > 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.eventsWithDistanceAndSevenDays.length > 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.tickets.length > 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.shopsNotSeen.length > 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.serviceMapsNotSeen.length > 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.organizationsNotSeen.length > 0);\n  }\n}\nfunction SystemNotificationComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r29 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"\\n    \");\n    i0.ɵɵelementStart(2, \"div\", 1);\n    i0.ɵɵlistener(\"click\", function SystemNotificationComponent_ng_container_0_Template_div_click_2_listener() {\n      i0.ɵɵrestoreView(_r29);\n      const ctx_r28 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r28.openNotifications());\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"\\n\\n        \");\n    i0.ɵɵelementStart(4, \"div\", 2);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n\\n    \");\n    i0.ɵɵtemplate(7, SystemNotificationComponent_ng_container_0_div_7_Template, 14, 7, \"div\", 3);\n    i0.ɵɵtext(8, \"\\n\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r0.totalMessages);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.eventsIn7days.length > 0 || ctx_r0.eventsWithDistanceAndSevenDays.length > 0 || ctx_r0.tickets.length > 0);\n  }\n}\nexport class SystemNotificationComponent {\n  constructor(generalService, googleGeocoderService, sharedNotificationService, router) {\n    this.generalService = generalService;\n    this.googleGeocoderService = googleGeocoderService;\n    this.sharedNotificationService = sharedNotificationService;\n    this.router = router;\n    this.isShowMessages = true;\n    this.eventsIn7days = [];\n    this.totalMessages = 0;\n    this.eventsWithDistanceAndSevenDays = [];\n    this.refresh = new Subject();\n    this.tickets = [];\n    this.eventProductOrders = [];\n    this.shopsNotSeen = [];\n    this.servicesNotSeen = [];\n    this.serviceMapsNotSeen = [];\n    this.organizationsNotSeen = [];\n    this.subscriptionPR = router.events.subscribe(event => {\n      if (event instanceof NavigationStart) {\n        if (!router.navigated) {\n          this.totalMessages = 0;\n          this.loadAlertMessages();\n          this.loadAllEventsInDistance(25);\n          this.loadTickets();\n          this.loadEventProductOrders();\n          this.loadServiceOrders();\n        }\n      }\n    });\n  }\n  ngOnDestroy() {\n    this.changeEventsubscription.unsubscribe();\n    this.subscription.unsubscribe();\n    this.subscriptionPR.unsubscribe();\n  }\n  ngOnInit() {\n    this.generalService.findWidthAuthorities().subscribe(u => {\n      this.user = u.body;\n      if (this.user !== null) {\n        this.totalMessages = 0;\n        this.loadAlertMessages();\n        this.loadAllEventsInDistance(25);\n        this.loadTickets();\n        this.loadEventProductOrders();\n        this.loadServiceOrders();\n        this.loadOrganizationReservations();\n        this.changeEventsubscription = this.sharedNotificationService.getLoginEvent().subscribe(() => {\n          this.totalMessages = 0;\n          this.loadAlertMessages();\n          this.loadAllEventsInDistance(25);\n          this.loadTickets();\n          this.loadEventProductOrders();\n          this.loadServiceOrders();\n          this.loadOrganizationReservations();\n        });\n      }\n    });\n  }\n  loadTickets() {\n    this.tickets = [];\n    this.generalService.getReservationsByUserAndNotBilled(this.user.id).subscribe(r => {\n      r.body.forEach(element => {\n        if (element.event.definitelyConfirmed && element.event.status === EventStatus.DEFINITELY) {\n          this.tickets.push(element);\n          this.totalMessages++;\n          this.refresh.next();\n        }\n      });\n    });\n  }\n  loadAlertMessages() {\n    this.eventsIn7days = [];\n    this.generalService.findAllEventsByActiveTrueAndDateEndAfterAndUserId(dayjs(), this.user.id).subscribe(e => {\n      this.events = e.body;\n      this.events.forEach(element => {\n        const warning = dayjs(element.dateStart).subtract(21, 'days').startOf('day');\n        if (dayjs(element.dateStart).isAfter(warning) && !element.definitelyConfirmed) {\n          this.eventsIn7days.push(element);\n          this.totalMessages++;\n          this.refresh.next();\n        }\n      });\n    });\n  }\n  loadServiceOrders() {\n    this.servicesNotSeen = [];\n    this.serviceMapsNotSeen = [];\n    let esmos = [];\n    this.generalService.getServicesFromUserAndActive(this.user.id).subscribe(res => {\n      const services = res.body;\n      let i = 0;\n      services.forEach(service => {\n        i++;\n        this.generalService.findByCreateYourEventServiceId(service.id).subscribe(res => {\n          {\n            const servicemaps = res.body;\n            let l = 0;\n            servicemaps.forEach(sm => {\n              l++;\n              this.generalService.getAllEventServiceMapsOrdersByServiceMapId(sm.id).subscribe(esmo => {\n                esmos = esmos.concat(esmo.body);\n                if (i === services.length && l === servicemaps.length) {\n                  esmos.forEach(elem => {\n                    if (!elem.seen) {\n                      elem.serviceMap.createYourEventService = service;\n                      this.serviceMapsNotSeen.push(elem.serviceMap);\n                      this.totalMessages++;\n                      this.refresh.next();\n                    }\n                  });\n                }\n              });\n            });\n          }\n        });\n      });\n    });\n  }\n  loadEventProductOrders() {\n    this.shopsNotSeen = [];\n    this.generalService.findShopsByUserAndActiveTrue().subscribe(s => {\n      const shops = s.body;\n      let i = 0;\n      shops.forEach(element => {\n        i++;\n        this.generalService.findAllEventProductOrdersByShopId(element.id).subscribe(epos => {\n          const eventProductOrders = epos.body;\n          eventProductOrders.forEach(res => {\n            if (!res.seen) {\n              this.eventProductOrders.push(res);\n            }\n          });\n          if (i === shops.length) {\n            this.eventProductOrders.forEach(el => {\n              const sel = shops.find(x => el.shop.id === x.id);\n              if (sel !== undefined) {\n                const z = this.shopsNotSeen.findIndex(y => y.id === sel.id);\n                if (z === -1) {\n                  this.shopsNotSeen.push(sel);\n                  this.totalMessages++;\n                  this.refresh.next();\n                }\n              }\n            });\n          }\n        });\n      });\n    });\n  }\n  loadAllEventsInDistance(dist) {\n    this.eventsWithDistanceAndSevenDays = [];\n    this.generalService.findWidthAuthorities().subscribe(u => {\n      const user = u.body;\n      let latUser = 0;\n      let lngUser = 0;\n      let posUser;\n      const queryParam = this.user.address.replace(' ', '+');\n      this.googleGeocoderService.getFromAddress(queryParam).subscribe(res => {\n        const geocoder = res.body['results'];\n        const geometry = geocoder[0].geometry;\n        latUser = geometry.location.lat;\n        lngUser = geometry.location.lng;\n        posUser = new google.maps.LatLng(latUser, lngUser);\n        const now = dayjs();\n        this.generalService.findEventByIsPublicAndActive().subscribe(res2 => {\n          const events = res2.body;\n          const eventsBeforSevenDays = [];\n          events.forEach(eve => {\n            if (eve.definitelyConfirmed === true && eve.status === EventStatus.DEFINITELY) {\n              //eventsBeforSevenDays.push(eve);\n              const warning = dayjs(eve.dateStart).subtract(21, 'days').startOf('day');\n              const t = warning.isBefore(dayjs());\n              if (t) {\n                eventsBeforSevenDays.push(eve);\n              }\n            }\n          });\n          eventsBeforSevenDays.forEach(element => {\n            let latEvent = 0;\n            let lngEvent = 0;\n            let posEvent;\n            const queryParamShop = element.location.address.address.replace(' ', '+');\n            this.googleGeocoderService.getFromAddress(queryParamShop).subscribe(resShop => {\n              const geocoderShop = resShop.body['results'];\n              const geometryShop = geocoderShop[0].geometry;\n              latEvent = geometryShop.location.lat;\n              lngEvent = geometryShop.location.lng;\n              posEvent = new google.maps.LatLng(latEvent, lngEvent);\n              const distance = google.maps.geometry.spherical.computeDistanceBetween(posUser, posEvent);\n              const maxDistance = dist * 1000;\n              if (maxDistance > distance) {\n                this.eventsWithDistanceAndSevenDays.push(element);\n                this.totalMessages++;\n                this.refresh.next();\n              }\n            });\n          });\n        });\n      });\n    });\n  }\n  loadOrganizationReservations() {\n    this.generalService.findOrganizationReservationsByOrganizationWithUserId(this.user.id).subscribe(or => {\n      const reservations = or.body;\n      reservations.forEach(ele => {\n        if (ele.seen === null || !ele.seen) {\n          this.organizationsNotSeen.push(ele);\n        }\n      });\n    });\n  }\n  openNotifications() {\n    this.isShowMessages = !this.isShowMessages;\n  }\n}\nSystemNotificationComponent.ɵfac = function SystemNotificationComponent_Factory(t) {\n  return new (t || SystemNotificationComponent)(i0.ɵɵdirectiveInject(i1.GeneralService), i0.ɵɵdirectiveInject(i2.GoogleGeocodeService), i0.ɵɵdirectiveInject(i3.SharedNotificationService), i0.ɵɵdirectiveInject(i4.Router));\n};\nSystemNotificationComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SystemNotificationComponent,\n  selectors: [[\"jhi-system-notification\"]],\n  decls: 2,\n  vars: 1,\n  consts: [[4, \"jhiHasAnyAuthority\"], [1, \"system-notification\", 3, \"click\"], [1, \"totalMessage\"], [\"class\", \"chat-notification-system\", 3, \"hidden\", 4, \"ngIf\"], [1, \"chat-notification-system\", 3, \"hidden\"], [\"class\", \"alert alert-danger\", \"role\", \"alert\", 4, \"ngIf\"], [\"class\", \"alert alert-primary\", \"role\", \"alert\", 4, \"ngIf\"], [\"class\", \"alert alert-secondary\", \"role\", \"alert\", 4, \"ngIf\"], [\"class\", \"alert alert-info\", \"role\", \"alert\", 4, \"ngIf\"], [\"role\", \"alert\", 1, \"alert\", \"alert-danger\"], [\"jhiTranslate\", \"system-notification.events-in-seven-days\"], [1, \"circle\"], [4, \"ngFor\", \"ngForOf\"], [3, \"href\"], [\"role\", \"alert\", 1, \"alert\", \"alert-primary\"], [\"jhiTranslate\", \"system-notification.events-in-seven-days-with-distance\"], [1, \"diamond\"], [\"role\", \"alert\", 1, \"alert\", \"alert-secondary\"], [\"jhiTranslate\", \"system-notification.pay-tickets\"], [\"href\", \"/account/tickets\"], [\"role\", \"alert\", 1, \"alert\", \"alert-info\"], [\"jhiTranslate\", \"system-notification.event-product-orders\"], [\"jhiTranslate\", \"system-notification.service-orders\"], [\"jhiTranslate\", \"system-notification.organization-reservations\"], [4, \"ngIf\"]],\n  template: function SystemNotificationComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, SystemNotificationComponent_ng_container_0_Template, 9, 2, \"ng-container\", 0);\n      i0.ɵɵtext(1, \"\\n\\n\");\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"jhiHasAnyAuthority\", \"ROLE_USER\");\n    }\n  },\n  dependencies: [i5.NgForOf, i5.NgIf, i6.TranslateDirective, i7.HasAnyAuthorityDirective, i5.LowerCasePipe],\n  styles: [\"@charset \\\"UTF-8\\\";\\n.system-notification[_ngcontent-%COMP%] {\\n  background-image: url('info.png');\\n  width: 75px;\\n  height: 75px;\\n  position: absolute;\\n  left: 75px;\\n  top: 175px;\\n  z-index: 6;\\n}\\n\\n.totalMessage[_ngcontent-%COMP%] {\\n  position: absolute;\\n  left: 60px;\\n  top: 160px;\\n  background-color: red;\\n  text-align: center;\\n  width: 40px;\\n  font-weight: bold;\\n  color: white;\\n  border-radius: 20px;\\n  z-index: 6;\\n  font-size: large;\\n}\\n\\n.chat-notification-system[_ngcontent-%COMP%] {\\n  background-color: black;\\n  opacity: 0.9;\\n  min-width: 250px;\\n  min-height: 55px;\\n  position: absolute;\\n  left: 37.5px;\\n  top: 250px;\\n  z-index: 500;\\n  border-radius: 10px;\\n  border: white 1px solid;\\n  color: white;\\n  padding: 5px;\\n  padding-top: 20px;\\n  font-weight: bold;\\n}\\n\\n.user[_ngcontent-%COMP%] {\\n  width: 75%;\\n  float: left;\\n}\\n\\n.counterMessages[_ngcontent-%COMP%] {\\n  background-color: red;\\n  border-radius: 12.5px;\\n  margin-bottom: 5px;\\n  width: 25px;\\n  margin: 0 auto;\\n  float: left;\\n  text-align: center;\\n}\\n\\n.circle[_ngcontent-%COMP%] {\\n  counter-reset: list-counter;\\n  list-style: none;\\n}\\n\\n.circle[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\\n  margin: 1.5em 0;\\n}\\n\\n.circle[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before {\\n  content: counter(list-counter);\\n  counter-increment: list-counter;\\n  padding: 0.5em;\\n  margin-right: 1em;\\n  border-radius: 50%;\\n  border: 0.25em solid #ccc;\\n  background: firebrick;\\n  color: #fff;\\n  font-family: arial;\\n  font-weight: bold;\\n  text-align: center;\\n  display: inline-block;\\n}\\n\\n.diamond[_ngcontent-%COMP%] {\\n  counter-reset: list-counter;\\n  list-style: none;\\n}\\n\\n.diamond[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\\n  margin: 1.5em 0;\\n}\\n\\n.diamond[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before {\\n  content: counter(list-counter);\\n  counter-increment: list-counter;\\n  transform: rotate(45deg);\\n  text-transform: rotate(90deg);\\n  padding: 0.5em;\\n  margin-right: 1em;\\n  border: 0.25em solid #ccc;\\n  background: #000;\\n  color: #fff;\\n  font-family: arial;\\n  font-weight: bold;\\n  text-align: center;\\n  display: inline-block;\\n}\\n\\n.large[_ngcontent-%COMP%] {\\n  counter-reset: list-counter;\\n  list-style: none;\\n  float: left;\\n}\\n\\n.large[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\\n  margin: 1.5em 0;\\n  line-height: 1em;\\n}\\n\\n.large[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before {\\n  content: counter(list-counter);\\n  counter-increment: list-counter;\\n  font-family: arial;\\n  color: #666;\\n  font: bold;\\n  font-size: 2em;\\n  margin-right: 0.5em;\\n}\\n\\n.oval[_ngcontent-%COMP%] {\\n  counter-reset: list-counter;\\n  list-style: none;\\n  float: left;\\n}\\n\\n.oval[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\\n  margin: 1.5em 0;\\n}\\n\\n.oval[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before {\\n  content: counter(list-counter);\\n  counter-increment: list-counter;\\n  width: 0.5em;\\n  height: 1em;\\n  padding: 0.5em;\\n  margin-right: 1em;\\n  border-radius: 50%;\\n  border: 0.25em solid #ccc;\\n  background: #000;\\n  color: #fff;\\n  font-family: arial;\\n  font-weight: bold;\\n  text-align: center;\\n  display: inline-block;\\n}\\n\\nul.timeline[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] {\\n  position: relative;\\n  height: 3em;\\n  color: #888;\\n}\\n\\nul.timeline[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before {\\n  content: \\\"\\\";\\n  display: inline-block;\\n  height: 3em;\\n  width: 1px;\\n  background: rgba(170, 170, 170, 0.6666666667);\\n  margin: 0;\\n  padding: 0;\\n  position: absolute;\\n  left: -11px;\\n  top: -0.4em;\\n  z-index: -1;\\n}\\n\\nul.timeline[_ngcontent-%COMP%]:before {\\n  content: \\\"\\u25CF\\\";\\n  display: inline-block;\\n  margin: 0;\\n  padding: 0;\\n  position: relative;\\n  left: -1em;\\n  top: 0.1em;\\n  color: #aaa;\\n}\\n\\nul.timeline[_ngcontent-%COMP%]:after {\\n  content: \\\"\\u25CF\\\";\\n  display: inline-block;\\n  margin: 0;\\n  padding: 0;\\n  position: relative;\\n  left: -1em;\\n  top: -1em;\\n  color: #aaa;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9tYWluL3dlYmFwcC9hcHAvc3lzdGVtLW5vdGlmaWNhdGlvbi9zeXN0ZW0tbm90aWZpY2F0aW9uLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGdCQUFnQjtBQUFoQjtFQUNFLGlDQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLFVBQUE7RUFDQSxVQUFBO0VBQ0EsVUFBQTtBQUVGOztBQUNBO0VBQ0Usa0JBQUE7RUFDQSxVQUFBO0VBQ0EsVUFBQTtFQUNBLHFCQUFBO0VBQ0Esa0JBQUE7RUFDQSxXQUFBO0VBQ0EsaUJBQUE7RUFDQSxZQUFBO0VBQ0EsbUJBQUE7RUFDQSxVQUFBO0VBQ0EsZ0JBQUE7QUFFRjs7QUFDQTtFQUNFLHVCQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLFlBQUE7RUFDQSxVQUFBO0VBQ0EsWUFBQTtFQUNBLG1CQUFBO0VBQ0EsdUJBQUE7RUFDQSxZQUFBO0VBQ0EsWUFBQTtFQUNBLGlCQUFBO0VBQ0EsaUJBQUE7QUFFRjs7QUFDQTtFQUNFLFVBQUE7RUFDQSxXQUFBO0FBRUY7O0FBQ0E7RUFDRSxxQkFBQTtFQUNBLHFCQUFBO0VBQ0Esa0JBQUE7RUFDQSxXQUFBO0VBQ0EsY0FBQTtFQUNBLFdBQUE7RUFDQSxrQkFBQTtBQUVGOztBQUNBO0VBQ0UsMkJBQUE7RUFDQSxnQkFBQTtBQUVGOztBQUFBO0VBQ0UsZUFBQTtBQUdGOztBQURBO0VBQ0UsOEJBQUE7RUFDQSwrQkFBQTtFQUNBLGNBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EseUJBQUE7RUFDQSxxQkFBQTtFQUNBLFdBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxxQkFBQTtBQUlGOztBQURBO0VBQ0UsMkJBQUE7RUFDQSxnQkFBQTtBQUlGOztBQUZBO0VBQ0UsZUFBQTtBQUtGOztBQUhBO0VBQ0UsOEJBQUE7RUFDQSwrQkFBQTtFQUNBLHdCQUFBO0VBQ0EsNkJBQUE7RUFDQSxjQUFBO0VBQ0EsaUJBQUE7RUFDQSx5QkFBQTtFQUNBLGdCQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLHFCQUFBO0FBTUY7O0FBSEE7RUFDRSwyQkFBQTtFQUNBLGdCQUFBO0VBQ0EsV0FBQTtBQU1GOztBQUpBO0VBQ0UsZUFBQTtFQUNBLGdCQUFBO0FBT0Y7O0FBTEE7RUFDRSw4QkFBQTtFQUNBLCtCQUFBO0VBQ0Esa0JBQUE7RUFDQSxXQUFBO0VBQ0EsVUFBQTtFQUNBLGNBQUE7RUFDQSxtQkFBQTtBQVFGOztBQUxBO0VBQ0UsMkJBQUE7RUFDQSxnQkFBQTtFQUNBLFdBQUE7QUFRRjs7QUFOQTtFQUNFLGVBQUE7QUFTRjs7QUFQQTtFQUNFLDhCQUFBO0VBQ0EsK0JBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLGNBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EseUJBQUE7RUFDQSxnQkFBQTtFQUNBLFdBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxxQkFBQTtBQVVGOztBQVBBO0VBQ0Usa0JBQUE7RUFDQSxXQUFBO0VBQ0EsV0FBQTtBQVVGOztBQVBBO0VBQ0UsV0FBQTtFQUNBLHFCQUFBO0VBQ0EsV0FBQTtFQUNBLFVBQUE7RUFDQSw2Q0FBQTtFQUNBLFNBQUE7RUFDQSxVQUFBO0VBQ0Esa0JBQUE7RUFDQSxXQUFBO0VBQ0EsV0FBQTtFQUNBLFdBQUE7QUFVRjs7QUFQQTtFQUNFLFlBQUE7RUFDQSxxQkFBQTtFQUNBLFNBQUE7RUFDQSxVQUFBO0VBQ0Esa0JBQUE7RUFDQSxVQUFBO0VBQ0EsVUFBQTtFQUNBLFdBQUE7QUFVRjs7QUFQQTtFQUNFLFlBQUE7RUFDQSxxQkFBQTtFQUNBLFNBQUE7RUFDQSxVQUFBO0VBQ0Esa0JBQUE7RUFDQSxVQUFBO0VBQ0EsU0FBQTtFQUNBLFdBQUE7QUFVRiIsInNvdXJjZXNDb250ZW50IjpbIi5zeXN0ZW0tbm90aWZpY2F0aW9uIHtcbiAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcuLi8uLi9jb250ZW50L2ltYWdlcy9pbmZvLnBuZycpO1xuICB3aWR0aDogNzVweDtcbiAgaGVpZ2h0OiA3NXB4O1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGxlZnQ6IDc1cHg7XG4gIHRvcDogMTc1cHg7XG4gIHotaW5kZXg6IDY7XG59XG5cbi50b3RhbE1lc3NhZ2Uge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGxlZnQ6IDYwcHg7XG4gIHRvcDogMTYwcHg7XG4gIGJhY2tncm91bmQtY29sb3I6IHJlZDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICB3aWR0aDogNDBweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgYm9yZGVyLXJhZGl1czogMjBweDtcbiAgei1pbmRleDogNjtcbiAgZm9udC1zaXplOiBsYXJnZTtcbn1cblxuLmNoYXQtbm90aWZpY2F0aW9uLXN5c3RlbSB7XG4gIGJhY2tncm91bmQtY29sb3I6IGJsYWNrO1xuICBvcGFjaXR5OiAwLjk7XG4gIG1pbi13aWR0aDogMjUwcHg7XG4gIG1pbi1oZWlnaHQ6IDU1cHg7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgbGVmdDogMzcuNXB4O1xuICB0b3A6IDI1MHB4O1xuICB6LWluZGV4OiA1MDA7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gIGJvcmRlcjogd2hpdGUgMXB4IHNvbGlkO1xuICBjb2xvcjogd2hpdGU7XG4gIHBhZGRpbmc6IDVweDtcbiAgcGFkZGluZy10b3A6IDIwcHg7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuXG4udXNlciB7XG4gIHdpZHRoOiA3NSU7XG4gIGZsb2F0OiBsZWZ0O1xufVxuXG4uY291bnRlck1lc3NhZ2VzIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmVkO1xuICBib3JkZXItcmFkaXVzOiAxMi41cHg7XG4gIG1hcmdpbi1ib3R0b206IDVweDtcbiAgd2lkdGg6IDI1cHg7XG4gIG1hcmdpbjogMCBhdXRvO1xuICBmbG9hdDogbGVmdDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG4uY2lyY2xlIHtcbiAgY291bnRlci1yZXNldDogbGlzdC1jb3VudGVyO1xuICBsaXN0LXN0eWxlOiBub25lO1xufVxuLmNpcmNsZSBsaSB7XG4gIG1hcmdpbjogMS41ZW0gMDtcbn1cbi5jaXJjbGUgbGk6YmVmb3JlIHtcbiAgY29udGVudDogY291bnRlcihsaXN0LWNvdW50ZXIpO1xuICBjb3VudGVyLWluY3JlbWVudDogbGlzdC1jb3VudGVyO1xuICBwYWRkaW5nOiAwLjVlbTtcbiAgbWFyZ2luLXJpZ2h0OiAxZW07XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgYm9yZGVyOiAwLjI1ZW0gc29saWQgI2NjYztcbiAgYmFja2dyb3VuZDogZmlyZWJyaWNrO1xuICBjb2xvcjogI2ZmZjtcbiAgZm9udC1mYW1pbHk6IGFyaWFsO1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG59XG5cbi5kaWFtb25kIHtcbiAgY291bnRlci1yZXNldDogbGlzdC1jb3VudGVyO1xuICBsaXN0LXN0eWxlOiBub25lO1xufVxuLmRpYW1vbmQgbGkge1xuICBtYXJnaW46IDEuNWVtIDA7XG59XG4uZGlhbW9uZCBsaTpiZWZvcmUge1xuICBjb250ZW50OiBjb3VudGVyKGxpc3QtY291bnRlcik7XG4gIGNvdW50ZXItaW5jcmVtZW50OiBsaXN0LWNvdW50ZXI7XG4gIHRyYW5zZm9ybTogcm90YXRlKDQ1ZGVnKTtcbiAgdGV4dC10cmFuc2Zvcm06IHJvdGF0ZSg5MGRlZyk7XG4gIHBhZGRpbmc6IDAuNWVtO1xuICBtYXJnaW4tcmlnaHQ6IDFlbTtcbiAgYm9yZGVyOiAwLjI1ZW0gc29saWQgI2NjYztcbiAgYmFja2dyb3VuZDogIzAwMDtcbiAgY29sb3I6ICNmZmY7XG4gIGZvbnQtZmFtaWx5OiBhcmlhbDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xufVxuXG4ubGFyZ2Uge1xuICBjb3VudGVyLXJlc2V0OiBsaXN0LWNvdW50ZXI7XG4gIGxpc3Qtc3R5bGU6IG5vbmU7XG4gIGZsb2F0OiBsZWZ0O1xufVxuLmxhcmdlIGxpIHtcbiAgbWFyZ2luOiAxLjVlbSAwO1xuICBsaW5lLWhlaWdodDogMWVtO1xufVxuLmxhcmdlIGxpOmJlZm9yZSB7XG4gIGNvbnRlbnQ6IGNvdW50ZXIobGlzdC1jb3VudGVyKTtcbiAgY291bnRlci1pbmNyZW1lbnQ6IGxpc3QtY291bnRlcjtcbiAgZm9udC1mYW1pbHk6IGFyaWFsO1xuICBjb2xvcjogIzY2NjtcbiAgZm9udDogYm9sZDtcbiAgZm9udC1zaXplOiAyZW07XG4gIG1hcmdpbi1yaWdodDogMC41ZW07XG59XG5cbi5vdmFsIHtcbiAgY291bnRlci1yZXNldDogbGlzdC1jb3VudGVyO1xuICBsaXN0LXN0eWxlOiBub25lO1xuICBmbG9hdDogbGVmdDtcbn1cbi5vdmFsIGxpIHtcbiAgbWFyZ2luOiAxLjVlbSAwO1xufVxuLm92YWwgbGk6YmVmb3JlIHtcbiAgY29udGVudDogY291bnRlcihsaXN0LWNvdW50ZXIpO1xuICBjb3VudGVyLWluY3JlbWVudDogbGlzdC1jb3VudGVyO1xuICB3aWR0aDogMC41ZW07XG4gIGhlaWdodDogMWVtO1xuICBwYWRkaW5nOiAwLjVlbTtcbiAgbWFyZ2luLXJpZ2h0OiAxZW07XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgYm9yZGVyOiAwLjI1ZW0gc29saWQgI2NjYztcbiAgYmFja2dyb3VuZDogIzAwMDtcbiAgY29sb3I6ICNmZmY7XG4gIGZvbnQtZmFtaWx5OiBhcmlhbDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xufVxuXG51bC50aW1lbGluZSBsaSB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgaGVpZ2h0OiAzZW07XG4gIGNvbG9yOiAjODg4O1xufVxuXG51bC50aW1lbGluZSBsaTpiZWZvcmUge1xuICBjb250ZW50OiAnJztcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBoZWlnaHQ6IDNlbTtcbiAgd2lkdGg6IDFweDtcbiAgYmFja2dyb3VuZDogI2FhYWE7XG4gIG1hcmdpbjogMDtcbiAgcGFkZGluZzogMDtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBsZWZ0OiAtMTFweDtcbiAgdG9wOiAtMC40ZW07XG4gIHotaW5kZXg6IC0xO1xufVxuXG51bC50aW1lbGluZTpiZWZvcmUge1xuICBjb250ZW50OiAnw6LCl8KPJztcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBtYXJnaW46IDA7XG4gIHBhZGRpbmc6IDA7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgbGVmdDogLTFlbTtcbiAgdG9wOiAwLjFlbTtcbiAgY29sb3I6ICNhYWE7XG59XG5cbnVsLnRpbWVsaW5lOmFmdGVyIHtcbiAgY29udGVudDogJ8OiwpfCjyc7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgbWFyZ2luOiAwO1xuICBwYWRkaW5nOiAwO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGxlZnQ6IC0xZW07XG4gIHRvcDogLTFlbTtcbiAgY29sb3I6ICNhYWE7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["NavigationStart","EventStatus","dayjs","Subject","i0","SystemNotificationComponent","constructor","generalService","googleGeocoderService","sharedNotificationService","router","subscriptionPR","events","subscribe","event","navigated","totalMessages","loadAlertMessages","loadAllEventsInDistance","loadTickets","loadEventProductOrders","loadServiceOrders","ngOnDestroy","changeEventsubscription","unsubscribe","subscription","ngOnInit","findWidthAuthorities","u","user","body","loadOrganizationReservations","getLoginEvent","tickets","getReservationsByUserAndNotBilled","id","r","forEach","element","definitelyConfirmed","status","DEFINITELY","push","refresh","next","eventsIn7days","findAllEventsByActiveTrueAndDateEndAfterAndUserId","e","warning","dateStart","subtract","startOf","isAfter","servicesNotSeen","serviceMapsNotSeen","esmos","getServicesFromUserAndActive","res","services","i","service","findByCreateYourEventServiceId","servicemaps","l","sm","getAllEventServiceMapsOrdersByServiceMapId","esmo","concat","length","elem","seen","serviceMap","createYourEventService","shopsNotSeen","findShopsByUserAndActiveTrue","s","shops","findAllEventProductOrdersByShopId","epos","eventProductOrders","el","sel","find","x","shop","undefined","z","findIndex","y","dist","eventsWithDistanceAndSevenDays","latUser","lngUser","posUser","queryParam","address","replace","getFromAddress","geocoder","geometry","location","lat","lng","google","maps","LatLng","now","findEventByIsPublicAndActive","res2","eventsBeforSevenDays","eve","t","isBefore","latEvent","lngEvent","posEvent","queryParamShop","resShop","geocoderShop","geometryShop","distance","spherical","computeDistanceBetween","maxDistance","findOrganizationReservationsByOrganizationWithUserId","or","reservations","ele","organizationsNotSeen","openNotifications","isShowMessages","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/home/ceo/mmmm/createyourevent/src/main/webapp/app/system-notification/system-notification.component.ts","/home/ceo/mmmm/createyourevent/src/main/webapp/app/system-notification/system-notification.component.html"],"sourcesContent":["import { IServiceMap } from './../entities/service-map/service-map.model';\nimport { IShop } from './../entities/shop/shop.model';\nimport { Component, OnInit, OnDestroy } from \"@angular/core\";\nimport { Router, NavigationEnd, NavigationStart } from \"@angular/router\";\nimport { EventStatus } from \"app/entities/enumerations/event-status.model\";\nimport { IEventProductOrder } from \"app/entities/event-product-order/event-product-order.model\";\nimport { IEvent } from \"app/entities/event/event.model\";\nimport { IReservation } from \"app/entities/reservation/reservation.model\";\nimport { IUser } from \"app/entities/user/user.model\";\nimport { GeneralService } from \"app/general.service\";\nimport { GoogleGeocodeService } from \"app/google-geocode.service\";\nimport * as dayjs from \"dayjs\";\nimport { Subject, Subscription } from \"rxjs\";\nimport { SharedNotificationService } from \"./SharedNotificationService.service\";\nimport { IEventServiceMapOrder } from 'app/entities/event-service-map-order/event-service-map-order.model';\nimport { ICreateYourEventService } from 'app/entities/create-your-event-service/create-your-event-service.model';\nimport { IOrganizationReservation } from 'app/entities/organization-reservation/organization-reservation.model';\n\n\n@Component({\n  selector: 'jhi-system-notification',\n  templateUrl: './system-notification.component.html',\n  styleUrls: ['./system-notification.component.scss']\n})\nexport class SystemNotificationComponent implements OnInit, OnDestroy {\n  user!: IUser;\n  isShowMessages = true;\n  events!: IEvent[];\n  eventsIn7days: IEvent[] = [];\n  messages!: {};\n  totalMessages = 0;\n  eventsWithDistanceAndSevenDays: IEvent[] = [];\n  refresh: Subject<any> = new Subject();\n  tickets: IReservation[] = [];\n  subscription!: Subscription;\n\n  subscriptionPR: Subscription;\n\n  changeEventsubscription!: Subscription;\n\n  eventProductOrders: IEventProductOrder[] = [];\n  shopsNotSeen: IShop[] = [];\n\n  servicesNotSeen: ICreateYourEventService[] = [];\n  serviceMapsNotSeen: IServiceMap[] = [];\n\n  organizationsNotSeen: IOrganizationReservation[] = [];\n\n\n  constructor(\n    private generalService: GeneralService,\n    private googleGeocoderService: GoogleGeocodeService,\n    private sharedNotificationService: SharedNotificationService,\n    private router: Router\n  ) {\n    this.subscriptionPR = router.events.subscribe((event) => {\n      if (event instanceof NavigationStart) {\n       if(!router.navigated) {\n        this.totalMessages = 0;\n        this.loadAlertMessages();\n        this.loadAllEventsInDistance(25);\n        this.loadTickets();\n        this.loadEventProductOrders();\n        this.loadServiceOrders();\n       }\n      }\n  });\n  }\n\n  ngOnDestroy(): void {\n    this.changeEventsubscription.unsubscribe();\n    this.subscription.unsubscribe();\n    this.subscriptionPR.unsubscribe();\n  }\n\n  ngOnInit(): void {\n    this.generalService.findWidthAuthorities().subscribe(u => {\n      this.user = u.body!;\n\n      if(this.user !== null) {\n        this.totalMessages = 0;\n        this.loadAlertMessages();\n        this.loadAllEventsInDistance(25);\n        this.loadTickets();\n        this.loadEventProductOrders();\n        this.loadServiceOrders();\n        this.loadOrganizationReservations();\n\n        this.changeEventsubscription = this.sharedNotificationService.getLoginEvent().subscribe(() => {\n          this.totalMessages = 0;\n          this.loadAlertMessages();\n          this.loadAllEventsInDistance(25);\n          this.loadTickets();\n          this.loadEventProductOrders();\n          this.loadServiceOrders();\n          this.loadOrganizationReservations();\n        });\n      }\n    });\n  }\n\n  loadTickets(): void {\n    this.tickets = [];\n    this.generalService.getReservationsByUserAndNotBilled(this.user.id!).subscribe(r => {\n      r.body!.forEach(element => {\n        if (element!.event!.definitelyConfirmed && element!.event!.status === EventStatus.DEFINITELY) {\n          this.tickets.push(element);\n          this.totalMessages++;\n          this.refresh.next();\n        }\n      });\n    });\n  }\n\n  loadAlertMessages(): void {\n    this.eventsIn7days = [];\n    this.generalService.findAllEventsByActiveTrueAndDateEndAfterAndUserId(dayjs(), this.user.id).subscribe(e => {\n      this.events = e.body!;\n      this.events.forEach(element => {\n        const warning = dayjs(element.dateStart)\n          .subtract(21, 'days')\n          .startOf('day');\n\n        if (dayjs(element.dateStart).isAfter(warning) && !element.definitelyConfirmed) {\n          this.eventsIn7days.push(element);\n          this.totalMessages++;\n          this.refresh.next();\n        }\n      });\n    });\n  }\n\n  loadServiceOrders(): void {\n    this.servicesNotSeen = [];\n    this.serviceMapsNotSeen = [];\n    let esmos: IEventServiceMapOrder[] = [];\n    this.generalService.getServicesFromUserAndActive(this.user.id).subscribe(res => {\n      const services = res.body;\n      let i = 0;\n      services.forEach(service => {\n        i++;\n        this.generalService.findByCreateYourEventServiceId(service.id).subscribe(res => {{\n          const servicemaps = res.body;\n          let l = 0;\n          servicemaps.forEach(sm => {\n            l++;\n            this.generalService.getAllEventServiceMapsOrdersByServiceMapId(sm.id).subscribe(esmo => {\n              esmos = esmos.concat(esmo.body);\n              if(i === services.length && l === servicemaps.length) {\n                esmos.forEach(elem => {\n                  if(!elem.seen) {\n                    elem.serviceMap.createYourEventService = service;\n                    this.serviceMapsNotSeen.push(elem.serviceMap);\n                    this.totalMessages++;\n                    this.refresh.next();\n                  }\n                });\n              }\n            });\n          })\n          }\n        });\n      })\n    });\n  }\n\n  loadEventProductOrders(): void {\n    this.shopsNotSeen = [];\n    this.generalService.findShopsByUserAndActiveTrue().subscribe(s => {\n      const shops = s.body;\n      let i = 0;\n      shops.forEach(element => {\n        i++;\n        this.generalService.findAllEventProductOrdersByShopId(element.id).subscribe(epos => {\n          const eventProductOrders = epos.body;\n          eventProductOrders.forEach(res => {\n            if(!res.seen) {\n              this.eventProductOrders.push(res);\n            }\n          });\n          if(i === shops.length) {\n            this.eventProductOrders.forEach(el => {\n              const sel = shops.find(x => el.shop.id === x.id);\n              if(sel !== undefined) {\n                const z = this.shopsNotSeen.findIndex(y => y.id === sel.id);\n                if(z === -1) {\n                  this.shopsNotSeen.push(sel);\n                  this.totalMessages++;\n                  this.refresh.next();\n                }\n              }\n            });\n          }\n        });\n      });\n    });\n  }\n\n  loadAllEventsInDistance(dist: number): void {\n    this.eventsWithDistanceAndSevenDays = [];\n    this.generalService.findWidthAuthorities().subscribe(u => {\n      const user = u.body;\n      let latUser = 0;\n      let lngUser = 0;\n      let posUser: google.maps.LatLng;\n      const queryParam = this.user.address!.replace(' ', '+');\n      this.googleGeocoderService.getFromAddress(queryParam).subscribe((res: any) => {\n        const geocoder = res.body!['results'];\n        const geometry = geocoder[0].geometry;\n        latUser = geometry.location.lat;\n        lngUser = geometry.location.lng;\n        posUser = new google.maps.LatLng(latUser, lngUser);\n\n\n        const now = dayjs();\n        this.generalService.findEventByIsPublicAndActive().subscribe(res2 => {\n          const events:IEvent[] = res2.body!;\n          const eventsBeforSevenDays: IEvent[] = [];\n          events.forEach(eve => {\n            if(eve.definitelyConfirmed === true && eve.status === EventStatus.DEFINITELY) {\n              //eventsBeforSevenDays.push(eve);\n              const warning = dayjs(eve.dateStart)\n              .subtract(21, 'days')\n              .startOf('day');\n              const t = warning.isBefore(dayjs());\n              if(t) {\n                eventsBeforSevenDays.push(eve);\n              }\n            }\n          });\n          eventsBeforSevenDays.forEach(element => {\n            let latEvent = 0;\n            let lngEvent = 0;\n            let posEvent: google.maps.LatLng;\n            const queryParamShop = element.location!.address!.address!.replace(' ', '+');\n            this.googleGeocoderService.getFromAddress(queryParamShop).subscribe((resShop: any) => {\n              const geocoderShop = resShop.body!['results'];\n              const geometryShop = geocoderShop[0].geometry;\n              latEvent = geometryShop.location.lat;\n              lngEvent = geometryShop.location.lng;\n              posEvent = new google.maps.LatLng(latEvent, lngEvent);\n\n              const distance = google.maps.geometry.spherical.computeDistanceBetween(posUser, posEvent);\n              const maxDistance = dist * 1000;\n              if (maxDistance > distance) {\n                this.eventsWithDistanceAndSevenDays.push(element);\n                this.totalMessages++;\n                this.refresh.next();\n              }\n            });\n          });\n        });\n      });\n    });\n  }\n\n  loadOrganizationReservations() {\n    this.generalService.findOrganizationReservationsByOrganizationWithUserId(this.user.id).subscribe(or => {\n      const reservations = or.body;\n      reservations.forEach(ele => {\n        if(ele.seen === null || !ele.seen ) {\n          this.organizationsNotSeen.push(ele);\n        }\n      });\n    });\n  }\n\n  openNotifications(): void {\n    this.isShowMessages = !this.isShowMessages;\n  }\n}\n","<ng-container *jhiHasAnyAuthority=\"'ROLE_USER'\">\n    <div class=\"system-notification\" (click)=\"openNotifications()\"></div>\n\n        <div class=\"totalMessage\">{{ totalMessages }}</div>\n\n    <div class=\"chat-notification-system\" *ngIf=\"eventsIn7days.length > 0 || eventsWithDistanceAndSevenDays.length > 0 || tickets.length > 0\" [hidden]=\"isShowMessages\">\n        <div class=\"alert alert-danger\" role=\"alert\" *ngIf=\"eventsIn7days.length > 0\">\n            <div jhiTranslate=\"system-notification.events-in-seven-days\">You still have to definitely confirm the following events, which are organized by you.</div>\n            <ul class=\"circle\">\n                <li *ngFor=\"let event of eventsIn7days\"><a href=\"/events/{{ event.id }}/dashboard-event/workflow\">{{ event.name }}</a></li>\n            </ul>\n        </div>\n        <div class=\"alert alert-primary\" role=\"alert\" *ngIf=\"eventsWithDistanceAndSevenDays.length > 0\">\n            <div jhiTranslate=\"system-notification.events-in-seven-days-with-distance\">Events this week with distance of 20km.</div>\n            <ul class=\"diamond\">\n                <li *ngFor=\"let event of eventsWithDistanceAndSevenDays\"><a href=\"/events/{{ event.id }}/view\">{{ event.name }}</a></li>\n            </ul>\n        </div>\n        <div class=\"alert alert-secondary\" role=\"alert\" *ngIf=\"tickets.length > 0\">\n            <div jhiTranslate=\"system-notification.pay-tickets\">You must pay this tickets:</div>\n            <ul class=\"circle\">\n                <li *ngFor=\"let ticket of tickets\"><a href=\"/account/tickets\">{{ ticket.event!.name }}</a></li>\n            </ul>\n        </div>\n        <div class=\"alert alert-info\" role=\"alert\" *ngIf=\"shopsNotSeen.length > 0\">\n          <div jhiTranslate=\"system-notification.event-product-orders\">You have product orders that you have not yet seen.</div>\n          <ul class=\"diamond\">\n              <li *ngFor=\"let shop of shopsNotSeen\"><a href=\"/supplier/orders/{{ shop.id }}\">{{ shop.name }}</a></li>\n          </ul>\n        </div>\n        <div class=\"alert alert-danger\" role=\"alert\" *ngIf=\"serviceMapsNotSeen.length > 0\">\n          <div jhiTranslate=\"system-notification.service-orders\">You haven't seen any service bookings.</div>\n          <ul class=\"circle\">\n              <li *ngFor=\"let ser of serviceMapsNotSeen\"><a href=\"/service/{{ ser.createYourEventService.id }}/customer-booking/{{ ser.id }}\">{{ ser.title }}</a></li>\n          </ul>\n        </div>\n        <div class=\"alert alert-info\" role=\"alert\" *ngIf=\"organizationsNotSeen.length > 0\">\n            <div jhiTranslate=\"system-notification.organization-reservations\">You haven't seen any organization reservations</div>\n            <ul class=\"diamond\">\n              <ng-container *ngFor=\"let org of organizationsNotSeen\">\n                <ng-container *ngIf=\"org.organization.organizationType === 'RESTAURANT'\">\n                  <li><a href=\"/organization/{{ org.organization.restaurant.id }}/rent-{{ org.organization.organizationType | lowercase }}\">{{ org.organization.name }}</a></li>\n                </ng-container>\n                <ng-container *ngIf=\"org.organization.organizationType === 'CLUB'\">\n                  <li><a href=\"/organization/{{ org.organization.club.id }}/rent-{{ org.organization.organizationType | lowercase }}\">{{ org.organization.name }}</a></li>\n                </ng-container>\n                <ng-container *ngIf=\"org.organization.organizationType === 'HOTEL'\">\n                  <li><a href=\"/organization/{{ org.organization.hotel.id }}/rent-{{ org.organization.organizationType | lowercase }}\">{{ org.organization.name }}</a></li>\n                </ng-container>\n                <ng-container *ngIf=\"org.organization.organizationType === 'BUILDING'\">\n                  <li><a href=\"/organization/{{ org.organization.building.id }}/rent-{{ org.organization.organizationType | lowercase }}\">{{ org.organization.name }}</a></li>\n                </ng-container>\n              </ng-container>\n            </ul>\n          </div>\n    </div>\n</ng-container>\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}