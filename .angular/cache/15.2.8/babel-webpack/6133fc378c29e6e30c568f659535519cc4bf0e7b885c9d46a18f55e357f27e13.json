{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"app/entities/event/service/event.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"app/general.service\";\nimport * as i4 from \"app/entities/event-comment/service/event-comment.service\";\nimport * as i5 from \"@fortawesome/angular-fontawesome\";\nimport * as i6 from \"../../../../shared/language/translate.directive\";\nimport * as i7 from \"../../../comment-box/admin/admin-comment-box.component\";\nimport * as i8 from \"../../admin-comments/admin-comments-event.component\";\nexport let CommentsComponent = /*#__PURE__*/(() => {\n  class CommentsComponent {\n    constructor(eventService, route, generalService, eventCommentService) {\n      this.eventService = eventService;\n      this.route = route;\n      this.generalService = generalService;\n      this.eventCommentService = eventCommentService;\n      this.likes = [];\n      this.dislikes = [];\n      this.comments = [];\n    }\n    ngOnInit() {\n      this.route.parent.params.subscribe(params => {\n        this.eventId = params['eventId'];\n        this.eventService.find(this.eventId).subscribe(ev => {\n          this.jhiEvent = ev.body;\n          this.generalService.findWidthAuthorities().subscribe(user => {\n            this.user = user.body;\n            this.generalService.findEventCommentByEventId(this.jhiEvent.id).subscribe(res => {\n              this.comments = res.body;\n            });\n          });\n        });\n      });\n    }\n    onDelete(id) {\n      this.eventCommentService.delete(id).subscribe(() => {\n        this.comments.forEach(ele => {\n          const z = ele.eventComments.findIndex(e => e.id === id);\n          if (z > -1) {\n            ele.eventComments.splice(z, 1);\n          }\n        });\n      });\n    }\n    previousState() {\n      window.history.back();\n    }\n  }\n  CommentsComponent.ɵfac = function CommentsComponent_Factory(t) {\n    return new (t || CommentsComponent)(i0.ɵɵdirectiveInject(i1.EventService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.GeneralService), i0.ɵɵdirectiveInject(i4.EventCommentService));\n  };\n  CommentsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CommentsComponent,\n    selectors: [[\"jhi-comments\"]],\n    decls: 36,\n    vars: 2,\n    consts: [[\"role\", \"alert\", 1, \"alert\", \"alert-info\"], [\"jhiTranslate\", \"dashboard-event.comments-feedback-title\"], [\"jhiTranslate\", \"dashboard-event.comments-feedback-info\"], [3, \"comments\", \"deleted\"], [3, \"jhiEvent\"], [1, \"row\"], [1, \"col-md-12\"], [1, \"btn-cancel\"], [\"type\", \"button\", \"id\", \"cancel-save\", 1, \"btn\", \"btn-secondary\", \"btn-cancel\", 3, \"click\"], [\"icon\", \"ban\"], [\"jhiTranslate\", \"entity.action.cancel\"]],\n    template: function CommentsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtext(1, \"\\n    \");\n        i0.ɵɵelementStart(2, \"h2\", 1);\n        i0.ɵɵtext(3, \"Comments and feedback to this event\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(4, \"\\n    \");\n        i0.ɵɵelementStart(5, \"p\", 2);\n        i0.ɵɵtext(6, \"\\n        Below you can see all likes / dislikes that have been given for this product of each individual user. You will also find the email address of the user who has liked there. You can also contact them if you have any questions about the decision.\\n    \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(7, \"\\n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(8, \"\\n\");\n        i0.ɵɵelement(9, \"hr\");\n        i0.ɵɵtext(10, \"\\n  \");\n        i0.ɵɵelementStart(11, \"jhi-admin-comment-box\", 3);\n        i0.ɵɵlistener(\"deleted\", function CommentsComponent_Template_jhi_admin_comment_box_deleted_11_listener($event) {\n          return ctx.onDelete($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(12, \"\\n  \");\n        i0.ɵɵelement(13, \"hr\");\n        i0.ɵɵtext(14, \"\\n  \");\n        i0.ɵɵelement(15, \"jhi-admin-comments-event\", 4);\n        i0.ɵɵtext(16, \"\\n\\n  \");\n        i0.ɵɵelementStart(17, \"div\", 5);\n        i0.ɵɵtext(18, \"\\n    \");\n        i0.ɵɵelementStart(19, \"div\", 6);\n        i0.ɵɵtext(20, \"\\n        \");\n        i0.ɵɵelement(21, \"hr\");\n        i0.ɵɵtext(22, \"\\n        \");\n        i0.ɵɵelementStart(23, \"div\", 7);\n        i0.ɵɵtext(24, \"\\n            \");\n        i0.ɵɵelementStart(25, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function CommentsComponent_Template_button_click_25_listener() {\n          return ctx.previousState();\n        });\n        i0.ɵɵtext(26, \"\\n              \");\n        i0.ɵɵelement(27, \"fa-icon\", 9);\n        i0.ɵɵtext(28, \"\\u00A0\");\n        i0.ɵɵelementStart(29, \"span\", 10);\n        i0.ɵɵtext(30, \"Cancel\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(31, \"\\n          \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(32, \"\\n        \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(33, \"\\n    \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(34, \"\\n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(35, \"\\n\");\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"comments\", ctx.comments);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"jhiEvent\", ctx.jhiEvent);\n      }\n    },\n    dependencies: [i5.FaIconComponent, i6.TranslateDirective, i7.AdminCommentBoxComponent, i8.AdminCommentsEventComponent]\n  });\n  return CommentsComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}