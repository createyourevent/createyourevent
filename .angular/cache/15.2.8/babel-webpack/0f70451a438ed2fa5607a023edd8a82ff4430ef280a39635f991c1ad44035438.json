{"ast":null,"code":"import { OrganizationType } from 'app/entities/enumerations/organization-type.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"app/general.service\";\nimport * as i2 from \"app/organisator/organisator.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"app/google-geocode.service\";\nimport * as i5 from \"app/entities/location/service/location.service\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/forms\";\nimport * as i8 from \"../../shared/language/translate.directive\";\nimport * as i9 from \"primeng/dataview\";\nimport * as i10 from \"primeng/api\";\nimport * as i11 from \"primeng/inputtext\";\nimport * as i12 from \"primeng/knob\";\nimport * as i13 from \"ngx-select-dropdown\";\nfunction OrganizationDataViewComponent_ng_template_6_ng_container_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"\\n            \");\n    i0.ɵɵelementStart(2, \"div\", 8);\n    i0.ɵɵtext(3, \"\\n              \");\n    i0.ɵɵelementStart(4, \"div\", 17);\n    i0.ɵɵtext(5, \"\\n                \");\n    i0.ɵɵelementStart(6, \"h5\");\n    i0.ɵɵelement(7, \"span\", 18);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \"\\n                \");\n    i0.ɵɵelementStart(10, \"p-knob\", 19);\n    i0.ɵɵlistener(\"ngModelChange\", function OrganizationDataViewComponent_ng_template_6_ng_container_19_Template_p_knob_ngModelChange_10_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r6.distance = $event);\n    })(\"onChange\", function OrganizationDataViewComponent_ng_template_6_ng_container_19_Template_p_knob_onChange_10_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.changeSliderRadius($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n              \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\n              \");\n    i0.ɵɵelementStart(13, \"div\", 20);\n    i0.ɵɵtext(14, \"\\n                \");\n    i0.ɵɵelementStart(15, \"div\", 21);\n    i0.ɵɵtext(16, \"\\n                  \");\n    i0.ɵɵelementStart(17, \"span\", 22);\n    i0.ɵɵtext(18, \"\\n                    Use the switch to select the maximum range in which you want to search for organizations. If the distance is set to 0,\\n                    all search results are displayed.\\n                  \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(19, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20, \"\\n              \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21, \"\\n            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(22, \"\\n          \");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r5.distance, \" Km\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r5.distance);\n  }\n}\nfunction OrganizationDataViewComponent_ng_template_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n    \");\n    i0.ɵɵelementStart(1, \"div\", 7);\n    i0.ɵɵtext(2, \"\\n      \");\n    i0.ɵɵelementStart(3, \"div\", 8);\n    i0.ɵɵtext(4, \"\\n        \");\n    i0.ɵɵelementStart(5, \"div\", 9);\n    i0.ɵɵtext(6, \"\\n          \");\n    i0.ɵɵelementStart(7, \"span\", 10);\n    i0.ɵɵtext(8, \"\\n            \");\n    i0.ɵɵelement(9, \"i\", 11);\n    i0.ɵɵtext(10, \"\\n            \");\n    i0.ɵɵelementStart(11, \"input\", 12);\n    i0.ɵɵlistener(\"input\", function OrganizationDataViewComponent_ng_template_6_Template_input_input_11_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      i0.ɵɵnextContext();\n      const _r0 = i0.ɵɵreference(4);\n      return i0.ɵɵresetView(_r0.filter($event.target.value));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\n          \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13, \"\\n          \");\n    i0.ɵɵelementStart(14, \"ngx-select-dropdown\", 13);\n    i0.ɵɵlistener(\"change\", function OrganizationDataViewComponent_ng_template_6_Template_ngx_select_dropdown_change_14_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.changeTypeFilter($event));\n    })(\"ngModelChange\", function OrganizationDataViewComponent_ng_template_6_Template_ngx_select_dropdown_ngModelChange_14_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.selectedOrganizationType = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(15, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16, \"\\n        \");\n    i0.ɵɵelementStart(17, \"div\", 14);\n    i0.ɵɵtext(18, \"\\n          \");\n    i0.ɵɵtemplate(19, OrganizationDataViewComponent_ng_template_6_ng_container_19_Template, 23, 2, \"ng-container\", 15);\n    i0.ɵɵtext(20, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(21, \"\\n        \");\n    i0.ɵɵelementStart(22, \"div\", 16);\n    i0.ɵɵtext(23, \"\\n          \");\n    i0.ɵɵelement(24, \"p-dataViewLayoutOptions\");\n    i0.ɵɵtext(25, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(26, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(27, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(28, \"\\n  \");\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(14);\n    i0.ɵɵproperty(\"config\", ctx_r1.config)(\"options\", ctx_r1.organizationTypeValues)(\"ngModel\", ctx_r1.selectedOrganizationType)(\"multiple\", false);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.user);\n  }\n}\nfunction OrganizationDataViewComponent_ng_template_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n    \");\n    i0.ɵɵelementStart(1, \"div\", 23);\n    i0.ɵɵtext(2, \"\\n      \");\n    i0.ɵɵelementStart(3, \"div\", 17);\n    i0.ɵɵtext(4, \"\\n        \");\n    i0.ɵɵelement(5, \"img\", 24);\n    i0.ɵɵtext(6, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n      \");\n    i0.ɵɵelementStart(8, \"div\", 17);\n    i0.ɵɵtext(9, \"\\n        \");\n    i0.ɵɵelementStart(10, \"h3\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\n        \");\n    i0.ɵɵelementStart(13, \"h5\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(15, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(16, \"\\n      \");\n    i0.ɵɵelementStart(17, \"div\", 17);\n    i0.ɵɵtext(18, \"\\n        \");\n    i0.ɵɵelementStart(19, \"div\", 25);\n    i0.ɵɵtext(20, \"\\n          \");\n    i0.ɵɵelementStart(21, \"p\");\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(23, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(24, \"\\n        \");\n    i0.ɵɵelementStart(25, \"p\")(26, \"span\", 26);\n    i0.ɵɵtext(27, \"Phone:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(29, \"\\n        \");\n    i0.ɵɵelementStart(30, \"p\")(31, \"span\", 27);\n    i0.ɵɵtext(32, \"Webaddress:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(33);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(34, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(35, \"\\n      \");\n    i0.ɵɵelementStart(36, \"div\", 17);\n    i0.ɵɵtext(37, \"\\n        \");\n    i0.ɵɵelementStart(38, \"a\", 28);\n    i0.ɵɵlistener(\"click\", function OrganizationDataViewComponent_ng_template_8_Template_a_click_38_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r15);\n      const organization_r13 = restoredCtx.$implicit;\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.goToOrganization(organization_r13));\n    });\n    i0.ɵɵtext(39, \"Go to organization\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(40, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(41, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(42, \"\\n  \");\n  }\n  if (rf & 2) {\n    const organization_r13 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵpropertyInterpolate(\"alt\", organization_r13.name);\n    i0.ɵɵproperty(\"src\", \"data:\" + organization_r13.logoContentType + \";base64,\" + organization_r13.logo, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(organization_r13.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(organization_r13.motto);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\"\\n            \", ctx_r2.formatAddress(organization_r13), \"\\n          \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", organization_r13.phone, \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", organization_r13.webAddress, \"\");\n  }\n}\nfunction OrganizationDataViewComponent_ng_template_10_p_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"\\n          \");\n    i0.ɵɵelementStart(2, \"span\", 38);\n    i0.ɵɵtext(3, \"Price:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"currency\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const organization_r16 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind1(5, 2, organization_r16.price), \" /\\n          \", organization_r16.rentType, \"\\n        \");\n  }\n}\nconst _c0 = function (a0, a1) {\n  return {\n    \"true-icon pi-check-circle\": a0,\n    \"false-icon pi-times-circle\": a1\n  };\n};\nfunction OrganizationDataViewComponent_ng_template_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n    \");\n    i0.ɵɵelementStart(1, \"div\", 29);\n    i0.ɵɵtext(2, \"\\n      \");\n    i0.ɵɵelementStart(3, \"div\", 30);\n    i0.ɵɵtext(4, \"\\n        \");\n    i0.ɵɵelementStart(5, \"h3\", 31);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n        \");\n    i0.ɵɵelementStart(8, \"h5\", 32);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n        \");\n    i0.ɵɵelementStart(11, \"div\", 32);\n    i0.ɵɵtext(12, \"\\n          \");\n    i0.ɵɵelement(13, \"img\", 33);\n    i0.ɵɵtext(14, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(15, \"\\n        \");\n    i0.ɵɵelementStart(16, \"h5\", 34);\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(18, \"\\n        \");\n    i0.ɵɵelement(19, \"hr\");\n    i0.ɵɵtext(20, \"\\n        \");\n    i0.ɵɵelementStart(21, \"p\")(22, \"span\", 35);\n    i0.ɵɵtext(23, \"Place:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(25, \"\\n        \");\n    i0.ɵɵelementStart(26, \"p\");\n    i0.ɵɵtext(27, \"\\n          \");\n    i0.ɵɵelementStart(28, \"span\", 36);\n    i0.ɵɵtext(29, \"Rentable:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(30, \"\\n          \");\n    i0.ɵɵelement(31, \"i\", 37);\n    i0.ɵɵtext(32, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(33, \"\\n        \");\n    i0.ɵɵtemplate(34, OrganizationDataViewComponent_ng_template_10_p_34_Template, 6, 4, \"p\", 15);\n    i0.ɵɵtext(35, \"\\n        \");\n    i0.ɵɵelementStart(36, \"div\", 25);\n    i0.ɵɵtext(37, \"\\n          \");\n    i0.ɵɵelementStart(38, \"p\");\n    i0.ɵɵtext(39);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(40, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(41, \"\\n        \");\n    i0.ɵɵelementStart(42, \"p\")(43, \"span\", 26);\n    i0.ɵɵtext(44, \"Phone:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(45);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(46, \"\\n        \");\n    i0.ɵɵelementStart(47, \"p\")(48, \"span\", 27);\n    i0.ɵɵtext(49, \"Webaddress:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(50);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(51, \"\\n        \");\n    i0.ɵɵelementStart(52, \"a\", 28);\n    i0.ɵɵlistener(\"click\", function OrganizationDataViewComponent_ng_template_10_Template_a_click_52_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r20);\n      const organization_r16 = restoredCtx.$implicit;\n      const ctx_r19 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r19.goToOrganization(organization_r16));\n    });\n    i0.ɵɵtext(53, \"Go to organization\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(54, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(55, \"\\n    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(56, \"\\n  \");\n  }\n  if (rf & 2) {\n    const organization_r16 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(organization_r16.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(organization_r16.organizationType);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"alt\", organization_r16.name);\n    i0.ɵɵproperty(\"src\", \"data:\" + organization_r16.logoContentType + \";base64,\" + organization_r16.logo, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(organization_r16.motto);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate1(\" \", organization_r16.placeNumber, \"\");\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(11, _c0, organization_r16.rentable, !organization_r16.rentable));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", organization_r16.rentable);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"\\n            \", ctx_r3.formatAddress(organization_r16), \"\\n          \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", organization_r16.phone, \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\" \", organization_r16.webAddress, \"\");\n  }\n}\nfunction OrganizationDataViewComponent_ng_template_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n    \");\n    i0.ɵɵelement(1, \"p-dataViewLayoutOptions\");\n    i0.ɵɵtext(2, \"\\n  \");\n  }\n}\nexport class OrganizationDataViewComponent {\n  constructor(generalService, organisatorService, router, googleGeocoderService, locationService) {\n    this.generalService = generalService;\n    this.organisatorService = organisatorService;\n    this.router = router;\n    this.googleGeocoderService = googleGeocoderService;\n    this.locationService = locationService;\n    this.starEvents = [];\n    this.loading = false;\n    this.organizationsWithDistance = [];\n    this.distance = 0;\n    this.organizationTypeValues = Object.keys(OrganizationType);\n    this.config = {\n      displayKey: \"name\",\n      search: true,\n      height: 'auto',\n      placeholder: 'Select organisation type',\n      noResultsFound: 'No results found!',\n      searchPlaceholder: 'Search' // label thats displayed in search input,\n    };\n  }\n\n  ngOnInit() {\n    this.generalService.findWidthAuthorities().subscribe(u => {\n      this.user = u.body;\n      this.generalService.findOrganizationsByActiveAndActiveOwner().subscribe(res => {\n        this.organizations = res.body;\n        this.organizationsWithDistance = [...this.organizations];\n      });\n    });\n  }\n  formatAddress(org) {\n    const googleAddressArray = org.address.split(',');\n    const address = googleAddressArray[0];\n    const place = googleAddressArray[1];\n    const land = googleAddressArray[2];\n    const fa = (address + '\\n' + place + '\\n' + land).trim();\n    return fa;\n  }\n  changeTypeFilter(e) {\n    this.changeSliderRadius(this.distance).then(() => {\n      this.organizationsWithDistance = this.organizationsWithDistance.filter(s => s.organizationType === e.value);\n    });\n  }\n  onSortChange(event) {\n    let value = event.value;\n    if (value.indexOf('!') === 0) {\n      this.sortOrder = -1;\n      this.sortField = value.substring(1, value.length);\n    } else {\n      this.sortOrder = 1;\n      this.sortField = value;\n    }\n  }\n  getAverage(eventId) {\n    const se = this.starEvents.find(x => x.event.id === eventId);\n    return se.average;\n  }\n  goToOrganization(organization) {\n    if (organization.organizationType === OrganizationType.RESTAURANT) {\n      this.router.navigate(['/organization/' + organization.restaurant.id + '/restaurant']);\n    } else if (organization.organizationType === OrganizationType.HOTEL) {\n      this.router.navigate(['/organization/' + organization.hotel.id + '/hotel']);\n    } else if (organization.organizationType === OrganizationType.CLUB) {\n      this.router.navigate(['/organization/' + organization.club.id + '/club']);\n    }\n  }\n  changeSliderRadius(e) {\n    return new Promise((resolve, reject) => {\n      if (this.distance === 0) {\n        this.organizationsWithDistance = [...this.organizations];\n        resolve();\n        return;\n      }\n      this.organizationsWithDistance = [];\n      let latUser = 0;\n      let lngUser = 0;\n      let posUser;\n      const queryParam = this.user.address.replace(' ', '+');\n      this.googleGeocoderService.getFromAddress(queryParam).subscribe(res => {\n        const geocoder = res.body['results'];\n        const geometry = geocoder[0].geometry;\n        latUser = geometry.location.lat;\n        lngUser = geometry.location.lng;\n        posUser = new google.maps.LatLng(latUser, lngUser);\n        let i = 0;\n        this.organizations.forEach(element => {\n          i++;\n          this.googleGeocoderService.getFromAddress(queryParam).subscribe(res => {\n            const geocoder = res.body['results'];\n            const geometry = geocoder[0].geometry;\n            const lat = geometry.location.lat;\n            const lng = geometry.location.lng;\n            const posOrganization = new google.maps.LatLng(lat, lng);\n            const distance = google.maps.geometry.spherical.computeDistanceBetween(posUser, posOrganization);\n            const maxDistance = Number(this.distance) * 1000;\n            if (maxDistance > distance) {\n              if (this.selectedOrganizationType === undefined || this.selectedOrganizationType === null) {\n                this.organizationsWithDistance.push(element);\n              } else if (this.selectedOrganizationType === element.organizationType) {\n                this.organizationsWithDistance.push(element);\n              }\n            }\n          });\n          if (i === this.organizations.length) {\n            this.organizationsWithDistance = [...new Set(this.organizationsWithDistance)];\n            resolve();\n          }\n        });\n      });\n    });\n  }\n}\nOrganizationDataViewComponent.ɵfac = function OrganizationDataViewComponent_Factory(t) {\n  return new (t || OrganizationDataViewComponent)(i0.ɵɵdirectiveInject(i1.GeneralService), i0.ɵɵdirectiveInject(i2.OrganisatorService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.GoogleGeocodeService), i0.ɵɵdirectiveInject(i5.LocationService));\n};\nOrganizationDataViewComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: OrganizationDataViewComponent,\n  selectors: [[\"jhi-organization-data-view\"]],\n  decls: 15,\n  vars: 6,\n  consts: [[\"id\", \"main-title\", \"jhiTranslate\", \"organization-data-view.title\", 1, \"main-title\"], [\"filterBy\", \"name\", \"layout\", \"grid\", 3, \"value\", \"paginator\", \"rows\", \"sortField\", \"sortOrder\", \"loading\"], [\"dv\", \"\"], [\"pTemplate\", \"header\"], [\"pTemplate\", \"listItem\"], [\"pTemplate\", \"gridItem\"], [\"pTemplate\", \"footer\"], [1, \"p-d-flex\", \"p-flex-column\", \"p-flex-md-row\", \"p-jc-md-between\"], [1, \"row\"], [1, \"col-md-4\"], [1, \"p-input-icon-left\", \"p-mb-2\", \"p-mb-md-0\"], [1, \"pi\", \"pi-search\"], [\"type\", \"search\", \"pInputText\", \"\", \"placeholder\", \"Search by name\", 3, \"input\"], [3, \"config\", \"options\", \"ngModel\", \"multiple\", \"change\", \"ngModelChange\"], [1, \"col-md-6\"], [4, \"ngIf\"], [1, \"col-md-2\"], [1, \"col-md-3\"], [\"jhiTranslate\", \"distance.distance\"], [1, \"slider\", 3, \"ngModel\", \"ngModelChange\", \"onChange\"], [1, \"col-md-9\"], [\"role\", \"alert\", 1, \"alert\", \"alert-info\"], [\"jhiTranslate\", \"data-view.distance-info\"], [1, \"row\", \"organization-list-row\"], [1, \"img\", \"img-center\", 2, \"max-width\", \"200px\", \"max-height\", \"200px\", 3, \"src\", \"alt\"], [1, \"address\"], [\"jhiTranslate\", \"partners.phone\", 1, \"bold\"], [\"jhiTranslate\", \"partners.webaddress\", 1, \"bold\"], [\"jhiTranslate\", \"organization-data-view.goto-organization\", 1, \"shiny-button\", 3, \"click\"], [1, \"p-col-12\", \"p-md-3\"], [1, \"card\", \"card-container\"], [1, \"title-org\"], [1, \"center\"], [1, \"img\", \"img-center\", 2, \"max-width\", \"250px\", \"max-height\", \"350px\", 3, \"src\", \"alt\"], [1, \"motto\", \"center\"], [\"jhiTranslate\", \"organization-data-view.placenumber\", 1, \"bold\"], [\"jhiTranslate\", \"organization-data-view.rentable\", 1, \"bold\"], [1, \"pi\", 3, \"ngClass\"], [\"jhiTranslate\", \"organization-data-view.price\", 1, \"bold\"]],\n  template: function OrganizationDataViewComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\", 0);\n      i0.ɵɵtext(1, \"Search organizations\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(2, \"\\n\\n\");\n      i0.ɵɵelementStart(3, \"p-dataView\", 1, 2);\n      i0.ɵɵtext(5, \"\\n  \");\n      i0.ɵɵtemplate(6, OrganizationDataViewComponent_ng_template_6_Template, 29, 5, \"ng-template\", 3);\n      i0.ɵɵtext(7, \"\\n\\n  \");\n      i0.ɵɵtemplate(8, OrganizationDataViewComponent_ng_template_8_Template, 43, 7, \"ng-template\", 4);\n      i0.ɵɵtext(9, \"\\n\\n  \");\n      i0.ɵɵtemplate(10, OrganizationDataViewComponent_ng_template_10_Template, 57, 14, \"ng-template\", 5);\n      i0.ɵɵtext(11, \"\\n\\n  \");\n      i0.ɵɵtemplate(12, OrganizationDataViewComponent_ng_template_12_Template, 3, 0, \"ng-template\", 6);\n      i0.ɵɵtext(13, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(14, \"\\n\");\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"value\", ctx.organizationsWithDistance)(\"paginator\", true)(\"rows\", 9)(\"sortField\", ctx.sortField)(\"sortOrder\", ctx.sortOrder)(\"loading\", ctx.loading);\n    }\n  },\n  dependencies: [i6.NgClass, i6.NgIf, i7.NgControlStatus, i7.NgModel, i8.TranslateDirective, i9.DataView, i10.PrimeTemplate, i9.DataViewLayoutOptions, i11.InputText, i12.Knob, i13.NgxSelectDropdownComponent, i6.CurrencyPipe],\n  styles: [\".address[_ngcontent-%COMP%] {\\n  white-space: pre-line;\\n}\\n\\n.card[_ngcontent-%COMP%] {\\n  \\n  background: rgb(252, 234, 187);   \\n  background: linear-gradient(to bottom, rgb(252, 234, 187) 0%, rgb(252, 205, 77) 50%, rgb(248, 181, 0) 51%, rgb(251, 223, 147) 100%); \\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr=\\\"#fceabb\\\", endColorstr=\\\"#fbdf93\\\",GradientType=0 ); \\n  box-shadow: 0px 10px 13px -7px #000000, 5px 5px 15px 5px rgba(0, 0, 0, 0);\\n  padding: 10px;\\n  width: 400px;\\n}\\n\\n.bold[_ngcontent-%COMP%] {\\n  font-weight: bold;\\n}\\n\\n.title-org[_ngcontent-%COMP%] {\\n  font-family: \\\"Bungee Inline\\\", cursive;\\n}\\n\\n.center[_ngcontent-%COMP%] {\\n  text-align: center;\\n}\\n\\n.organization-list-row[_ngcontent-%COMP%] {\\n  \\n  background: rgb(252, 234, 187);   \\n  background: linear-gradient(to bottom, rgb(252, 234, 187) 0%, rgb(252, 205, 77) 50%, rgb(248, 181, 0) 51%, rgb(251, 223, 147) 100%); \\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr=\\\"#fceabb\\\", endColorstr=\\\"#fbdf93\\\",GradientType=0 ); \\n  box-shadow: 0px 10px 13px -7px #000000, 5px 5px 15px 5px rgba(0, 0, 0, 0);\\n  padding: 10px;\\n  width: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9tYWluL3dlYmFwcC9hcHAvc2VhcmNoLWRhdGEtdmlld3Mvb3JnYW5pemF0aW9uLWRhdGEtdmlldy9vcmdhbml6YXRpb24tZGF0YS12aWV3LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UscUJBQUE7QUFDRjs7QUFFQTtFQUNFLG9KQUFBO0VBQ0EsOEJBQUEsRUFBQSxpQkFBQSxFQU9HLGFBQUEsRUFPQSw0QkFBQTtFQUNILG1JQUFBLEVBTUcscURBQUE7RUFDSCxtSEFBQSxFQUFBLFVBQUE7RUFFQSx5RUFBQTtFQUNBLGFBQUE7RUFDQSxZQUFBO0FBakJGOztBQW9CQTtFQUNFLGlCQUFBO0FBakJGOztBQW9CQTtFQUNFLHFDQUFBO0FBakJGOztBQW9CQTtFQUNFLGtCQUFBO0FBakJGOztBQW9CQTtFQUNFLG9KQUFBO0VBQ0EsOEJBQUEsRUFBQSxpQkFBQSxFQU9HLGFBQUEsRUFPQSw0QkFBQTtFQUNILG1JQUFBLEVBTUcscURBQUE7RUFDSCxtSEFBQSxFQUFBLFVBQUE7RUFFQSx5RUFBQTtFQUNBLGFBQUE7RUFDQSxXQUFBO0FBbkNGIiwic291cmNlc0NvbnRlbnQiOlsiLmFkZHJlc3Mge1xuICB3aGl0ZS1zcGFjZTogcHJlLWxpbmU7XG59XG5cbi5jYXJkIHtcbiAgLyogUGVybWFsaW5rIC0gdXNlIHRvIGVkaXQgYW5kIHNoYXJlIHRoaXMgZ3JhZGllbnQ6IGh0dHBzOi8vY29sb3J6aWxsYS5jb20vZ3JhZGllbnQtZWRpdG9yLyNmY2VhYmIrMCxmY2NkNGQrNTAsZjhiNTAwKzUxLGZiZGY5MysxMDA7T3JhbmdlKzNEKyUyMzUgKi9cbiAgYmFja2dyb3VuZDogcmdiKDI1MiwgMjM0LCAxODcpOyAvKiBPbGQgYnJvd3NlcnMgKi9cbiAgYmFja2dyb3VuZDogLW1vei1saW5lYXItZ3JhZGllbnQoXG4gICAgdG9wLFxuICAgIHJnYigyNTIsIDIzNCwgMTg3KSAwJSxcbiAgICByZ2IoMjUyLCAyMDUsIDc3KSA1MCUsXG4gICAgcmdiKDI0OCwgMTgxLCAwKSA1MSUsXG4gICAgcmdiKDI1MSwgMjIzLCAxNDcpIDEwMCVcbiAgKTsgLyogRkYzLjYtMTUgKi9cbiAgYmFja2dyb3VuZDogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQoXG4gICAgdG9wLFxuICAgIHJnYigyNTIsIDIzNCwgMTg3KSAwJSxcbiAgICByZ2IoMjUyLCAyMDUsIDc3KSA1MCUsXG4gICAgcmdiKDI0OCwgMTgxLCAwKSA1MSUsXG4gICAgcmdiKDI1MSwgMjIzLCAxNDcpIDEwMCVcbiAgKTsgLyogQ2hyb21lMTAtMjUsU2FmYXJpNS4xLTYgKi9cbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KFxuICAgIHRvIGJvdHRvbSxcbiAgICByZ2IoMjUyLCAyMzQsIDE4NykgMCUsXG4gICAgcmdiKDI1MiwgMjA1LCA3NykgNTAlLFxuICAgIHJnYigyNDgsIDE4MSwgMCkgNTElLFxuICAgIHJnYigyNTEsIDIyMywgMTQ3KSAxMDAlXG4gICk7IC8qIFczQywgSUUxMCssIEZGMTYrLCBDaHJvbWUyNissIE9wZXJhMTIrLCBTYWZhcmk3KyAqL1xuICBmaWx0ZXI6IHByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5ncmFkaWVudCggc3RhcnRDb2xvcnN0cj0nI2ZjZWFiYicsIGVuZENvbG9yc3RyPScjZmJkZjkzJyxHcmFkaWVudFR5cGU9MCApOyAvKiBJRTYtOSAqL1xuICAtd2Via2l0LWJveC1zaGFkb3c6IDBweCAxMHB4IDEzcHggLTdweCAjMDAwMDAwLCA1cHggNXB4IDE1cHggNXB4IHJnYmEoMCwgMCwgMCwgMCk7XG4gIGJveC1zaGFkb3c6IDBweCAxMHB4IDEzcHggLTdweCAjMDAwMDAwLCA1cHggNXB4IDE1cHggNXB4IHJnYmEoMCwgMCwgMCwgMCk7XG4gIHBhZGRpbmc6IDEwcHg7XG4gIHdpZHRoOiA0MDBweDtcbn1cblxuLmJvbGQge1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cblxuLnRpdGxlLW9yZyB7XG4gIGZvbnQtZmFtaWx5OiAnQnVuZ2VlIElubGluZScsIGN1cnNpdmU7XG59XG5cbi5jZW50ZXIge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi5vcmdhbml6YXRpb24tbGlzdC1yb3cge1xuICAvKiBQZXJtYWxpbmsgLSB1c2UgdG8gZWRpdCBhbmQgc2hhcmUgdGhpcyBncmFkaWVudDogaHR0cHM6Ly9jb2xvcnppbGxhLmNvbS9ncmFkaWVudC1lZGl0b3IvI2ZjZWFiYiswLGZjY2Q0ZCs1MCxmOGI1MDArNTEsZmJkZjkzKzEwMDtPcmFuZ2UrM0QrJTIzNSAqL1xuICBiYWNrZ3JvdW5kOiByZ2IoMjUyLCAyMzQsIDE4Nyk7IC8qIE9sZCBicm93c2VycyAqL1xuICBiYWNrZ3JvdW5kOiAtbW96LWxpbmVhci1ncmFkaWVudChcbiAgICB0b3AsXG4gICAgcmdiKDI1MiwgMjM0LCAxODcpIDAlLFxuICAgIHJnYigyNTIsIDIwNSwgNzcpIDUwJSxcbiAgICByZ2IoMjQ4LCAxODEsIDApIDUxJSxcbiAgICByZ2IoMjUxLCAyMjMsIDE0NykgMTAwJVxuICApOyAvKiBGRjMuNi0xNSAqL1xuICBiYWNrZ3JvdW5kOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudChcbiAgICB0b3AsXG4gICAgcmdiKDI1MiwgMjM0LCAxODcpIDAlLFxuICAgIHJnYigyNTIsIDIwNSwgNzcpIDUwJSxcbiAgICByZ2IoMjQ4LCAxODEsIDApIDUxJSxcbiAgICByZ2IoMjUxLCAyMjMsIDE0NykgMTAwJVxuICApOyAvKiBDaHJvbWUxMC0yNSxTYWZhcmk1LjEtNiAqL1xuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoXG4gICAgdG8gYm90dG9tLFxuICAgIHJnYigyNTIsIDIzNCwgMTg3KSAwJSxcbiAgICByZ2IoMjUyLCAyMDUsIDc3KSA1MCUsXG4gICAgcmdiKDI0OCwgMTgxLCAwKSA1MSUsXG4gICAgcmdiKDI1MSwgMjIzLCAxNDcpIDEwMCVcbiAgKTsgLyogVzNDLCBJRTEwKywgRkYxNissIENocm9tZTI2KywgT3BlcmExMissIFNhZmFyaTcrICovXG4gIGZpbHRlcjogcHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LmdyYWRpZW50KCBzdGFydENvbG9yc3RyPScjZmNlYWJiJywgZW5kQ29sb3JzdHI9JyNmYmRmOTMnLEdyYWRpZW50VHlwZT0wICk7IC8qIElFNi05ICovXG4gIC13ZWJraXQtYm94LXNoYWRvdzogMHB4IDEwcHggMTNweCAtN3B4ICMwMDAwMDAsIDVweCA1cHggMTVweCA1cHggcmdiYSgwLCAwLCAwLCAwKTtcbiAgYm94LXNoYWRvdzogMHB4IDEwcHggMTNweCAtN3B4ICMwMDAwMDAsIDVweCA1cHggMTVweCA1cHggcmdiYSgwLCAwLCAwLCAwKTtcbiAgcGFkZGluZzogMTBweDtcbiAgd2lkdGg6IDEwMCU7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["OrganizationType","i0","OrganizationDataViewComponent","constructor","generalService","organisatorService","router","googleGeocoderService","locationService","Object","keys","displayKey","search","height","placeholder","noResultsFound","searchPlaceholder","ngOnInit","findWidthAuthorities","subscribe","u","user","body","findOrganizationsByActiveAndActiveOwner","res","organizations","organizationsWithDistance","formatAddress","org","googleAddressArray","address","split","place","land","fa","trim","changeTypeFilter","e","changeSliderRadius","distance","then","filter","s","organizationType","value","onSortChange","event","indexOf","sortOrder","sortField","substring","length","getAverage","eventId","se","starEvents","find","x","id","average","goToOrganization","organization","RESTAURANT","navigate","restaurant","HOTEL","hotel","CLUB","club","Promise","resolve","reject","latUser","lngUser","posUser","queryParam","replace","getFromAddress","geocoder","geometry","location","lat","lng","google","maps","LatLng","i","forEach","element","posOrganization","spherical","computeDistanceBetween","maxDistance","Number","selectedOrganizationType","undefined","push","Set","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/home/ceo/mmmm/createyourevent/src/main/webapp/app/search-data-views/organization-data-view/organization-data-view.component.ts","/home/ceo/mmmm/createyourevent/src/main/webapp/app/search-data-views/organization-data-view/organization-data-view.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { OrganizationType } from 'app/entities/enumerations/organization-type.model';\nimport { LocationService } from 'app/entities/location/service/location.service';\nimport { IOrganization } from 'app/entities/organization/organization.model';\nimport { IUser } from 'app/entities/user/user.model';\nimport { GeneralService } from 'app/general.service';\nimport { GoogleGeocodeService } from 'app/google-geocode.service';\nimport { OrganisatorService } from 'app/organisator/organisator.service';\nimport dayjs from 'dayjs';\n\n@Component({\n  selector: 'jhi-organization-data-view',\n  templateUrl: './organization-data-view.component.html',\n  styleUrls: ['./organization-data-view.component.scss']\n})\nexport class OrganizationDataViewComponent implements OnInit {\n  organizations!: IOrganization[];\n  sortOrder!: number;\n  sortField!: string;\n  starEvents: any[] = [];\n  loading = false;\n  organizationsWithDistance: IOrganization[] = [];\n  user: IUser;\n  distance: number = 0;\n  selectedOrganizationType: OrganizationType;\n\n  organizationTypeValues = Object.keys(OrganizationType);\n\n  config = {\n    displayKey:\"name\", //if objects array passed which key to be displayed defaults to description\n    search:true, //true/false for the search functionlity defaults to false,\n    height: 'auto', //height of the list so that if there are more no of items it can show a scroll defaults to auto. With auto height scroll will never appear\n    placeholder:'Select organisation type', // text to be displayed when no item is selected defaults to Select,\n    noResultsFound: 'No results found!', // text to be displayed when no items are found while searching\n    searchPlaceholder:'Search', // label thats displayed in search input,\n  }\n\n\n\n  constructor(private generalService: GeneralService,\n    private organisatorService: OrganisatorService,\n    private router: Router,\n    private googleGeocoderService: GoogleGeocodeService,\n    private locationService: LocationService) { }\n\n    ngOnInit() {\n      this.generalService.findWidthAuthorities().subscribe(u => {\n        this.user = u.body;\n\n        this.generalService.findOrganizationsByActiveAndActiveOwner().subscribe(res => {\n          this.organizations = res.body!;\n          this.organizationsWithDistance = [...this.organizations];\n        });\n      });\n    }\n\n    formatAddress(org: IOrganization): string {\n      const googleAddressArray = org.address!.split(',');\n      const address = googleAddressArray![0];\n      const place = googleAddressArray![1];\n      const land = googleAddressArray![2];\n      const fa = (address + '\\n' + place + '\\n' + land).trim();\n      return fa;\n    }\n\n    changeTypeFilter(e: any): void {\n      this.changeSliderRadius(this.distance).then(() => {\n        this.organizationsWithDistance = this.organizationsWithDistance.filter(s => s.organizationType === e.value);\n      });\n    }\n\n    onSortChange(event: any) {\n      let value = event.value;\n\n      if (value.indexOf('!') === 0) {\n        this.sortOrder = -1;\n        this.sortField = value.substring(1, value.length);\n      } else {\n        this.sortOrder = 1;\n        this.sortField = value;\n      }\n    }\n\n    getAverage(eventId: number): number {\n      const se = this.starEvents.find(x => x.event.id === eventId);\n      return se.average;\n    }\n\n    goToOrganization(organization: IOrganization): void {\n      if(organization.organizationType === OrganizationType.RESTAURANT) {\n        this.router.navigate(['/organization/' + organization.restaurant.id + '/restaurant']);\n      } else if(organization.organizationType === OrganizationType.HOTEL) {\n        this.router.navigate(['/organization/' + organization.hotel.id + '/hotel']);\n      } else if(organization.organizationType === OrganizationType.CLUB) {\n        this.router.navigate(['/organization/' + organization.club.id + '/club']);\n      }\n    }\n\n    changeSliderRadius(e: any): Promise<void> {\n      return new Promise<void>((resolve, reject) => {\n        if(this.distance === 0) {\n          this.organizationsWithDistance = [...this.organizations];\n          resolve();\n          return;\n        }\n        this.organizationsWithDistance = [];\n        let latUser = 0;\n        let lngUser = 0;\n        let posUser: google.maps.LatLng;\n        const queryParam = this.user.address!.replace(' ', '+');\n        this.googleGeocoderService.getFromAddress(queryParam).subscribe((res: any) => {\n          const geocoder = res.body!['results'];\n          const geometry = geocoder[0].geometry;\n          latUser = geometry.location.lat;\n          lngUser = geometry.location.lng;\n          posUser = new google.maps.LatLng(latUser, lngUser);\n          let i = 0;\n          this.organizations.forEach(element => {\n            i++;\n            this.googleGeocoderService.getFromAddress(queryParam).subscribe((res: any) => {\n              const geocoder = res.body!['results'];\n              const geometry = geocoder[0].geometry;\n              const lat = geometry.location.lat;\n              const lng = geometry.location.lng;\n\n              const posOrganization = new google.maps.LatLng(lat, lng);\n              const distance = google.maps.geometry.spherical.computeDistanceBetween(posUser, posOrganization);\n              const maxDistance = Number(this.distance) * 1000;\n              if (maxDistance > distance ) {\n                if(this.selectedOrganizationType === undefined || this.selectedOrganizationType === null) {\n                  this.organizationsWithDistance.push(element);\n                } else if (this.selectedOrganizationType === element.organizationType) {\n                  this.organizationsWithDistance.push(element);\n                }\n\n              }\n            });\n            if(i === this.organizations.length) {\n              this.organizationsWithDistance = [...new Set(this.organizationsWithDistance)];\n              resolve();\n            }\n          });\n        });\n      });\n    }\n\n\n}\n","<h1 id=\"main-title\" class=\"main-title\" jhiTranslate=\"organization-data-view.title\">Search organizations</h1>\n\n<p-dataView\n  #dv\n  [value]=\"organizationsWithDistance\"\n  [paginator]=\"true\"\n  [rows]=\"9\"\n  filterBy=\"name\"\n  [sortField]=\"sortField\"\n  [sortOrder]=\"sortOrder\"\n  layout=\"grid\"\n  [loading]=\"loading\"\n>\n  <ng-template pTemplate=\"header\">\n    <div class=\"p-d-flex p-flex-column p-flex-md-row p-jc-md-between\">\n      <div class=\"row\">\n        <div class=\"col-md-4\">\n          <span class=\"p-input-icon-left p-mb-2 p-mb-md-0\">\n            <i class=\"pi pi-search\"></i>\n            <input type=\"search\" pInputText placeholder=\"Search by name\" (input)=\"dv.filter($event.target!.value)\" />\n          </span>\n          <ngx-select-dropdown\n            (change)=\"changeTypeFilter($event)\"\n            [config]=\"config\"\n            [options]=\"organizationTypeValues\"\n            [(ngModel)]=\"selectedOrganizationType\"\n            [multiple]=\"false\"\n          ></ngx-select-dropdown>\n        </div>\n        <div class=\"col-md-6\">\n          <ng-container *ngIf=\"user\">\n            <div class=\"row\">\n              <div class=\"col-md-3\">\n                <h5><span jhiTranslate=\"distance.distance\"></span>{{ distance }} Km</h5>\n                <p-knob [(ngModel)]=\"distance\" (onChange)=\"changeSliderRadius($event)\" class=\"slider\"></p-knob>\n              </div>\n              <div class=\"col-md-9\">\n                <div class=\"alert alert-info\" role=\"alert\">\n                  <span jhiTranslate=\"data-view.distance-info\">\n                    Use the switch to select the maximum range in which you want to search for organizations. If the distance is set to 0,\n                    all search results are displayed.\n                  </span>\n                </div>\n              </div>\n            </div>\n          </ng-container>\n        </div>\n        <div class=\"col-md-2\">\n          <p-dataViewLayoutOptions></p-dataViewLayoutOptions>\n        </div>\n      </div>\n    </div>\n  </ng-template>\n\n  <ng-template let-organization pTemplate=\"listItem\">\n    <div class=\"row organization-list-row\">\n      <div class=\"col-md-3\">\n        <img\n          class=\"img img-center\"\n          [src]=\"'data:' + organization.logoContentType + ';base64,' + organization.logo\"\n          style=\"max-width: 200px; max-height: 200px\"\n          alt=\"{{ organization.name }}\"\n        />\n      </div>\n      <div class=\"col-md-3\">\n        <h3>{{ organization.name }}</h3>\n        <h5>{{ organization.motto }}</h5>\n      </div>\n      <div class=\"col-md-3\">\n        <div class=\"address\">\n          <p>\n            {{ formatAddress(organization) }}\n          </p>\n        </div>\n        <p><span class=\"bold\" jhiTranslate=\"partners.phone\">Phone:</span> {{ organization.phone }}</p>\n        <p><span class=\"bold\" jhiTranslate=\"partners.webaddress\">Webaddress:</span> {{ organization.webAddress }}</p>\n      </div>\n      <div class=\"col-md-3\">\n        <a class=\"shiny-button\" (click)=\"goToOrganization(organization)\" jhiTranslate=\"organization-data-view.goto-organization\"\n          >Go to organization</a\n        >\n      </div>\n    </div>\n  </ng-template>\n\n  <ng-template let-organization pTemplate=\"gridItem\">\n    <div class=\"p-col-12 p-md-3\">\n      <div class=\"card card-container\">\n        <h3 class=\"title-org\">{{ organization.name }}</h3>\n        <h5 class=\"center\">{{ organization.organizationType }}</h5>\n        <div class=\"center\">\n          <img\n            class=\"img img-center\"\n            [src]=\"'data:' + organization.logoContentType + ';base64,' + organization.logo\"\n            style=\"max-width: 250px; max-height: 350px\"\n            alt=\"{{ organization.name }}\"\n          />\n        </div>\n        <h5 class=\"motto center\">{{ organization.motto }}</h5>\n        <hr />\n        <p><span class=\"bold\" jhiTranslate=\"organization-data-view.placenumber\">Place:</span> {{ organization.placeNumber }}</p>\n        <p>\n          <span class=\"bold\" jhiTranslate=\"organization-data-view.rentable\">Rentable:</span>\n          <i\n            class=\"pi\"\n            [ngClass]=\"{ 'true-icon pi-check-circle': organization.rentable, 'false-icon pi-times-circle': !organization.rentable }\"\n          ></i>\n        </p>\n        <p *ngIf=\"organization.rentable\">\n          <span class=\"bold\" jhiTranslate=\"organization-data-view.price\">Price:</span> {{ organization.price | currency }} /\n          {{ organization.rentType }}\n        </p>\n        <div class=\"address\">\n          <p>\n            {{ formatAddress(organization) }}\n          </p>\n        </div>\n        <p><span class=\"bold\" jhiTranslate=\"partners.phone\">Phone:</span> {{ organization.phone }}</p>\n        <p><span class=\"bold\" jhiTranslate=\"partners.webaddress\">Webaddress:</span> {{ organization.webAddress }}</p>\n        <a class=\"shiny-button\" (click)=\"goToOrganization(organization)\" jhiTranslate=\"organization-data-view.goto-organization\"\n          >Go to organization</a\n        >\n      </div>\n    </div>\n  </ng-template>\n\n  <ng-template pTemplate=\"footer\">\n    <p-dataViewLayoutOptions></p-dataViewLayoutOptions>\n  </ng-template>\n</p-dataView>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}