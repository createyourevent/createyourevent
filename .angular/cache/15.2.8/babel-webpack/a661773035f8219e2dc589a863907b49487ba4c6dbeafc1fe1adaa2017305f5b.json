{"ast":null,"code":"\"use strict\";\n\n/* angular2-moment (c) 2015, 2016 Uri Shaked / MIT Licence */\nvar ɵngcc0 = require('@angular/core');\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = this && this.__metadata || function (k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar core_1 = require(\"@angular/core\");\nvar moment = require(\"moment\");\n// under systemjs, moment is actually exported as the default export, so we account for that\nvar momentConstructor = moment.default || moment;\nvar TimeAgoPipe = /** @class */function () {\n  function TimeAgoPipe(cdRef, ngZone) {\n    this.cdRef = cdRef;\n    this.ngZone = ngZone;\n  }\n  TimeAgoPipe.prototype.transform = function (value, omitSuffix) {\n    if (this.hasChanged(value, omitSuffix)) {\n      this.lastTime = this.getTime(value);\n      this.lastValue = value;\n      this.lastOmitSuffix = omitSuffix;\n      this.lastLocale = this.getLocale(value);\n      this.removeTimer();\n      this.createTimer();\n      this.lastText = momentConstructor(value).from(momentConstructor(), omitSuffix);\n    } else {\n      this.createTimer();\n    }\n    return this.lastText;\n  };\n  TimeAgoPipe.prototype.ngOnDestroy = function () {\n    this.removeTimer();\n  };\n  TimeAgoPipe.prototype.createTimer = function () {\n    var _this = this;\n    if (this.currentTimer) {\n      return;\n    }\n    var momentInstance = momentConstructor(this.lastValue);\n    var timeToUpdate = this.getSecondsUntilUpdate(momentInstance) * 1000;\n    this.currentTimer = this.ngZone.runOutsideAngular(function () {\n      if (typeof window !== 'undefined') {\n        return window.setTimeout(function () {\n          _this.lastText = momentConstructor(_this.lastValue).from(momentConstructor(), _this.lastOmitSuffix);\n          _this.currentTimer = null;\n          _this.ngZone.run(function () {\n            return _this.cdRef.markForCheck();\n          });\n        }, timeToUpdate);\n      }\n    });\n  };\n  TimeAgoPipe.prototype.removeTimer = function () {\n    if (this.currentTimer) {\n      window.clearTimeout(this.currentTimer);\n      this.currentTimer = null;\n    }\n  };\n  TimeAgoPipe.prototype.getSecondsUntilUpdate = function (momentInstance) {\n    var howOld = Math.abs(momentConstructor().diff(momentInstance, 'minute'));\n    if (howOld < 1) {\n      return 1;\n    } else if (howOld < 60) {\n      return 30;\n    } else if (howOld < 180) {\n      return 300;\n    } else {\n      return 3600;\n    }\n  };\n  TimeAgoPipe.prototype.hasChanged = function (value, omitSuffix) {\n    return this.getTime(value) !== this.lastTime || this.getLocale(value) !== this.lastLocale || omitSuffix !== this.lastOmitSuffix;\n  };\n  TimeAgoPipe.prototype.getTime = function (value) {\n    if (moment.isDate(value)) {\n      return value.getTime();\n    } else if (moment.isMoment(value)) {\n      return value.valueOf();\n    } else {\n      return momentConstructor(value).valueOf();\n    }\n  };\n  TimeAgoPipe.prototype.getLocale = function (value) {\n    return moment.isMoment(value) ? value.locale() : null;\n  };\n  TimeAgoPipe = __decorate([__metadata(\"design:paramtypes\", [core_1.ChangeDetectorRef, core_1.NgZone])], TimeAgoPipe);\n  TimeAgoPipe.ɵfac = function TimeAgoPipe_Factory(t) {\n    return new (t || TimeAgoPipe)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef, 16), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.NgZone, 16));\n  };\n  TimeAgoPipe.ɵpipe = /*@__PURE__*/ɵngcc0.ɵɵdefinePipe({\n    name: \"amTimeAgo\",\n    type: TimeAgoPipe,\n    pure: false\n  });\n  (function () {\n    (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(TimeAgoPipe, [{\n      type: core_1.Pipe,\n      args: [{\n        name: 'amTimeAgo',\n        pure: false\n      }]\n    }], function () {\n      return [{\n        type: ɵngcc0.ChangeDetectorRef\n      }, {\n        type: ɵngcc0.NgZone\n      }];\n    }, null);\n  })();\n  return TimeAgoPipe;\n}();\nexports.TimeAgoPipe = TimeAgoPipe;","map":{"version":3,"names":["ɵngcc0","require","__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__metadata","k","v","metadata","exports","value","core_1","moment","momentConstructor","default","TimeAgoPipe","cdRef","ngZone","prototype","transform","omitSuffix","hasChanged","lastTime","getTime","lastValue","lastOmitSuffix","lastLocale","getLocale","removeTimer","createTimer","lastText","from","ngOnDestroy","_this","currentTimer","momentInstance","timeToUpdate","getSecondsUntilUpdate","runOutsideAngular","window","setTimeout","run","markForCheck","clearTimeout","howOld","Math","abs","diff","isDate","isMoment","valueOf","locale","ChangeDetectorRef","NgZone","ɵfac","TimeAgoPipe_Factory","t","ɵɵdirectiveInject","ɵpipe","ɵɵdefinePipe","name","type","pure","ngDevMode","ɵsetClassMetadata","Pipe","args"],"sources":["/home/ceo/mmmm/createyourevent/node_modules/angular2-moment/__ivy_ngcc__/time-ago.pipe.js"],"sourcesContent":["\"use strict\";\r\n/* angular2-moment (c) 2015, 2016 Uri Shaked / MIT Licence */\r\nvar ɵngcc0 = require('@angular/core');\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nvar __metadata = (this && this.__metadata) || function (k, v) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar core_1 = require(\"@angular/core\");\r\nvar moment = require(\"moment\");\r\n// under systemjs, moment is actually exported as the default export, so we account for that\r\nvar momentConstructor = moment.default || moment;\r\nvar TimeAgoPipe = /** @class */ (function () {\r\n    function TimeAgoPipe(cdRef, ngZone) {\r\n        this.cdRef = cdRef;\r\n        this.ngZone = ngZone;\r\n    }\r\n    TimeAgoPipe.prototype.transform = function (value, omitSuffix) {\r\n        if (this.hasChanged(value, omitSuffix)) {\r\n            this.lastTime = this.getTime(value);\r\n            this.lastValue = value;\r\n            this.lastOmitSuffix = omitSuffix;\r\n            this.lastLocale = this.getLocale(value);\r\n            this.removeTimer();\r\n            this.createTimer();\r\n            this.lastText = momentConstructor(value).from(momentConstructor(), omitSuffix);\r\n        }\r\n        else {\r\n            this.createTimer();\r\n        }\r\n        return this.lastText;\r\n    };\r\n    TimeAgoPipe.prototype.ngOnDestroy = function () {\r\n        this.removeTimer();\r\n    };\r\n    TimeAgoPipe.prototype.createTimer = function () {\r\n        var _this = this;\r\n        if (this.currentTimer) {\r\n            return;\r\n        }\r\n        var momentInstance = momentConstructor(this.lastValue);\r\n        var timeToUpdate = this.getSecondsUntilUpdate(momentInstance) * 1000;\r\n        this.currentTimer = this.ngZone.runOutsideAngular(function () {\r\n            if (typeof window !== 'undefined') {\r\n                return window.setTimeout(function () {\r\n                    _this.lastText = momentConstructor(_this.lastValue).from(momentConstructor(), _this.lastOmitSuffix);\r\n                    _this.currentTimer = null;\r\n                    _this.ngZone.run(function () { return _this.cdRef.markForCheck(); });\r\n                }, timeToUpdate);\r\n            }\r\n        });\r\n    };\r\n    TimeAgoPipe.prototype.removeTimer = function () {\r\n        if (this.currentTimer) {\r\n            window.clearTimeout(this.currentTimer);\r\n            this.currentTimer = null;\r\n        }\r\n    };\r\n    TimeAgoPipe.prototype.getSecondsUntilUpdate = function (momentInstance) {\r\n        var howOld = Math.abs(momentConstructor().diff(momentInstance, 'minute'));\r\n        if (howOld < 1) {\r\n            return 1;\r\n        }\r\n        else if (howOld < 60) {\r\n            return 30;\r\n        }\r\n        else if (howOld < 180) {\r\n            return 300;\r\n        }\r\n        else {\r\n            return 3600;\r\n        }\r\n    };\r\n    TimeAgoPipe.prototype.hasChanged = function (value, omitSuffix) {\r\n        return this.getTime(value) !== this.lastTime\r\n            || this.getLocale(value) !== this.lastLocale\r\n            || omitSuffix !== this.lastOmitSuffix;\r\n    };\r\n    TimeAgoPipe.prototype.getTime = function (value) {\r\n        if (moment.isDate(value)) {\r\n            return value.getTime();\r\n        }\r\n        else if (moment.isMoment(value)) {\r\n            return value.valueOf();\r\n        }\r\n        else {\r\n            return momentConstructor(value).valueOf();\r\n        }\r\n    };\r\n    TimeAgoPipe.prototype.getLocale = function (value) {\r\n        return moment.isMoment(value) ? value.locale() : null;\r\n    };\r\n    TimeAgoPipe = __decorate([ __metadata(\"design:paramtypes\", [core_1.ChangeDetectorRef, core_1.NgZone])\r\n    ], TimeAgoPipe);\nTimeAgoPipe.ɵfac = function TimeAgoPipe_Factory(t) { return new (t || TimeAgoPipe)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef, 16), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.NgZone, 16)); };\nTimeAgoPipe.ɵpipe = /*@__PURE__*/ ɵngcc0.ɵɵdefinePipe({ name: \"amTimeAgo\", type: TimeAgoPipe, pure: false });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(TimeAgoPipe, [{\n        type: core_1.Pipe,\n        args: [{ name: 'amTimeAgo', pure: false }]\n    }], function () { return [{ type: ɵngcc0.ChangeDetectorRef }, { type: ɵngcc0.NgZone }]; }, null); })();\r\n    return TimeAgoPipe;\r\n}());\r\nexports.TimeAgoPipe = TimeAgoPipe;\r\n\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}