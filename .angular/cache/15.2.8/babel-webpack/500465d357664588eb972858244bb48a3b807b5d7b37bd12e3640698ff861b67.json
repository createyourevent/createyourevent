{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"app/entities/event/service/event.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"app/general.service\";\nimport * as i4 from \"app/chat.service\";\nimport * as i5 from \"primeng/api\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i8 from \"@fortawesome/angular-fontawesome\";\nimport * as i9 from \"../../../../shared/language/translate.directive\";\nimport * as i10 from \"primeng/orderlist\";\nfunction StarRatingsComponent_ng_template_17_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"a\", 16);\n    i0.ɵɵlistener(\"click\", function StarRatingsComponent_ng_template_17_ng_container_3_Template_a_click_2_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const eventStarRating_r3 = i0.ɵɵnextContext().$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.clickUserName(eventStarRating_r3.user));\n    });\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n                \");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const eventStarRating_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\\n                    \", eventStarRating_r3.stars, \" - \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(eventStarRating_r3.user.email);\n  }\n}\nfunction StarRatingsComponent_ng_template_17_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const eventStarRating_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\"\\n                    \", eventStarRating_r3.stars, \" - \", eventStarRating_r3.user.email, \"\\n                \");\n  }\n}\nfunction StarRatingsComponent_ng_template_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n                \");\n    i0.ɵɵelementStart(1, \"div\");\n    i0.ɵɵtext(2, \"\\n                \");\n    i0.ɵɵtemplate(3, StarRatingsComponent_ng_template_17_ng_container_3_Template, 5, 2, \"ng-container\", 15);\n    i0.ɵɵtext(4, \"\\n                \");\n    i0.ɵɵtemplate(5, StarRatingsComponent_ng_template_17_ng_container_5_Template, 2, 2, \"ng-container\", 15);\n    i0.ɵɵtext(6, \"\\n                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n            \");\n  }\n  if (rf & 2) {\n    const eventStarRating_r3 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.user.id !== eventStarRating_r3.user.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.user.id === eventStarRating_r3.user.id);\n  }\n}\nfunction StarRatingsComponent_ng_template_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n        \");\n    i0.ɵɵelementStart(1, \"span\", 17);\n    i0.ɵɵtext(2, \"\\n            \");\n    i0.ɵɵelementStart(3, \"span\", 18);\n    i0.ɵɵtext(4, \"\\u2665\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(5, \"\\u2665\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"\\n        \");\n  }\n  if (rf & 2) {\n    const fill_r11 = ctx.fill;\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"full\", fill_r11 === 100);\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleProp(\"width\", fill_r11, \"%\");\n  }\n}\nexport class StarRatingsComponent {\n  constructor(eventService, route, generalService, sharedChatService) {\n    this.eventService = eventService;\n    this.route = route;\n    this.generalService = generalService;\n    this.sharedChatService = sharedChatService;\n    this.heartVal = 0;\n  }\n  ngOnInit() {\n    this.route.parent.params.subscribe(params => {\n      this.eventId = params['eventId'];\n      this.eventService.find(this.eventId).subscribe(ev => {\n        this.jhiEvent = ev.body;\n        this.generalService.findWidthAuthorities().subscribe(user => {\n          this.user = user.body;\n          this.generalService.getEventStarRatingByEvent(this.eventId).subscribe(esrs => {\n            this.eventStarRatings = esrs.body;\n            let total = 0;\n            this.eventStarRatings.forEach(element => {\n              total += element.stars;\n            });\n            this.heartVal = total / this.eventStarRatings.length / 10 * 5;\n          });\n        });\n      });\n    });\n  }\n  onRowSelect(event) {\n    this.sharedChatService.callClickName(event.user);\n  }\n  clickUserName(user) {\n    this.sharedChatService.callClickName(user);\n  }\n  previousState() {\n    window.history.back();\n  }\n}\nStarRatingsComponent.ɵfac = function StarRatingsComponent_Factory(t) {\n  return new (t || StarRatingsComponent)(i0.ɵɵdirectiveInject(i1.EventService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.GeneralService), i0.ɵɵdirectiveInject(i4.SharedChatService));\n};\nStarRatingsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: StarRatingsComponent,\n  selectors: [[\"jhi-star-ratings\"]],\n  decls: 56,\n  vars: 6,\n  consts: [[\"role\", \"alert\", 1, \"alert\", \"alert-info\"], [\"jhiTranslate\", \"dashboard-event.star-ratings-title\"], [\"jhiTranslate\", \"dashboard-event.star-ratings-info\"], [1, \"row\"], [1, \"col-md-8\"], [3, \"value\", \"onSelectionChange\"], [\"pTemplate\", \"item\"], [1, \"col-md-4\"], [\"t\", \"\"], [3, \"rate\", \"starTemplate\", \"readonly\", \"max\", \"rateChange\"], [1, \"col-md-12\"], [1, \"btn-cancel\"], [\"type\", \"button\", \"id\", \"cancel-save\", 1, \"btn\", \"btn-secondary\", \"btn-cancel\", 3, \"click\"], [\"icon\", \"ban\"], [\"jhiTranslate\", \"entity.action.cancel\"], [4, \"ngIf\"], [3, \"click\"], [1, \"heart\"], [1, \"half\"]],\n  template: function StarRatingsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtext(1, \"\\n    \");\n      i0.ɵɵelementStart(2, \"h2\", 1);\n      i0.ɵɵtext(3, \"All star-ratings and heart-ratings\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(4, \"\\n    \");\n      i0.ɵɵelementStart(5, \"p\", 2);\n      i0.ɵɵtext(6, \"\\n        Below are all of the ratings related to the star ratings and the resulting heart rating.\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(7, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(8, \"\\n\");\n      i0.ɵɵelement(9, \"hr\");\n      i0.ɵɵtext(10, \"\\n\\n\");\n      i0.ɵɵelementStart(11, \"div\", 3);\n      i0.ɵɵtext(12, \"\\n    \");\n      i0.ɵɵelementStart(13, \"div\", 4);\n      i0.ɵɵtext(14, \"\\n        \");\n      i0.ɵɵelementStart(15, \"p-orderList\", 5);\n      i0.ɵɵlistener(\"onSelectionChange\", function StarRatingsComponent_Template_p_orderList_onSelectionChange_15_listener($event) {\n        return ctx.onRowSelect($event);\n      });\n      i0.ɵɵtext(16, \"\\n            \");\n      i0.ɵɵtemplate(17, StarRatingsComponent_ng_template_17_Template, 8, 2, \"ng-template\", 6);\n      i0.ɵɵtext(18, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(19, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(20, \"\\n    \");\n      i0.ɵɵelementStart(21, \"div\", 7);\n      i0.ɵɵtext(22, \"\\n        \");\n      i0.ɵɵtemplate(23, StarRatingsComponent_ng_template_23_Template, 7, 4, \"ng-template\", null, 8, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵtext(25, \"\\n\\n        \");\n      i0.ɵɵelementStart(26, \"ngb-rating\", 9);\n      i0.ɵɵlistener(\"rateChange\", function StarRatingsComponent_Template_ngb_rating_rateChange_26_listener($event) {\n        return ctx.heartVal = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(27, \"\\n\\n        \");\n      i0.ɵɵelement(28, \"hr\");\n      i0.ɵɵtext(29, \"\\n        \");\n      i0.ɵɵelementStart(30, \"pre\");\n      i0.ɵɵtext(31, \"Rate: \");\n      i0.ɵɵelementStart(32, \"b\");\n      i0.ɵɵtext(33);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtext(34, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(35, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(36, \"\\n\\n\");\n      i0.ɵɵelementStart(37, \"div\", 3);\n      i0.ɵɵtext(38, \"\\n    \");\n      i0.ɵɵelementStart(39, \"div\", 10);\n      i0.ɵɵtext(40, \"\\n        \");\n      i0.ɵɵelement(41, \"hr\");\n      i0.ɵɵtext(42, \"\\n        \");\n      i0.ɵɵelementStart(43, \"div\", 11);\n      i0.ɵɵtext(44, \"\\n            \");\n      i0.ɵɵelementStart(45, \"button\", 12);\n      i0.ɵɵlistener(\"click\", function StarRatingsComponent_Template_button_click_45_listener() {\n        return ctx.previousState();\n      });\n      i0.ɵɵtext(46, \"\\n              \");\n      i0.ɵɵelement(47, \"fa-icon\", 13);\n      i0.ɵɵtext(48, \"\\u00A0\");\n      i0.ɵɵelementStart(49, \"span\", 14);\n      i0.ɵɵtext(50, \"Cancel\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(51, \"\\n          \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(52, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(53, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(54, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(55, \"\\n\");\n    }\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(24);\n      i0.ɵɵadvance(15);\n      i0.ɵɵproperty(\"value\", ctx.eventStarRatings);\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"rate\", ctx.heartVal)(\"starTemplate\", _r1)(\"readonly\", true)(\"max\", 5);\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate(ctx.heartVal);\n    }\n  },\n  dependencies: [i5.PrimeTemplate, i6.NgIf, i7.NgbRating, i8.FaIconComponent, i9.TranslateDirective, i10.OrderList],\n  styles: [\".heart[_ngcontent-%COMP%] {\\n  position: relative;\\n  display: inline-block;\\n  font-size: 3rem;\\n  color: #d3d3d3;\\n}\\n\\n.full[_ngcontent-%COMP%] {\\n  color: red;\\n}\\n\\n.half[_ngcontent-%COMP%] {\\n  position: absolute;\\n  display: inline-block;\\n  overflow: hidden;\\n  color: red;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9tYWluL3dlYmFwcC9hcHAvdmlld3MvZXZlbnQvZGFzaGJvYXJkLWV2ZW50L3N0YXItcmF0aW5ncy9zdGFyLXJhdGluZ3MuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBQTtFQUNBLHFCQUFBO0VBQ0EsZUFBQTtFQUNBLGNBQUE7QUFDRjs7QUFDQTtFQUNFLFVBQUE7QUFFRjs7QUFBQTtFQUNFLGtCQUFBO0VBQ0EscUJBQUE7RUFDQSxnQkFBQTtFQUNBLFVBQUE7QUFHRiIsInNvdXJjZXNDb250ZW50IjpbIi5oZWFydCB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBmb250LXNpemU6IDNyZW07XG4gIGNvbG9yOiAjZDNkM2QzO1xufVxuLmZ1bGwge1xuICBjb2xvcjogcmVkO1xufVxuLmhhbGYge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgY29sb3I6IHJlZDtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","StarRatingsComponent","constructor","eventService","route","generalService","sharedChatService","ngOnInit","parent","params","subscribe","eventId","find","ev","jhiEvent","body","findWidthAuthorities","user","getEventStarRatingByEvent","esrs","eventStarRatings","total","forEach","element","stars","heartVal","length","onRowSelect","event","callClickName","clickUserName","previousState","window","history","back","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/home/ceo/mmmm/createyourevent/src/main/webapp/app/views/event/dashboard-event/star-ratings/star-ratings.component.html","/home/ceo/mmmm/createyourevent/src/main/webapp/app/views/event/dashboard-event/star-ratings/star-ratings.component.ts"],"sourcesContent":["<div class=\"alert alert-info\" role=\"alert\">\n    <h2 jhiTranslate=\"dashboard-event.star-ratings-title\">All star-ratings and heart-ratings</h2>\n    <p jhiTranslate=\"dashboard-event.star-ratings-info\">\n        Below are all of the ratings related to the star ratings and the resulting heart rating.\n    </p>\n</div>\n<hr/>\n\n<div class=\"row\">\n    <div class=\"col-md-8\">\n        <p-orderList [value]=\"eventStarRatings\" (onSelectionChange)=\"onRowSelect($event)\">\n            <ng-template let-eventStarRating pTemplate=\"item\">\n                <div>\n                <ng-container *ngIf=\"user.id !== eventStarRating.user.id\">\n                    {{  eventStarRating.stars }} - <a (click)=\"clickUserName(eventStarRating.user)\">{{ eventStarRating.user.email }}</a>\n                </ng-container>\n                <ng-container *ngIf=\"user.id === eventStarRating.user.id\">\n                    {{  eventStarRating.stars }} - {{ eventStarRating.user.email }}\n                </ng-container>\n                </div>\n            </ng-template>\n        </p-orderList>\n    </div>\n    <div class=\"col-md-4\">\n        <ng-template #t let-fill=\"fill\">\n        <span class=\"heart\" [class.full]=\"fill === 100\">\n            <span class=\"half\" [style.width.%]=\"fill\">&hearts;</span>&hearts;\n        </span>\n        </ng-template>\n\n        <ngb-rating [(rate)]=\"heartVal\" [starTemplate]=\"t\" [readonly]=\"true\" [max]=\"5\"></ngb-rating>\n\n        <hr>\n        <pre>Rate: <b>{{heartVal}}</b></pre>\n    </div>\n</div>\n\n<div class=\"row\">\n    <div class=\"col-md-12\">\n        <hr/>\n        <div class=\"btn-cancel\">\n            <button type=\"button\" id=\"cancel-save\" class=\"btn btn-secondary btn-cancel\" (click)=\"previousState()\">\n              <fa-icon icon=\"ban\"></fa-icon>&nbsp;<span jhiTranslate=\"entity.action.cancel\">Cancel</span>\n          </button>\n        </div>\n    </div>\n</div>\n","import { Component, OnInit } from \"@angular/core\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport { SharedChatService } from \"app/chat.service\";\nimport { IEventStarRating } from \"app/entities/event-star-rating/event-star-rating.model\";\nimport { IEvent } from \"app/entities/event/event.model\";\nimport { EventService } from \"app/entities/event/service/event.service\";\nimport { IUser } from \"app/entities/user/user.model\";\nimport { GeneralService } from \"app/general.service\";\n\n\n@Component({\n  selector: 'jhi-star-ratings',\n  templateUrl: './star-ratings.component.html',\n  styleUrls: ['./star-ratings.component.scss']\n})\nexport class StarRatingsComponent implements OnInit {\n\n  eventId!: number;\n  jhiEvent!: IEvent;\n  user!: IUser;\n  eventStarRatings!: IEventStarRating[];\n  heartVal = 0;\n\n  constructor(\n    private eventService: EventService,\n    private route: ActivatedRoute,\n    private generalService: GeneralService,\n    private sharedChatService: SharedChatService,\n  ) {}\n\n\n  ngOnInit(): void {\n    this.route.parent!.params.subscribe(params => {\n      this.eventId = params['eventId'];\n\n      this.eventService.find(this.eventId).subscribe(ev => {\n        this.jhiEvent = ev.body!;\n\n        this.generalService.findWidthAuthorities().subscribe(user => {\n          this.user = user.body!;\n\n          this.generalService.getEventStarRatingByEvent(this.eventId).subscribe(esrs => {\n            this.eventStarRatings = esrs.body!;\n\n            let total = 0;\n            this.eventStarRatings.forEach(element => {\n              total += element.stars!;\n            });\n            this.heartVal = total / this.eventStarRatings.length / 10 * 5;\n          });\n\n        });\n      });\n    });\n  }\n\n  onRowSelect(event: any): void {\n    this.sharedChatService.callClickName(event.user);\n  }\n\n  clickUserName(user: IUser): void {\n    this.sharedChatService.callClickName(user);\n  }\n\n  previousState(): void {\n    window.history.back();\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}