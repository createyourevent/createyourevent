{"ast":null,"code":"import { Directive, Input, Pipe, NgModule } from '@angular/core';\nimport { NG_VALIDATORS } from '@angular/forms';\nimport { isValidIBAN, electronicFormatIBAN, friendlyFormatIBAN } from 'ibantools';\nimport * as ɵngcc0 from '@angular/core';\nfunction ibanValidator(countryCode) {\n  return control => {\n    if (countryCode && control.value) {\n      return /^[A-Z]{2}$/i.test(countryCode) && new RegExp(`^${countryCode}.*$`, \"i\").test(control.value) && isValidIBAN(electronicFormatIBAN(control.value)) ? null : {\n        iban: {\n          value: control.value\n        }\n      };\n    } else if (control.value) {\n      return isValidIBAN(electronicFormatIBAN(control.value)) ? null : {\n        iban: {\n          value: control.value\n        }\n      };\n    }\n    return null;\n  };\n}\nlet IbanDirective = /*#__PURE__*/(() => {\n  class IbanDirective {\n    validate(control) {\n      return ibanValidator(this.countryCode)(control);\n    }\n    registerOnValidatorChange(fn) {\n      this._onChange = fn;\n    }\n    ngOnChanges(changes) {\n      if (\"countryCode\" in changes && this._onChange) {\n        this._onChange();\n      }\n    }\n  }\n  IbanDirective.ɵfac = function IbanDirective_Factory(t) {\n    return new (t || IbanDirective)();\n  };\n  IbanDirective.ɵdir = /*@__PURE__*/ɵngcc0.ɵɵdefineDirective({\n    type: IbanDirective,\n    selectors: [[\"\", \"ngxIban\", \"\"]],\n    inputs: {\n      countryCode: [\"ngxIban\", \"countryCode\"]\n    },\n    features: [ɵngcc0.ɵɵProvidersFeature([{\n      provide: NG_VALIDATORS,\n      useExisting: IbanDirective,\n      multi: true\n    }]), ɵngcc0.ɵɵNgOnChangesFeature]\n  });\n  return IbanDirective;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet IbanPipe = /*#__PURE__*/(() => {\n  class IbanPipe {\n    transform(value, separator) {\n      return value ? friendlyFormatIBAN(value, separator) : null;\n    }\n  }\n  IbanPipe.ɵfac = function IbanPipe_Factory(t) {\n    return new (t || IbanPipe)();\n  };\n  IbanPipe.ɵpipe = /*@__PURE__*/ɵngcc0.ɵɵdefinePipe({\n    name: \"iban\",\n    type: IbanPipe,\n    pure: true\n  });\n  return IbanPipe;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\nlet NgxIbanModule = /*#__PURE__*/(() => {\n  class NgxIbanModule {}\n  NgxIbanModule.ɵfac = function NgxIbanModule_Factory(t) {\n    return new (t || NgxIbanModule)();\n  };\n  NgxIbanModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n    type: NgxIbanModule\n  });\n  NgxIbanModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({});\n  return NgxIbanModule;\n})();\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(NgxIbanModule, {\n    declarations: [IbanDirective, IbanPipe],\n    exports: [IbanDirective, IbanPipe]\n  });\n})();\n\n/*\n * Public API Surface of ngx-iban\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { IbanDirective, IbanPipe, NgxIbanModule, ibanValidator };\n\n//# sourceMappingURL=ngx-iban.js.map","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}