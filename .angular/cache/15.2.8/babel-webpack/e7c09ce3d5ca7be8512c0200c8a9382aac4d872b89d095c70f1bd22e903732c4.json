{"ast":null,"code":"import { NgxQrcodeElementTypes, NgxQrcodeErrorCorrectionLevels } from '@techiediaries/ngx-qrcode';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"app/general.service\";\nimport * as i2 from \"primeng/api\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"primeng/dataview\";\nimport * as i5 from \"primeng/dropdown\";\nimport * as i6 from \"primeng/inputtext\";\nimport * as i7 from \"primeng/card\";\nimport * as i8 from \"@techiediaries/ngx-qrcode\";\nimport * as i9 from \"@angular/common\";\nfunction CouponsComponent_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵtext(0, \"\\n      \");\n    i0.ɵɵelementStart(1, \"div\", 5);\n    i0.ɵɵtext(2, \"\\n        \");\n    i0.ɵɵelementStart(3, \"p-dropdown\", 6);\n    i0.ɵɵlistener(\"ngModelChange\", function CouponsComponent_ng_template_5_Template_p_dropdown_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.sortKey = $event);\n    })(\"onChange\", function CouponsComponent_ng_template_5_Template_p_dropdown_onChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.onSortChange($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n        \");\n    i0.ɵɵelementStart(5, \"span\", 7);\n    i0.ɵɵtext(6, \"\\n          \");\n    i0.ɵɵelement(7, \"i\", 8);\n    i0.ɵɵtext(8, \"\\n          \");\n    i0.ɵɵelementStart(9, \"input\", 9);\n    i0.ɵɵlistener(\"input\", function CouponsComponent_ng_template_5_Template_input_input_9_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      i0.ɵɵnextContext();\n      const _r0 = i0.ɵɵreference(3);\n      return i0.ɵɵresetView(_r0.filter($event.target.value));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\n    \");\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"options\", ctx_r1.sortOptions)(\"ngModel\", ctx_r1.sortKey);\n  }\n}\nfunction CouponsComponent_ng_template_7_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n          \");\n    i0.ɵɵelementStart(1, \"span\", 12);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \"\\n        \");\n  }\n  if (rf & 2) {\n    const coupon_r7 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(coupon_r7.title);\n  }\n}\nfunction CouponsComponent_ng_template_7_ng_template_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n          \");\n    i0.ɵɵelementStart(1, \"span\", 12);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n          \");\n    i0.ɵɵelement(5, \"hr\");\n    i0.ɵɵtext(6, \"\\n          \");\n    i0.ɵɵelement(7, \"ngx-qrcode\", 13);\n    i0.ɵɵtext(8, \"\\n        \");\n  }\n  if (rf & 2) {\n    const coupon_r7 = i0.ɵɵnextContext().$implicit;\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 4, coupon_r7.value));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"elementType\", ctx_r9.elementType)(\"errorCorrectionLevel\", ctx_r9.correctionLevel)(\"value\", ctx_r9.getValue(coupon_r7));\n  }\n}\nfunction CouponsComponent_ng_template_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"\\n      \");\n    i0.ɵɵelementStart(1, \"p-card\");\n    i0.ɵɵtext(2, \"\\n        \");\n    i0.ɵɵtemplate(3, CouponsComponent_ng_template_7_ng_template_3_Template, 4, 1, \"ng-template\", 3);\n    i0.ɵɵtext(4, \"\\n        \");\n    i0.ɵɵelementStart(5, \"div\", 10);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n        \");\n    i0.ɵɵtemplate(8, CouponsComponent_ng_template_7_ng_template_8_Template, 9, 6, \"ng-template\", 11);\n    i0.ɵɵtext(9, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n    \");\n  }\n  if (rf & 2) {\n    const coupon_r7 = ctx.$implicit;\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"\\n          \", coupon_r7.description, \"\\n        \");\n  }\n}\nexport class CouponsComponent {\n  constructor(generalService, primengConfig) {\n    this.generalService = generalService;\n    this.primengConfig = primengConfig;\n    this.coupons = [];\n    this.elementType = NgxQrcodeElementTypes.URL;\n    this.correctionLevel = NgxQrcodeErrorCorrectionLevels.HIGH;\n  }\n  ngOnInit() {\n    this.sortOptions = [{\n      label: 'Value High to Low',\n      value: '!value'\n    }, {\n      label: 'Value Low to High',\n      value: 'value'\n    }];\n    this.primengConfig.ripple = true;\n    this.generalService.findWidthAuthorities().subscribe(u => {\n      this.user = u.body;\n    });\n    this.generalService.findCouponsByActiveUser().subscribe(res => {\n      const coupons = res.body;\n      coupons.forEach(el => {\n        if (el.used === false || el.used === null) {\n          this.coupons.push(el);\n        }\n      });\n      this.coupons = [...this.coupons];\n    });\n  }\n  onSortChange(event) {\n    let value = event.value;\n    if (value.indexOf('!') === 0) {\n      this.sortOrder = -1;\n      this.sortField = value.substring(1, value.length);\n    } else {\n      this.sortOrder = 1;\n      this.sortField = value;\n    }\n  }\n  getValue(coupon) {\n    return this.user.id + ',,,' + coupon.id + ',,,' + coupon.couponNr + ',,,' + this.user.email;\n  }\n}\nCouponsComponent.ɵfac = function CouponsComponent_Factory(t) {\n  return new (t || CouponsComponent)(i0.ɵɵdirectiveInject(i1.GeneralService), i0.ɵɵdirectiveInject(i2.PrimeNGConfig));\n};\nCouponsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CouponsComponent,\n  selectors: [[\"jhi-coupons\"]],\n  decls: 11,\n  vars: 5,\n  consts: [[1, \"card\"], [\"filterBy\", \"title\", \"layout\", \"grid\", 3, \"value\", \"paginator\", \"rows\", \"sortField\", \"sortOrder\"], [\"dv\", \"\"], [\"pTemplate\", \"header\"], [\"pTemplate\", \"gridItem\"], [1, \"flex\", \"flex-column\", \"md:flex-row\", \"md:justify-content-between\"], [\"placeholder\", \"Sort By Value\", \"styleClass\", \"mb-2 md:mb-0\", 3, \"options\", \"ngModel\", \"ngModelChange\", \"onChange\"], [1, \"p-input-icon-left\", \"mb-2\", \"md:mb-0\"], [1, \"pi\", \"pi-search\"], [\"type\", \"search\", \"pInputText\", \"\", \"placeholder\", \"Search by Name\", 3, \"input\"], [1, \"white-coupons\"], [\"pTemplate\", \"footer\"], [1, \"white-coupons\", \"bold\"], [\"alt\", \"Print@home from Create Your Event\", \"cssClass\", \"bshadow\", 3, \"elementType\", \"errorCorrectionLevel\", \"value\"]],\n  template: function CouponsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtext(1, \"\\n  \");\n      i0.ɵɵelementStart(2, \"p-dataView\", 1, 2);\n      i0.ɵɵtext(4, \"\\n    \");\n      i0.ɵɵtemplate(5, CouponsComponent_ng_template_5_Template, 13, 2, \"ng-template\", 3);\n      i0.ɵɵtext(6, \"\\n    \");\n      i0.ɵɵtemplate(7, CouponsComponent_ng_template_7_Template, 11, 1, \"ng-template\", 4);\n      i0.ɵɵtext(8, \"\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(9, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(10, \"\\n\");\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"value\", ctx.coupons)(\"paginator\", true)(\"rows\", 9)(\"sortField\", ctx.sortField)(\"sortOrder\", ctx.sortOrder);\n    }\n  },\n  dependencies: [i3.NgControlStatus, i3.NgModel, i4.DataView, i2.PrimeTemplate, i5.Dropdown, i6.InputText, i7.Card, i8.QrcodeComponent, i9.CurrencyPipe],\n  styles: [\".p-card {\\n  margin: 10px;\\n  padding: 10px;\\n  /* Permalink - use to edit and share this gradient: https://colorzilla.com/gradient-editor/#b3dced+0,29b8e5+50,bce0ee+100;Blue+Pipe */\\n  background: rgb(179, 220, 237); /* Old browsers */ /* FF3.6-15 */ /* Chrome10-25,Safari5.1-6 */\\n  background: linear-gradient(to bottom, rgb(179, 220, 237) 0%, rgb(41, 184, 229) 50%, rgb(188, 224, 238) 100%) !important; /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */\\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr=\\\"#b3dced\\\", endColorstr=\\\"#bce0ee\\\",GradientType=0 ) !important; /* IE6-9 */\\n  box-shadow: 0px 10px 13px -7px #000000, 5px 5px 15px 5px rgba(0, 0, 0, 0);\\n  border-radius: 5px;\\n}\\n\\n.row-list {\\n  width: 100%;\\n}\\n\\n.float-left {\\n  float: left;\\n}\\n\\n.padding-10 {\\n  padding: 10px;\\n}\\n\\n.horizontal-card {\\n  height: 250px;\\n}\\n\\n.white-coupons {\\n  color: #fff;\\n}\\n\\n.bold {\\n  font-weight: bold;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9tYWluL3dlYmFwcC9hcHAvY291cG9ucy9jb3Vwb25zLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsWUFBQTtFQUNBLGFBQUE7RUFDQSxxSUFBQTtFQUNBLDhCQUFBLEVBQUEsaUJBQUEsRUFDQSxhQUFBLEVBTWMsNEJBQUE7RUFDZCx3SEFBQSxFQUtjLHFEQUFBO0VBQ2QsOEhBQUEsRUFBQSxVQUFBO0VBRUEseUVBQUE7RUFDQSxrQkFBQTtBQVRGOztBQVlBO0VBQ0UsV0FBQTtBQVRGOztBQVlBO0VBQ0UsV0FBQTtBQVRGOztBQVlBO0VBQ0UsYUFBQTtBQVRGOztBQVlBO0VBQ0UsYUFBQTtBQVRGOztBQVlBO0VBQ0UsV0FBQTtBQVRGOztBQVlBO0VBQ0UsaUJBQUE7QUFURiIsInNvdXJjZXNDb250ZW50IjpbIi5wLWNhcmQge1xuICBtYXJnaW46IDEwcHg7XG4gIHBhZGRpbmc6IDEwcHg7XG4gIC8qIFBlcm1hbGluayAtIHVzZSB0byBlZGl0IGFuZCBzaGFyZSB0aGlzIGdyYWRpZW50OiBodHRwczovL2NvbG9yemlsbGEuY29tL2dyYWRpZW50LWVkaXRvci8jYjNkY2VkKzAsMjliOGU1KzUwLGJjZTBlZSsxMDA7Qmx1ZStQaXBlICovXG4gIGJhY2tncm91bmQ6IHJnYigxNzksIDIyMCwgMjM3KTsgLyogT2xkIGJyb3dzZXJzICovXG4gIGJhY2tncm91bmQ6IC1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwgcmdiKDE3OSwgMjIwLCAyMzcpIDAlLCByZ2IoNDEsIDE4NCwgMjI5KSA1MCUsIHJnYigxODgsIDIyNCwgMjM4KSAxMDAlKSAhaW1wb3J0YW50OyAvKiBGRjMuNi0xNSAqL1xuICBiYWNrZ3JvdW5kOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudChcbiAgICB0b3AsXG4gICAgcmdiKDE3OSwgMjIwLCAyMzcpIDAlLFxuICAgIHJnYig0MSwgMTg0LCAyMjkpIDUwJSxcbiAgICByZ2IoMTg4LCAyMjQsIDIzOCkgMTAwJVxuICApICFpbXBvcnRhbnQ7IC8qIENocm9tZTEwLTI1LFNhZmFyaTUuMS02ICovXG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudChcbiAgICB0byBib3R0b20sXG4gICAgcmdiKDE3OSwgMjIwLCAyMzcpIDAlLFxuICAgIHJnYig0MSwgMTg0LCAyMjkpIDUwJSxcbiAgICByZ2IoMTg4LCAyMjQsIDIzOCkgMTAwJVxuICApICFpbXBvcnRhbnQ7IC8qIFczQywgSUUxMCssIEZGMTYrLCBDaHJvbWUyNissIE9wZXJhMTIrLCBTYWZhcmk3KyAqL1xuICBmaWx0ZXI6IHByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5ncmFkaWVudCggc3RhcnRDb2xvcnN0cj0nI2IzZGNlZCcsIGVuZENvbG9yc3RyPScjYmNlMGVlJyxHcmFkaWVudFR5cGU9MCApICFpbXBvcnRhbnQ7IC8qIElFNi05ICovXG4gIC13ZWJraXQtYm94LXNoYWRvdzogMHB4IDEwcHggMTNweCAtN3B4ICMwMDAwMDAsIDVweCA1cHggMTVweCA1cHggcmdiYSgwLCAwLCAwLCAwKTtcbiAgYm94LXNoYWRvdzogMHB4IDEwcHggMTNweCAtN3B4ICMwMDAwMDAsIDVweCA1cHggMTVweCA1cHggcmdiYSgwLCAwLCAwLCAwKTtcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xufVxuXG4ucm93LWxpc3Qge1xuICB3aWR0aDogMTAwJTtcbn1cblxuLmZsb2F0LWxlZnQge1xuICBmbG9hdDogbGVmdDtcbn1cblxuLnBhZGRpbmctMTAge1xuICBwYWRkaW5nOiAxMHB4O1xufVxuXG4uaG9yaXpvbnRhbC1jYXJkIHtcbiAgaGVpZ2h0OiAyNTBweDtcbn1cblxuLndoaXRlLWNvdXBvbnMge1xuICBjb2xvcjogI2ZmZjtcbn1cblxuLmJvbGQge1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"],\n  encapsulation: 2\n});","map":{"version":3,"mappings":"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","names":["NgxQrcodeElementTypes","NgxQrcodeErrorCorrectionLevels","i0","CouponsComponent","constructor","generalService","primengConfig","URL","HIGH","ngOnInit","sortOptions","label","value","ripple","findWidthAuthorities","subscribe","u","user","body","findCouponsByActiveUser","res","coupons","forEach","el","used","push","onSortChange","event","indexOf","sortOrder","sortField","substring","length","getValue","coupon","id","couponNr","email","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/home/ceo/mmmm/createyourevent/src/main/webapp/app/coupons/coupons.component.ts","/home/ceo/mmmm/createyourevent/src/main/webapp/app/coupons/coupons.component.html"],"sourcesContent":["import { Component, OnInit, ViewEncapsulation } from '@angular/core';\nimport { NgxQrcodeElementTypes, NgxQrcodeErrorCorrectionLevels } from '@techiediaries/ngx-qrcode';\nimport { ICoupon } from 'app/entities/coupon/coupon.model';\nimport { IUser } from 'app/entities/user/user.model';\nimport { GeneralService } from 'app/general.service';\nimport { PrimeNGConfig, SelectItem } from 'primeng/api';\n\n@Component({\n  selector: 'jhi-coupons',\n  templateUrl: './coupons.component.html',\n  styleUrls: ['./coupons.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class CouponsComponent implements OnInit {\n  coupons: ICoupon[] = [];\n\n  sortOptions: SelectItem[];\n\n  sortOrder: number;\n\n  sortField: string;\n\n  elementType = NgxQrcodeElementTypes.URL;\n  correctionLevel = NgxQrcodeErrorCorrectionLevels.HIGH;\n\n  user: IUser;\n\n  constructor(private generalService: GeneralService, private primengConfig: PrimeNGConfig) {}\n\n  ngOnInit() {\n    this.sortOptions = [\n      { label: 'Value High to Low', value: '!value' },\n      { label: 'Value Low to High', value: 'value' },\n    ];\n\n    this.primengConfig.ripple = true;\n    this.generalService.findWidthAuthorities().subscribe(u => {\n      this.user = u.body;\n    });\n    this.generalService.findCouponsByActiveUser().subscribe(res => {\n      const coupons = res.body;\n\n      coupons.forEach(el => {\n        if (el.used === false || el.used === null) {\n          this.coupons.push(el);\n        }\n      });\n      this.coupons = [...this.coupons];\n    });\n  }\n\n  onSortChange(event) {\n    let value = event.value;\n\n    if (value.indexOf('!') === 0) {\n      this.sortOrder = -1;\n      this.sortField = value.substring(1, value.length);\n    } else {\n      this.sortOrder = 1;\n      this.sortField = value;\n    }\n  }\n\n  getValue(coupon: ICoupon): string {\n    return this.user.id + ',,,' + coupon.id + ',,,' + coupon.couponNr + ',,,' + this.user.email;\n  }\n}\n","<div class=\"card\">\n  <p-dataView\n    #dv\n    [value]=\"coupons\"\n    [paginator]=\"true\"\n    [rows]=\"9\"\n    filterBy=\"title\"\n    [sortField]=\"sortField\"\n    [sortOrder]=\"sortOrder\"\n    layout=\"grid\"\n  >\n    <ng-template pTemplate=\"header\">\n      <div class=\"flex flex-column md:flex-row md:justify-content-between\">\n        <p-dropdown\n          [options]=\"sortOptions\"\n          [(ngModel)]=\"sortKey\"\n          placeholder=\"Sort By Value\"\n          (onChange)=\"onSortChange($event)\"\n          styleClass=\"mb-2 md:mb-0\"\n        ></p-dropdown>\n        <span class=\"p-input-icon-left mb-2 md:mb-0\">\n          <i class=\"pi pi-search\"></i>\n          <input type=\"search\" pInputText placeholder=\"Search by Name\" (input)=\"dv.filter($event.target.value)\" />\n        </span>\n      </div>\n    </ng-template>\n    <ng-template let-coupon pTemplate=\"gridItem\">\n      <p-card>\n        <ng-template pTemplate=\"header\">\n          <span class=\"white-coupons bold\">{{ coupon.title }}</span>\n        </ng-template>\n        <div class=\"white-coupons\">\n          {{ coupon.description }}\n        </div>\n        <ng-template pTemplate=\"footer\">\n          <span class=\"white-coupons bold\">{{ coupon.value | currency }}</span>\n          <hr />\n          <ngx-qrcode\n            [elementType]=\"elementType\"\n            [errorCorrectionLevel]=\"correctionLevel\"\n            [value]=\"getValue(coupon)\"\n            alt=\"Print@home from Create Your Event\"\n            cssClass=\"bshadow\"\n          ></ngx-qrcode>\n        </ng-template>\n      </p-card>\n    </ng-template>\n  </p-dataView>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}