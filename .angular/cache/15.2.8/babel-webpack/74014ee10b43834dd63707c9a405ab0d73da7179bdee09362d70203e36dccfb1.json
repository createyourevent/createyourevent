{"ast":null,"code":"import { EventStatus } from 'app/entities/enumerations/event-status.model';\nimport * as dayjs from 'dayjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"ng-jhipster\";\nimport * as i2 from \"app/entities/product/service/product.service\";\nimport * as i3 from \"app/views/event/event.service\";\nimport * as i4 from \"app/entities/shop/service/shop.service\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"@angular/forms\";\nimport * as i7 from \"../supplier.service\";\nimport * as i8 from \"app/entities/event-product-order/service/event-product-order.service\";\nimport * as i9 from \"app/chat.service\";\nimport * as i10 from \"@angular/common\";\nimport * as i11 from \"@fortawesome/angular-fontawesome\";\nimport * as i12 from \"../../shared/language/translate.directive\";\nimport * as i13 from \"@angular/material/card\";\nimport * as i14 from \"primeng/tabview\";\nimport * as i15 from \"primeng/togglebutton\";\nimport * as i16 from \"@ngx-translate/core\";\nfunction OrdersComponent_div_23_ng_container_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"\\n                                        \");\n    i0.ɵɵelementStart(2, \"dt\")(3, \"span\", 28);\n    i0.ɵɵtext(4, \"Date from\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(5, \"\\n                                        \");\n    i0.ɵɵelementStart(6, \"dd\");\n    i0.ɵɵtext(7, \"\\n                                            \");\n    i0.ɵɵelementStart(8, \"span\");\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n                                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\n                                        \");\n    i0.ɵɵelement(13, \"hr\");\n    i0.ɵɵtext(14, \"\\n                                        \");\n    i0.ɵɵelementStart(15, \"dt\")(16, \"span\", 29);\n    i0.ɵɵtext(17, \"Date until\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(18, \"\\n                                        \");\n    i0.ɵɵelementStart(19, \"dd\");\n    i0.ɵɵtext(20, \"\\n                                            \");\n    i0.ɵɵelementStart(21, \"span\");\n    i0.ɵɵtext(22);\n    i0.ɵɵpipe(23, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(24, \"\\n                                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(25, \"\\n                                        \");\n    i0.ɵɵelement(26, \"hr\");\n    i0.ɵɵtext(27, \"\\n                                    \");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const epo_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(10, 2, epo_r2.dateFrom, \"mediumDate\"));\n    i0.ɵɵadvance(13);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(23, 5, epo_r2.dateUntil, \"mediumDate\"));\n  }\n}\nfunction OrdersComponent_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtext(1, \"\\n                        \");\n    i0.ɵɵelementStart(2, \"mat-card\", 14);\n    i0.ɵɵtext(3, \"\\n                            \");\n    i0.ɵɵelementStart(4, \"mat-card-header\");\n    i0.ɵɵtext(5, \"\\n                            \");\n    i0.ɵɵelementStart(6, \"mat-card-title\")(7, \"span\", 15);\n    i0.ɵɵtext(8, \"Eventproductorder:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n\\n                            \");\n    i0.ɵɵelementStart(12, \"mat-card-content\");\n    i0.ɵɵtext(13, \"\\n                                \");\n    i0.ɵɵelementStart(14, \"dl\", 16);\n    i0.ɵɵtext(15, \"\\n                                    \");\n    i0.ɵɵelementStart(16, \"dt\")(17, \"span\", 17);\n    i0.ɵɵtext(18, \"Produktname\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(19, \"\\n                                    \");\n    i0.ɵɵelementStart(20, \"dd\");\n    i0.ɵɵtext(21, \"\\n                                        \");\n    i0.ɵɵelementStart(22, \"a\", 18)(23, \"span\");\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(25, \"\\n                                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(26, \"\\n                                    \");\n    i0.ɵɵelementStart(27, \"dt\")(28, \"span\", 19);\n    i0.ɵɵtext(29, \"Quantity\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(30, \"\\n                                    \");\n    i0.ɵɵelementStart(31, \"dd\");\n    i0.ɵɵtext(32, \"\\n                                        \");\n    i0.ɵɵelementStart(33, \"span\");\n    i0.ɵɵtext(34);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(35);\n    i0.ɵɵpipe(36, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(37, \"\\n                                    \");\n    i0.ɵɵelement(38, \"hr\");\n    i0.ɵɵtext(39, \"\\n                                    \");\n    i0.ɵɵtemplate(40, OrdersComponent_div_23_ng_container_40_Template, 28, 8, \"ng-container\", 20);\n    i0.ɵɵtext(41, \"\\n                                    \");\n    i0.ɵɵelementStart(42, \"dt\")(43, \"span\", 21);\n    i0.ɵɵtext(44, \"Event\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(45, \"\\n                                    \");\n    i0.ɵɵelementStart(46, \"dd\");\n    i0.ɵɵtext(47, \"\\n                                        \");\n    i0.ɵɵelementStart(48, \"a\", 18)(49, \"span\");\n    i0.ɵɵtext(50);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(51, \"\\n                                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(52, \"\\n                                    \");\n    i0.ɵɵelement(53, \"hr\");\n    i0.ɵɵtext(54, \"\\n                                    \");\n    i0.ɵɵelementStart(55, \"dt\")(56, \"span\", 22);\n    i0.ɵɵtext(57, \"Customer\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(58, \"\\n                                    \");\n    i0.ɵɵelementStart(59, \"dd\");\n    i0.ɵɵtext(60, \"\\n                                        \");\n    i0.ɵɵelementStart(61, \"a\", 23);\n    i0.ɵɵlistener(\"click\", function OrdersComponent_div_23_Template_a_click_61_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const epo_r2 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.clickUserName(epo_r2.user));\n    });\n    i0.ɵɵelementStart(62, \"span\");\n    i0.ɵɵtext(63);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(64, \"\\n                                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(65, \"\\n                                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(66, \"\\n                                \");\n    i0.ɵɵelement(67, \"hr\");\n    i0.ɵɵtext(68, \"\\n                                \");\n    i0.ɵɵelementStart(69, \"div\", 24);\n    i0.ɵɵtext(70, \"\\n                                    \");\n    i0.ɵɵelementStart(71, \"span\", 25);\n    i0.ɵɵtext(72, \"Seen\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(73, \"\\n                                    \");\n    i0.ɵɵelementStart(74, \"p-toggleButton\", 26);\n    i0.ɵɵlistener(\"onChange\", function OrdersComponent_div_23_Template_p_toggleButton_onChange_74_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const epo_r2 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.seenChange($event, epo_r2.id));\n    })(\"ngModelChange\", function OrdersComponent_div_23_Template_p_toggleButton_ngModelChange_74_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const epo_r2 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(epo_r2.seen = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(75, \"\\n                                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(76, \"\\n                                \");\n    i0.ɵɵelementStart(77, \"div\", 24);\n    i0.ɵɵtext(78, \"\\n                                    \");\n    i0.ɵɵelementStart(79, \"span\", 27);\n    i0.ɵɵtext(80, \"Approved\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(81, \"\\n                                    \");\n    i0.ɵɵelementStart(82, \"p-toggleButton\", 26);\n    i0.ɵɵlistener(\"onChange\", function OrdersComponent_div_23_Template_p_toggleButton_onChange_82_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const epo_r2 = restoredCtx.$implicit;\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.approvedChange($event, epo_r2.id));\n    })(\"ngModelChange\", function OrdersComponent_div_23_Template_p_toggleButton_ngModelChange_82_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const epo_r2 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(epo_r2.approved = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(83, \"\\n                                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(84, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(85, \"\\n                            \");\n    i0.ɵɵelementStart(86, \"mat-card-actions\");\n    i0.ɵɵtext(87, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(88, \"\\n                      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(89, \"\\n                    \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const epo_r2 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate1(\" \", epo_r2.id, \"\");\n    i0.ɵɵadvance(13);\n    i0.ɵɵpropertyInterpolate1(\"href\", \"/products/\", epo_r2.product.id, \"/view\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", epo_r2.product.title, \" \");\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate(epo_r2.amount);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(36, 14, \"createyoureventApp.Unit.\" + epo_r2.product.unit), \"\\n                                    \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", epo_r2.dateFrom && epo_r2.dateUntil);\n    i0.ɵɵadvance(8);\n    i0.ɵɵpropertyInterpolate1(\"href\", \"/events/\", epo_r2.event.id, \"/view\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(epo_r2.event.name);\n    i0.ɵɵadvance(13);\n    i0.ɵɵtextInterpolate2(\"\", epo_r2.user.firstName, \" \", epo_r2.user.lastName, \"\");\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngModel\", epo_r2.seen)(\"disabled\", epo_r2.seen);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngModel\", epo_r2.approved)(\"disabled\", epo_r2.approved || !epo_r2.seen || ctx_r0.clickSeen);\n  }\n}\nfunction OrdersComponent_div_31_ng_container_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1, \"\\n                                        \");\n    i0.ɵɵelementStart(2, \"dt\")(3, \"span\", 28);\n    i0.ɵɵtext(4, \"Date from\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(5, \"\\n                                        \");\n    i0.ɵɵelementStart(6, \"dd\");\n    i0.ɵɵtext(7, \"\\n                                            \");\n    i0.ɵɵelementStart(8, \"span\");\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n                                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \"\\n                                        \");\n    i0.ɵɵelement(13, \"hr\");\n    i0.ɵɵtext(14, \"\\n                                        \");\n    i0.ɵɵelementStart(15, \"dt\")(16, \"span\", 29);\n    i0.ɵɵtext(17, \"Date until\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(18, \"\\n                                        \");\n    i0.ɵɵelementStart(19, \"dd\");\n    i0.ɵɵtext(20, \"\\n                                            \");\n    i0.ɵɵelementStart(21, \"span\");\n    i0.ɵɵtext(22);\n    i0.ɵɵpipe(23, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(24, \"\\n                                        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(25, \"\\n                                        \");\n    i0.ɵɵelement(26, \"hr\");\n    i0.ɵɵtext(27, \"\\n                                    \");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const epo_r11 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(10, 2, epo_r11.dateFrom, \"mediumDate\"));\n    i0.ɵɵadvance(13);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(23, 5, epo_r11.dateUntil, \"mediumDate\"));\n  }\n}\nfunction OrdersComponent_div_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtext(1, \"\\n                        \");\n    i0.ɵɵelementStart(2, \"mat-card\", 14);\n    i0.ɵɵtext(3, \"\\n                            \");\n    i0.ɵɵelementStart(4, \"mat-card-header\");\n    i0.ɵɵtext(5, \"\\n                            \");\n    i0.ɵɵelementStart(6, \"mat-card-title\")(7, \"span\", 15);\n    i0.ɵɵtext(8, \"Eventproductorder:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(11, \"\\n\\n                            \");\n    i0.ɵɵelementStart(12, \"mat-card-content\");\n    i0.ɵɵtext(13, \"\\n                                \");\n    i0.ɵɵelementStart(14, \"dl\", 16);\n    i0.ɵɵtext(15, \"\\n                                    \");\n    i0.ɵɵelementStart(16, \"dt\")(17, \"span\", 17);\n    i0.ɵɵtext(18, \"Produktname\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(19, \"\\n                                    \");\n    i0.ɵɵelementStart(20, \"dd\");\n    i0.ɵɵtext(21, \"\\n                                        \");\n    i0.ɵɵelementStart(22, \"a\", 18)(23, \"span\");\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(25, \"\\n                                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(26, \"\\n                                    \");\n    i0.ɵɵelementStart(27, \"dt\")(28, \"span\", 19);\n    i0.ɵɵtext(29, \"Quantity\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(30, \"\\n                                    \");\n    i0.ɵɵelementStart(31, \"dd\");\n    i0.ɵɵtext(32, \"\\n                                        \");\n    i0.ɵɵelementStart(33, \"span\");\n    i0.ɵɵtext(34);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(35, \"\\n                                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(36, \"\\n                                    \");\n    i0.ɵɵelement(37, \"hr\");\n    i0.ɵɵtext(38, \"\\n                                    \");\n    i0.ɵɵtemplate(39, OrdersComponent_div_31_ng_container_39_Template, 28, 8, \"ng-container\", 20);\n    i0.ɵɵtext(40, \"\\n                                    \");\n    i0.ɵɵelementStart(41, \"dt\")(42, \"span\", 21);\n    i0.ɵɵtext(43, \"Event\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(44, \"\\n                                    \");\n    i0.ɵɵelementStart(45, \"dd\");\n    i0.ɵɵtext(46, \"\\n                                        \");\n    i0.ɵɵelementStart(47, \"a\", 18)(48, \"span\");\n    i0.ɵɵtext(49);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(50, \"\\n                                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(51, \"\\n                                    \");\n    i0.ɵɵelement(52, \"hr\");\n    i0.ɵɵtext(53, \"\\n                                    \");\n    i0.ɵɵelementStart(54, \"dt\")(55, \"span\", 22);\n    i0.ɵɵtext(56, \"Customer\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtext(57, \"\\n                                    \");\n    i0.ɵɵelementStart(58, \"dd\");\n    i0.ɵɵtext(59, \"\\n                                        \");\n    i0.ɵɵelementStart(60, \"span\");\n    i0.ɵɵtext(61);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(62, \"\\n                                    \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(63, \"\\n                                \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(64, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(65, \"\\n                            \");\n    i0.ɵɵelementStart(66, \"mat-card-actions\");\n    i0.ɵɵtext(67, \"\\n                            \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(68, \"\\n                      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(69, \"\\n                    \");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const epo_r11 = ctx.$implicit;\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate1(\" \", epo_r11.id, \"\");\n    i0.ɵɵadvance(13);\n    i0.ɵɵpropertyInterpolate1(\"href\", \"/products/\", epo_r11.product.id, \"/view\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", epo_r11.product.title, \" \");\n    i0.ɵɵadvance(10);\n    i0.ɵɵtextInterpolate(epo_r11.amount);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", epo_r11.dateFrom && epo_r11.dateUntil);\n    i0.ɵɵadvance(8);\n    i0.ɵɵpropertyInterpolate1(\"href\", \"/events/\", epo_r11.event.id, \"/view\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(epo_r11.event.name);\n    i0.ɵɵadvance(12);\n    i0.ɵɵtextInterpolate2(\"\", epo_r11.user.firstName, \" \", epo_r11.user.lastName, \"\");\n  }\n}\nexport class OrdersComponent {\n  constructor(dataUtils, eventManager, productService, eventService, shopService, elementRef, activatedRoute, fb, route, supplierService, eventProductOrderService, sharedChatService) {\n    this.dataUtils = dataUtils;\n    this.eventManager = eventManager;\n    this.productService = productService;\n    this.eventService = eventService;\n    this.shopService = shopService;\n    this.elementRef = elementRef;\n    this.activatedRoute = activatedRoute;\n    this.fb = fb;\n    this.route = route;\n    this.supplierService = supplierService;\n    this.eventProductOrderService = eventProductOrderService;\n    this.sharedChatService = sharedChatService;\n    this.selledProducts = [];\n    this.provisionallySoldProducts = [];\n    this.clickSeen = false;\n  }\n  previousState() {\n    window.history.back();\n  }\n  clickUserName(user) {\n    this.sharedChatService.callClickName(user);\n  }\n  ngOnInit() {\n    this.shopId = this.route.snapshot.paramMap.get('id');\n    this.shopService.find(Number(this.shopId)).subscribe(s => {\n      this.shop = s.body;\n      let products = [];\n      this.supplierService.queryProductsFromShop(Number(this.shop.id)).subscribe(prods => {\n        products = prods.body;\n        let i = 0;\n        products.forEach(product => {\n          i++;\n          this.supplierService.queryEventProductOrdersByProduct(product.id).subscribe(epos => {\n            let l = 0;\n            epos.body.forEach(epo => {\n              l++;\n              if (dayjs(epo.event.dateStart).isAfter(dayjs()) && epo.event.status === EventStatus.PROCESSING) {\n                this.provisionallySoldProducts.push(epo);\n              } else if (dayjs(epo.event.dateStart).isAfter(dayjs()) && epo.event.status === EventStatus.DEFINITELY && epo.event.definitelyConfirmed === true) {\n                this.selledProducts.push(epo);\n              }\n              if (i === products.length && l === epos.body.length) {\n                this.provisionallySoldProducts = this.provisionallySoldProducts.sort(function (a, b) {\n                  return a.event.name.localeCompare(b.event.name);\n                });\n                this.provisionallySoldProducts = this.provisionallySoldProducts.sort(function (a, b) {\n                  return a.user.id.localeCompare(b.user.id);\n                });\n                this.selledProducts = this.selledProducts.sort(function (a, b) {\n                  return a.event.name.localeCompare(b.event.name);\n                });\n                this.selledProducts = this.selledProducts.sort(function (a, b) {\n                  return a.user.id.localeCompare(b.user.id);\n                });\n              }\n            });\n          });\n        });\n      });\n    });\n  }\n  ngOnDestroy() {}\n  seenChange(event, id) {\n    this.clickSeen = true;\n    this.eventProductOrderService.find(id).subscribe(epo => {\n      const eventProductOrder = epo.body;\n      eventProductOrder.seen = true;\n      this.eventProductOrderService.update(eventProductOrder).subscribe(() => {\n        this.clickSeen = false;\n      });\n    });\n  }\n  approvedChange(event, id) {\n    this.eventProductOrderService.find(id).subscribe(epo => {\n      const eventProductOrder = epo.body;\n      eventProductOrder.approved = true;\n      this.eventProductOrderService.update(eventProductOrder).subscribe();\n    });\n  }\n}\nOrdersComponent.ɵfac = function OrdersComponent_Factory(t) {\n  return new (t || OrdersComponent)(i0.ɵɵdirectiveInject(i1.JhiDataUtils), i0.ɵɵdirectiveInject(i1.JhiEventManager), i0.ɵɵdirectiveInject(i2.ProductService), i0.ɵɵdirectiveInject(i3.EventService), i0.ɵɵdirectiveInject(i4.ShopService), i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i5.ActivatedRoute), i0.ɵɵdirectiveInject(i6.UntypedFormBuilder), i0.ɵɵdirectiveInject(i5.ActivatedRoute), i0.ɵɵdirectiveInject(i7.SupplierService), i0.ɵɵdirectiveInject(i8.EventProductOrderService), i0.ɵɵdirectiveInject(i9.SharedChatService));\n};\nOrdersComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: OrdersComponent,\n  selectors: [[\"jhi-orders\"]],\n  decls: 68,\n  vars: 9,\n  consts: [[1, \"container-fluid\"], [1, \"row\"], [1, \"col-md-12\"], [\"jhiTranslate\", \"orders.title\"], [\"jhiTranslate\", \"orders.info\"], [3, \"header\"], [\"class\", \"cards\", 4, \"ngFor\", \"ngForOf\"], [1, \"clear\"], [1, \"btn-cancel\"], [\"type\", \"button\", \"id\", \"cancel-save\", 1, \"btn\", \"btn-secondary\", \"btn-cancel\", 3, \"click\"], [\"icon\", \"ban\"], [\"jhiTranslate\", \"entity.action.cancel\"], [1, \"col-md-6\"], [1, \"cards\"], [1, \"order-card\"], [\"jhiTranslate\", \"orders.eventproductorder\"], [1, \"row-md\", \"jh-entity-details\"], [\"jhiTranslate\", \"orders.productname\"], [3, \"href\"], [\"jhiTranslate\", \"orders.quantity\"], [4, \"ngIf\"], [\"jhiTranslate\", \"orders.event\"], [\"jhiTranslate\", \"orders.customer\"], [3, \"click\"], [1, \"border-box\"], [\"jhiTranslate\", \"orders.seen\"], [\"onIcon\", \"pi pi-check\", \"offIcon\", \"pi pi-times\", 3, \"ngModel\", \"disabled\", \"onChange\", \"ngModelChange\"], [\"jhiTranslate\", \"orders.approved\"], [\"jhiTranslate\", \"orders.dateFrom\"], [\"jhiTranslate\", \"orders.dateUntil\"]],\n  template: function OrdersComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtext(1, \"\\n\\t\");\n      i0.ɵɵelementStart(2, \"div\", 1);\n      i0.ɵɵtext(3, \"\\n\\t\\t\");\n      i0.ɵɵelementStart(4, \"div\", 2);\n      i0.ɵɵtext(5, \"\\n            \");\n      i0.ɵɵelementStart(6, \"h5\");\n      i0.ɵɵelement(7, \"span\", 3);\n      i0.ɵɵtext(8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(9, \"\\n            \");\n      i0.ɵɵelementStart(10, \"p\");\n      i0.ɵɵtext(11, \"\\n                \");\n      i0.ɵɵelementStart(12, \"span\", 4);\n      i0.ɵɵtext(13, \"Info\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(14, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(15, \"\\n            \");\n      i0.ɵɵelement(16, \"hr\");\n      i0.ɵɵtext(17, \"\\n            \");\n      i0.ɵɵelementStart(18, \"p-tabView\");\n      i0.ɵɵtext(19, \"\\n                \");\n      i0.ɵɵelementStart(20, \"p-tabPanel\", 5);\n      i0.ɵɵpipe(21, \"translate\");\n      i0.ɵɵtext(22, \"\\n\\n                    \");\n      i0.ɵɵtemplate(23, OrdersComponent_div_23_Template, 90, 16, \"div\", 6);\n      i0.ɵɵtext(24, \"\\n                    \");\n      i0.ɵɵelement(25, \"div\", 7);\n      i0.ɵɵtext(26, \"\\n                \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(27, \"\\n                \");\n      i0.ɵɵelementStart(28, \"p-tabPanel\", 5);\n      i0.ɵɵpipe(29, \"translate\");\n      i0.ɵɵtext(30, \"\\n\\n                    \");\n      i0.ɵɵtemplate(31, OrdersComponent_div_31_Template, 70, 9, \"div\", 6);\n      i0.ɵɵtext(32, \"\\n                    \");\n      i0.ɵɵelement(33, \"div\", 7);\n      i0.ɵɵtext(34, \"\\n                \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(35, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(36, \"\\n\\n\\t  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(37, \"\\n    \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(38, \"\\n    \");\n      i0.ɵɵelementStart(39, \"div\", 1);\n      i0.ɵɵtext(40, \"\\n\\t\\t\");\n      i0.ɵɵelementStart(41, \"div\", 2);\n      i0.ɵɵtext(42, \"\\n            \");\n      i0.ɵɵelement(43, \"hr\");\n      i0.ɵɵtext(44, \"\\n            \");\n      i0.ɵɵelementStart(45, \"div\", 8);\n      i0.ɵɵtext(46, \"\\n                \");\n      i0.ɵɵelementStart(47, \"button\", 9);\n      i0.ɵɵlistener(\"click\", function OrdersComponent_Template_button_click_47_listener() {\n        return ctx.previousState();\n      });\n      i0.ɵɵtext(48, \"\\n                  \");\n      i0.ɵɵelement(49, \"fa-icon\", 10);\n      i0.ɵɵtext(50, \"\\u00A0\");\n      i0.ɵɵelementStart(51, \"span\", 11);\n      i0.ɵɵtext(52, \"Cancel\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(53, \"\\n              \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(54, \"\\n            \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(55, \"\\n\\t\\t\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(56, \"\\n\\t\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(57, \"\\n\\t\");\n      i0.ɵɵelementStart(58, \"div\", 1);\n      i0.ɵɵtext(59, \"\\n\\t\\t\");\n      i0.ɵɵelementStart(60, \"div\", 12);\n      i0.ɵɵtext(61, \"\\n\\t\\t\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(62, \"\\n\\t\\t\");\n      i0.ɵɵelementStart(63, \"div\", 12);\n      i0.ɵɵtext(64, \"\\n\\t\\t\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(65, \"\\n\\t\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(66, \"\\n\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(67, \"\\n\");\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(8);\n      i0.ɵɵtextInterpolate(ctx.shop.name);\n      i0.ɵɵadvance(12);\n      i0.ɵɵpropertyInterpolate(\"header\", i0.ɵɵpipeBind1(21, 5, \"orders.provisionally\"));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.provisionallySoldProducts);\n      i0.ɵɵadvance(5);\n      i0.ɵɵpropertyInterpolate(\"header\", i0.ɵɵpipeBind1(29, 7, \"orders.definitely\"));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.selledProducts);\n    }\n  },\n  dependencies: [i6.NgControlStatus, i6.NgModel, i10.NgForOf, i10.NgIf, i11.FaIconComponent, i12.TranslateDirective, i13.MatCard, i13.MatCardHeader, i13.MatCardContent, i13.MatCardTitle, i13.MatCardActions, i14.TabView, i14.TabPanel, i15.ToggleButton, i10.DatePipe, i16.TranslatePipe],\n  styles: [\".cards[_ngcontent-%COMP%] {\\n  width: 220px;\\n  float: left;\\n  margin: 10px;\\n}\\n\\n.order-card[_ngcontent-%COMP%] {\\n  width: 200px;\\n  min-height: 400px;\\n  margin: 5px;\\n  border: 1px solid;\\n  border-radius: 5px;\\n}\\n\\n.btn[_ngcontent-%COMP%] {\\n  margin: 3px;\\n}\\n\\n.border-box[_ngcontent-%COMP%] {\\n  border: 1px solid black;\\n  border-radius: 5px;\\n  \\n  color: black;\\n  margin: 5px;\\n  padding: 5px;\\n  vertical-align: middle;\\n  text-align: center;\\n}\\n\\n.clear[_ngcontent-%COMP%] {\\n  clear: both;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9tYWluL3dlYmFwcC9hcHAvc3VwcGxpZXIvb3JkZXJzL29yZGVycy5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsWUFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0FBQ0Y7O0FBRUE7RUFDRSxZQUFBO0VBQ0EsaUJBQUE7RUFDQSxXQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtBQUNGOztBQUVBO0VBQ0UsV0FBQTtBQUNGOztBQUVBO0VBQ0UsdUJBQUE7RUFDQSxrQkFBQTtFQUNBLGdDQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0Esc0JBQUE7RUFDQSxrQkFBQTtBQUNGOztBQUVBO0VBQ0UsV0FBQTtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLmNhcmRzIHtcbiAgd2lkdGg6IDIyMHB4O1xuICBmbG9hdDogbGVmdDtcbiAgbWFyZ2luOiAxMHB4O1xufVxuXG4ub3JkZXItY2FyZCB7XG4gIHdpZHRoOiAyMDBweDtcbiAgbWluLWhlaWdodDogNDAwcHg7XG4gIG1hcmdpbjogNXB4O1xuICBib3JkZXI6IDFweCBzb2xpZDtcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xufVxuXG4uYnRuIHtcbiAgbWFyZ2luOiAzcHg7XG59XG5cbi5ib3JkZXItYm94IHtcbiAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgLyogYmFja2dyb3VuZC1jb2xvcjogZGFya2JsdWU7ICovXG4gIGNvbG9yOiBibGFjaztcbiAgbWFyZ2luOiA1cHg7XG4gIHBhZGRpbmc6IDVweDtcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG4uY2xlYXIge1xuICBjbGVhcjogYm90aDtcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["EventStatus","dayjs","i0","OrdersComponent","constructor","dataUtils","eventManager","productService","eventService","shopService","elementRef","activatedRoute","fb","route","supplierService","eventProductOrderService","sharedChatService","previousState","window","history","back","clickUserName","user","callClickName","ngOnInit","shopId","snapshot","paramMap","get","find","Number","subscribe","s","shop","body","products","queryProductsFromShop","id","prods","i","forEach","product","queryEventProductOrdersByProduct","epos","l","epo","event","dateStart","isAfter","status","PROCESSING","provisionallySoldProducts","push","DEFINITELY","definitelyConfirmed","selledProducts","length","sort","a","b","name","localeCompare","ngOnDestroy","seenChange","clickSeen","eventProductOrder","seen","update","approvedChange","approved","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/home/ceo/mmmm/createyourevent/src/main/webapp/app/supplier/orders/orders.component.ts","/home/ceo/mmmm/createyourevent/src/main/webapp/app/supplier/orders/orders.component.html"],"sourcesContent":["import { Component, OnInit, OnDestroy, ElementRef } from '@angular/core';\nimport { UntypedFormBuilder } from '@angular/forms';\nimport { ActivatedRoute } from '@angular/router';\nimport { SharedChatService } from 'app/chat.service';\nimport { EventStatus } from 'app/entities/enumerations/event-status.model';\nimport { IEventProductOrder } from 'app/entities/event-product-order/event-product-order.model';\nimport { EventProductOrderService } from 'app/entities/event-product-order/service/event-product-order.service';\nimport { IProduct } from 'app/entities/product/product.model';\nimport { ProductService } from 'app/entities/product/service/product.service';\nimport { ShopService } from 'app/entities/shop/service/shop.service';\nimport { IShop } from 'app/entities/shop/shop.model';\nimport { IUser } from 'app/entities/user/user.model';\nimport { EventService } from 'app/views/event/event.service';\nimport * as dayjs from 'dayjs';\nimport { JhiDataUtils, JhiEventManager } from 'ng-jhipster';\nimport { SupplierService } from '../supplier.service';\n\n@Component({\n  selector: 'jhi-orders',\n  templateUrl: './orders.component.html',\n  styleUrls: ['orders.scss'],\n})\nexport class OrdersComponent implements OnInit, OnDestroy {\n  shopId!: string;\n  shop!: IShop;\n  selledProducts: IEventProductOrder[] = [];\n  provisionallySoldProducts: IEventProductOrder[] = [];\n  clickSeen = false;\n\n  constructor(\n    protected dataUtils: JhiDataUtils,\n    protected eventManager: JhiEventManager,\n    protected productService: ProductService,\n    protected eventService: EventService,\n    protected shopService: ShopService,\n    protected elementRef: ElementRef,\n    protected activatedRoute: ActivatedRoute,\n    private fb: UntypedFormBuilder,\n    private route: ActivatedRoute,\n    private supplierService: SupplierService,\n    private eventProductOrderService: EventProductOrderService,\n    private sharedChatService: SharedChatService\n  ) {}\n\n  previousState(): void {\n    window.history.back();\n  }\n\n  clickUserName(user: IUser): void {\n    this.sharedChatService.callClickName(user);\n  }\n\n  ngOnInit(): void {\n    this.shopId = this.route.snapshot.paramMap.get('id')!;\n    this.shopService.find(Number(this.shopId)).subscribe(s => {\n      this.shop = s.body!;\n      let products: IProduct[] = [];\n      this.supplierService.queryProductsFromShop(Number(this.shop.id)).subscribe(prods => {\n        products = prods.body!;\n        let i = 0;\n        products.forEach(product => {\n          i++;\n          this.supplierService.queryEventProductOrdersByProduct(product.id!).subscribe(epos => {\n            let l = 0;\n            epos.body.forEach(epo => {\n              l++;\n              if (dayjs(epo.event.dateStart).isAfter(dayjs()) && epo.event.status === EventStatus.PROCESSING) {\n                this.provisionallySoldProducts.push(epo);\n              } else if (\n                dayjs(epo.event.dateStart).isAfter(dayjs()) &&\n                epo.event.status === EventStatus.DEFINITELY &&\n                epo.event.definitelyConfirmed === true\n              ) {\n                this.selledProducts.push(epo);\n              }\n              if (i === products.length && l === epos.body.length) {\n                this.provisionallySoldProducts = this.provisionallySoldProducts.sort(function (a, b) {\n                  return a.event.name.localeCompare(b.event.name);\n                });\n                this.provisionallySoldProducts = this.provisionallySoldProducts.sort(function (a, b) {\n                  return a.user.id.localeCompare(b.user.id);\n                });\n                this.selledProducts = this.selledProducts.sort(function (a, b) {\n                  return a.event.name.localeCompare(b.event.name);\n                });\n                this.selledProducts = this.selledProducts.sort(function (a, b) {\n                  return a.user.id.localeCompare(b.user.id);\n                });\n              }\n            });\n          });\n        });\n      });\n    });\n  }\n\n  ngOnDestroy(): void {}\n\n  seenChange(event: any, id: number): void {\n    this.clickSeen = true;\n    this.eventProductOrderService.find(id).subscribe(epo => {\n      const eventProductOrder = epo.body;\n      eventProductOrder.seen = true;\n      this.eventProductOrderService.update(eventProductOrder).subscribe(() => {\n        this.clickSeen = false;\n      });\n    });\n  }\n\n  approvedChange(event: any, id: number): void {\n    this.eventProductOrderService.find(id).subscribe(epo => {\n      const eventProductOrder = epo.body;\n      eventProductOrder.approved = true;\n\n      this.eventProductOrderService.update(eventProductOrder).subscribe();\n    });\n  }\n}\n","<div class=\"container-fluid\">\n\t<div class=\"row\">\n\t\t<div class=\"col-md-12\">\n            <h5><span jhiTranslate=\"orders.title\"></span>{{shop.name}}</h5>\n            <p>\n                <span jhiTranslate=\"orders.info\">Info</span>\n            </p>\n            <hr/>\n            <p-tabView>\n                <p-tabPanel header=\"{{ 'orders.provisionally' | translate }}\">\n\n                    <div class=\"cards\" *ngFor=\"let epo of provisionallySoldProducts\">\n                        <mat-card class=\"order-card\">\n                            <mat-card-header>\n                            <mat-card-title><span jhiTranslate=\"orders.eventproductorder\">Eventproductorder:</span> {{epo.id}}</mat-card-title>\n                            </mat-card-header>\n\n                            <mat-card-content>\n                                <dl class=\"row-md jh-entity-details\">\n                                    <dt><span jhiTranslate=\"orders.productname\">Produktname</span></dt>\n                                    <dd>\n                                        <a href=\"/products/{{epo.product.id}}/view\"><span>{{epo.product.title}} </span></a>\n                                    </dd>\n                                    <dt><span jhiTranslate=\"orders.quantity\">Quantity</span></dt>\n                                    <dd>\n                                        <span>{{epo.amount}}</span> {{ \"createyoureventApp.Unit.\" + epo.product.unit  | translate }}\n                                    </dd>\n                                    <hr/>\n                                    <ng-container *ngIf=\"epo.dateFrom && epo.dateUntil\">\n                                        <dt><span jhiTranslate=\"orders.dateFrom\">Date from</span></dt>\n                                        <dd>\n                                            <span>{{epo.dateFrom | date: 'mediumDate'}}</span>\n                                        </dd>\n                                        <hr/>\n                                        <dt><span jhiTranslate=\"orders.dateUntil\">Date until</span></dt>\n                                        <dd>\n                                            <span>{{epo.dateUntil | date: 'mediumDate'}}</span>\n                                        </dd>\n                                        <hr/>\n                                    </ng-container>\n                                    <dt><span jhiTranslate=\"orders.event\">Event</span></dt>\n                                    <dd>\n                                        <a href=\"/events/{{epo.event.id}}/view\"><span>{{ epo.event.name }}</span></a>\n                                    </dd>\n                                    <hr/>\n                                    <dt><span jhiTranslate=\"orders.customer\">Customer</span></dt>\n                                    <dd>\n                                        <a (click)=\"clickUserName(epo.user)\"><span >{{ epo.user.firstName }} {{ epo.user.lastName }}</span></a>\n                                    </dd>\n                                </dl>\n                                <hr/>\n                                <div class=\"border-box\">\n                                    <span jhiTranslate=\"orders.seen\">Seen</span>\n                                    <p-toggleButton (onChange)=\"seenChange($event, epo.id)\" [(ngModel)]=\"epo.seen\" [disabled]=\"epo.seen\" onIcon=\"pi pi-check\" offIcon=\"pi pi-times\"></p-toggleButton>\n                                </div>\n                                <div class=\"border-box\">\n                                    <span jhiTranslate=\"orders.approved\">Approved</span>\n                                    <p-toggleButton (onChange)=\"approvedChange($event, epo.id)\" [(ngModel)]=\"epo.approved\" [disabled]=\"epo.approved || !epo.seen || clickSeen\" onIcon=\"pi pi-check\" offIcon=\"pi pi-times\"></p-toggleButton>\n                                </div>\n                            </mat-card-content>\n                            <mat-card-actions>\n                            </mat-card-actions>\n                      </mat-card>\n                    </div>\n                    <div class=\"clear\"></div>\n                </p-tabPanel>\n                <p-tabPanel header=\"{{ 'orders.definitely' | translate }}\">\n\n                    <div class=\"cards\" *ngFor=\"let epo of selledProducts\">\n                        <mat-card class=\"order-card\">\n                            <mat-card-header>\n                            <mat-card-title><span jhiTranslate=\"orders.eventproductorder\">Eventproductorder:</span> {{epo.id}}</mat-card-title>\n                            </mat-card-header>\n\n                            <mat-card-content>\n                                <dl class=\"row-md jh-entity-details\">\n                                    <dt><span jhiTranslate=\"orders.productname\">Produktname</span></dt>\n                                    <dd>\n                                        <a href=\"/products/{{epo.product.id}}/view\"><span>{{epo.product.title}} </span></a>\n                                    </dd>\n                                    <dt><span jhiTranslate=\"orders.quantity\">Quantity</span></dt>\n                                    <dd>\n                                        <span>{{epo.amount}}</span>\n                                    </dd>\n                                    <hr/>\n                                    <ng-container *ngIf=\"epo.dateFrom && epo.dateUntil\">\n                                        <dt><span jhiTranslate=\"orders.dateFrom\">Date from</span></dt>\n                                        <dd>\n                                            <span>{{epo.dateFrom | date: 'mediumDate'}}</span>\n                                        </dd>\n                                        <hr/>\n                                        <dt><span jhiTranslate=\"orders.dateUntil\">Date until</span></dt>\n                                        <dd>\n                                            <span>{{epo.dateUntil | date: 'mediumDate'}}</span>\n                                        </dd>\n                                        <hr/>\n                                    </ng-container>\n                                    <dt><span jhiTranslate=\"orders.event\">Event</span></dt>\n                                    <dd>\n                                        <a href=\"/events/{{epo.event.id}}/view\"><span>{{ epo.event.name }}</span></a>\n                                    </dd>\n                                    <hr/>\n                                    <dt><span jhiTranslate=\"orders.customer\">Customer</span></dt>\n                                    <dd>\n                                        <span>{{ epo.user.firstName }} {{ epo.user.lastName }}</span>\n                                    </dd>\n                                </dl>\n                            </mat-card-content>\n                            <mat-card-actions>\n                            </mat-card-actions>\n                      </mat-card>\n                    </div>\n                    <div class=\"clear\"></div>\n                </p-tabPanel>\n            </p-tabView>\n\n\t  </div>\n    </div>\n    <div class=\"row\">\n\t\t<div class=\"col-md-12\">\n            <hr/>\n            <div class=\"btn-cancel\">\n                <button type=\"button\" id=\"cancel-save\" class=\"btn btn-secondary btn-cancel\" (click)=\"previousState()\">\n                  <fa-icon icon=\"ban\"></fa-icon>&nbsp;<span jhiTranslate=\"entity.action.cancel\">Cancel</span>\n              </button>\n            </div>\n\t\t</div>\n\t</div>\n\t<div class=\"row\">\n\t\t<div class=\"col-md-6\">\n\t\t</div>\n\t\t<div class=\"col-md-6\">\n\t\t</div>\n\t</div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}