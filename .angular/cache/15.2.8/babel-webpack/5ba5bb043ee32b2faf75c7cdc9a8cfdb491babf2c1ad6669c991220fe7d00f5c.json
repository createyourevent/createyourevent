{"ast":null,"code":"import React, { useState, useEffect } from 'react';\nimport Lightbox from '../../../content/scripts/Lightbox.js';\nconst Datatrans = ({\n  production,\n  transactionId,\n  onLoaded,\n  onOpened,\n  onCancelled,\n  onError\n}) => {\n  const [lightbox, showLightbox] = useState(false);\n  const [loading, setLoading] = useState(false);\n  let [tId, setTId] = useState('');\n  let [prod, setProd] = useState('');\n  const onClick = () => {\n    setLoading(true);\n    showLightbox(true);\n  };\n  const onLoadedReact = () => {\n    setLoading(false);\n    onLoaded();\n  };\n  const onOpenedReact = () => {\n    console.log('Opened');\n    onOpened();\n  };\n  const onCancelledReact = () => {\n    showLightbox(false);\n    onCancelled();\n  };\n  const onErrorReact = data => {\n    console.log('Error:', data);\n    setLoading(false);\n    showLightbox(false);\n    onError(data);\n  };\n  useEffect(() => {\n    if (transactionId) {\n      setTId(transactionId);\n    }\n    if (production) {\n      setProd(production);\n    }\n  }, [transactionId, production]);\n  return React.createElement(\"div\", null, loading ? React.createElement(\"span\", {\n    className: 'loader'\n  }) : React.createElement(\"button\", {\n    className: \"datatrans_button\",\n    onClick: onClick,\n    disabled: !tId\n  }, \"Bezahlen\"), lightbox && tId && React.createElement(Lightbox, {\n    transactionId: tId,\n    production: prod,\n    onLoaded: onLoadedReact,\n    onOpened: onOpenedReact,\n    onCancelled: onCancelledReact,\n    onError: onErrorReact\n  }));\n};\nexport default Datatrans;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}